(self.webpackChunkfenecan=self.webpackChunkfenecan||[]).push([[179],{2482:(Ke,Ne,B)=>{var l,ve,L;!function(te){if("object"==typeof Ke.exports){var Me=te(0,Ne);void 0!==Me&&(Ke.exports=Me)}else ve=[B,Ne],void 0!==(L="function"==typeof(l=te)?l.apply(Ne,ve):l)&&(Ke.exports=L)}(function(te,Me){"use strict";Object.defineProperty(Me,"__esModule",{value:!0});var ne=void 0;Me.default=["pt",[["AM","PM"],ne,ne],ne,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."],["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."]],ne,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],ne,[["a.C.","d.C."],ne,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",ne,ne,ne],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],JPY:["JP\xa5","\xa5"],PTE:["Esc."],RON:[ne,"L"],SYP:[ne,"S\xa3"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function(oe){var re=Math.floor(Math.abs(oe));return re===Math.floor(re)&&re>=0&&re<=1?1:5}]})},7716:(Ke,Ne,B)=>{"use strict";B.d(Ne,{deG:()=>Gu,tb:()=>Mm,AFp:()=>_m,ip1:()=>Wl,CZH:()=>Jo,hGG:()=>ME,z2F:()=>F0,sBO:()=>hM,Sil:()=>P0,_Vd:()=>s6,EJc:()=>Am,SBq:()=>I4,qLn:()=>n3,vpe:()=>D4,gxx:()=>xo,tBr:()=>li,XFs:()=>We,OlP:()=>It,zs3:()=>vt,ZZ4:()=>G8,aQg:()=>W8,soG:()=>oc,YKP:()=>lp,v3s:()=>tE,h0i:()=>c6,PXZ:()=>QA,R0b:()=>Hn,FiY:()=>h4,Lbi:()=>Cm,g9A:()=>bm,Qsj:()=>JC,FYo:()=>q8,JOm:()=>rr,Tiy:()=>bl,q3G:()=>et,tp0:()=>Qt,EAV:()=>oE,Rgc:()=>x0,dDg:()=>Sm,DyG:()=>$6,q4F:()=>Cl,GfV:()=>np,s_b:()=>Y8,ifc:()=>Qe,eFA:()=>Lm,G48:()=>ZA,Gpc:()=>ee,X6Q:()=>e9,_c5:()=>mE,VLi:()=>UA,c2e:()=>wm,zSh:()=>m0,wAp:()=>m1,vHH:()=>be,EiD:()=>C4,mCW:()=>K2,qzn:()=>y4,JVY:()=>t8,pB0:()=>K3,eBb:()=>lo,L6k:()=>t0,LAX:()=>zr,cg1:()=>ul,Tjo:()=>dE,kL8:()=>Ad,yhl:()=>e8,dqk:()=>it,sIi:()=>_0,CqO:()=>el,QGY:()=>X7,F4k:()=>Dh,dwT:()=>Yb,RDi:()=>V6,AaK:()=>oe,z3N:()=>Er,qOj:()=>y0,TTD:()=>z3,_Bn:()=>Jd,xp6:()=>sf,uIk:()=>Z7,ekj:()=>ol,Suo:()=>Jp,Xpm:()=>$1,lG2:()=>Na,Yz7:()=>W1,cJS:()=>zt,oAB:()=>C3,Yjl:()=>Es,Y36:()=>C0,_UZ:()=>Nh,BQk:()=>K7,ynx:()=>J7,qZA:()=>Y7,TgZ:()=>Q7,EpF:()=>Ih,n5z:()=>qs,Ikx:()=>ll,LFG:()=>X1,$8M:()=>Gs,NdJ:()=>tl,CRH:()=>Kp,kcU:()=>F6,O4$:()=>P6,oxw:()=>kh,ALo:()=>jp,lcZ:()=>qp,xi3:()=>Gp,Hsn:()=>Hh,F$t:()=>Oh,Q6J:()=>W7,s9C:()=>rl,MGl:()=>R8,DdM:()=>Op,VKq:()=>Hp,iGM:()=>Qp,MAs:()=>yh,evT:()=>r3,Jf7:()=>g8,CHM:()=>D3,oJD:()=>Ji,uOi:()=>Tr,LSH:()=>mo,kYT:()=>As,Udp:()=>il,YNc:()=>gh,_uU:()=>ad,Oqu:()=>sl,hij:()=>k8,AsE:()=>cl,Gf:()=>Yp});var l=B(9765),ve=B(5319),L=B(7574),te=B(6682),Me=B(8819);function ne(a){for(let s in a)if(a[s]===ne)return s;throw Error("Could not find renamed property on target object.")}function Ee(a,s){for(const u in s)s.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=s[u])}function oe(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(oe).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const s=a.toString();if(null==s)return""+s;const u=s.indexOf("\n");return-1===u?s:s.substring(0,u)}function re(a,s){return null==a||""===a?null===s?"":s:null==s||""===s?a:a+" "+s}const j=ne({__forward_ref__:ne});function ee(a){return a.__forward_ref__=ee,a.toString=function(){return oe(this())},a}function q(a){return K(a)?a():a}function K(a){return"function"==typeof a&&a.hasOwnProperty(j)&&a.__forward_ref__===ee}class be extends Error{constructor(s,u){super(function(a,s){return`${a?`NG0${a}: `:""}${s}`}(s,u)),this.code=s}}function Ie(a){return"string"==typeof a?a:null==a?"":String(a)}function Se(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Ie(a)}function Q1(a,s){const u=s?` in ${s}`:"";throw new be("201",`No provider for ${Se(a)} found${u}`)}function c1(a,s){null==a&&function(a,s,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${s} <=Actual]`))}(s,a,null,"!=")}function W1(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function zt(a){return{providers:a.providers||[],imports:a.imports||[]}}function Kt(a){return An(a,Z1)||An(a,n2)}function An(a,s){return a.hasOwnProperty(s)?a[s]:null}function Ti(a){return a&&(a.hasOwnProperty(L1)||a.hasOwnProperty(r2))?a[L1]:null}const Z1=ne({\u0275prov:ne}),L1=ne({\u0275inj:ne}),n2=ne({ngInjectableDef:ne}),r2=ne({ngInjectorDef:ne});var We=(()=>((We=We||{})[We.Default=0]="Default",We[We.Host=1]="Host",We[We.Self=2]="Self",We[We.SkipSelf=4]="SkipSelf",We[We.Optional=8]="Optional",We))();let yt;function Mt(a){const s=yt;return yt=a,s}function H4(a,s,u){const h=Kt(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&We.Optional?null:void 0!==s?s:void Q1(oe(a),"Injector")}function En(a){return{toString:a}.toString()}var Bt=(()=>((Bt=Bt||{})[Bt.OnPush=0]="OnPush",Bt[Bt.Default=1]="Default",Bt))(),Qe=(()=>((Qe=Qe||{})[Qe.Emulated=0]="Emulated",Qe[Qe.None=2]="None",Qe[Qe.ShadowDom=3]="ShadowDom",Qe))();const C1="undefined"!=typeof globalThis&&globalThis,Ta="undefined"!=typeof window&&window,Qr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G2="undefined"!=typeof global&&global,it=C1||G2||Ta||Qr,st={},Y=[],Q=ne({\u0275cmp:ne}),se=ne({\u0275dir:ne}),_e=ne({\u0275pipe:ne}),ce=ne({\u0275mod:ne}),Ze=ne({\u0275loc:ne}),a1=ne({\u0275fac:ne}),F1=ne({__NG_ELEMENT_ID__:ne});let ot=0;function $1(a){return En(()=>{const u={},h={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||Y,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Qe.Emulated,id:"c",styles:a.styles||Y,_:null,setInput:null,schemas:a.schemas||null,tView:null},m=a.directives,y=a.features,C=a.pipes;return h.id+=ot++,h.inputs=T6(a.inputs,u),h.outputs=T6(a.outputs),y&&y.forEach(w=>w(h)),h.directiveDefs=m?()=>("function"==typeof m?m():m).map(z2):null,h.pipeDefs=C?()=>("function"==typeof C?C():C).map(x2):null,h})}function z2(a){return f2(a)||function(a){return a[se]||null}(a)}function x2(a){return function(a){return a[_e]||null}(a)}const P4={};function C3(a){return En(()=>{const s={type:a.type,bootstrap:a.bootstrap||Y,declarations:a.declarations||Y,imports:a.imports||Y,exports:a.exports||Y,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(P4[a.id]=a.type),s})}function As(a,s){return En(()=>{const u=hn(a,!0);u.declarations=s.declarations||Y,u.imports=s.imports||Y,u.exports=s.exports||Y})}function T6(a,s){if(null==a)return st;const u={};for(const h in a)if(a.hasOwnProperty(h)){let m=a[h],y=m;Array.isArray(m)&&(y=m[1],m=m[0]),u[m]=h,s&&(s[m]=y)}return u}const Na=$1;function Es(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function f2(a){return a[Q]||null}function hn(a,s){const u=a[ce]||null;if(!u&&!0===s)throw new Error(`Type ${oe(a)} does not have '\u0275mod' property.`);return u}function wt(a){return Array.isArray(a)&&"object"==typeof a[1]}function dn(a){return Array.isArray(a)&&!0===a[1]}function w3(a){return 0!=(8&a.flags)}function T2(a){return 2==(2&a.flags)}function I6(a){return 1==(1&a.flags)}function Qn(a){return null!==a.template}function xn(a){return 0!=(512&a[2])}function mr(a,s){return a.hasOwnProperty(a1)?a[a1]:null}class La{constructor(s,u,h){this.previousValue=s,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function z3(){return L6}function L6(a){return a.type.prototype.ngOnChanges&&(a.setInput=Ss),xs}function xs(){const a=W4(this),s=null==a?void 0:a.current;if(s){const u=a.previous;if(u===st)a.previous=s;else for(let h in s)u[h]=s[h];a.current=null,this.ngOnChanges(s)}}function Ss(a,s,u,h){const m=W4(a)||function(a,s){return a[G4]=s}(a,{previous:st,current:null}),y=m.current||(m.current={}),C=m.previous,w=this.declaredInputs[u],z=C[w];y[w]=new La(z&&z.currentValue,s,C===st),a[h]=s}z3.ngInherit=!0;const G4="__ngSimpleChanges__";function W4(a){return a[G4]||null}const lt="http://www.w3.org/2000/svg";let R6;function V6(a){R6=a}function k6(){return void 0!==R6?R6:"undefined"!=typeof document?document:void 0}function _t(a){return!!a.listen}const y1={createRenderer:(a,s)=>k6()};function mt(a){for(;Array.isArray(a);)a=a[0];return a}function ki(a,s){return mt(s[a])}function pn(a,s){return mt(s[a.index])}function Kr(a,s){return a.data[s]}function Xr(a,s){return a[s]}function k2(a,s){const u=s[a];return wt(u)?u:u[0]}function Is(a){return 4==(4&a[2])}function Ds(a){return 128==(128&a[2])}function e4(a,s){return null==s?null:a[s]}function Ra(a){a[18]=0}function t4(a,s){a[5]+=s;let u=a,h=a[3];for(;null!==h&&(1===s&&1===u[5]||-1===s&&0===u[5]);)h[5]+=s,u=h,h=h[3]}const d1={lFrame:n4(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function C5(){return d1.bindingsEnabled}function Le(){return d1.lFrame.lView}function U1(){return d1.lFrame.tView}function D3(a){return d1.lFrame.contextLView=a,a[8]}function Et(){let a=L3();for(;null!==a&&64===a.type;)a=a.parent;return a}function L3(){return d1.lFrame.currentTNode}function N2(a,s){const u=d1.lFrame;u.currentTNode=a,u.isParent=s}function R3(){return d1.lFrame.isParent}function V3(){d1.lFrame.isParent=!1}function Q4(){return d1.isInCheckNoChangesMode}function vr(a){d1.isInCheckNoChangesMode=a}function kt(){const a=d1.lFrame;let s=a.bindingRootIndex;return-1===s&&(s=a.bindingRootIndex=a.tView.bindingStartIndex),s}function $2(){return d1.lFrame.bindingIndex}function gr(){return d1.lFrame.bindingIndex++}function mn(a){const s=d1.lFrame,u=s.bindingIndex;return s.bindingIndex=s.bindingIndex+a,u}function ks(a,s){const u=d1.lFrame;u.bindingIndex=u.bindingRootIndex=a,O2(s)}function O2(a){d1.lFrame.currentDirectiveIndex=a}function O6(){return d1.lFrame.currentQueryIndex}function Y4(a){d1.lFrame.currentQueryIndex=a}function Os(a){const s=a[1];return 2===s.type?s.declTNode:1===s.type?a[6]:null}function ka(a,s,u){if(u&We.SkipSelf){let m=s,y=a;for(;!(m=m.parent,null!==m||u&We.Host||(m=Os(y),null===m||(y=y[15],10&m.type))););if(null===m)return!1;s=m,a=y}const h=d1.lFrame=H6();return h.currentTNode=s,h.lView=a,!0}function J4(a){const s=H6(),u=a[1];d1.lFrame=s,s.currentTNode=u.firstChild,s.lView=a,s.tView=u,s.contextLView=a,s.bindingIndex=u.bindingStartIndex,s.inI18n=!1}function H6(){const a=d1.lFrame,s=null===a?null:a.child;return null===s?n4(a):s}function n4(a){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=s),s}function Hs(){const a=d1.lFrame;return d1.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const E5=Hs;function yr(){const a=Hs();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function qt(){return d1.lFrame.selectedIndex}function Tn(a){d1.lFrame.selectedIndex=a}function Tt(){const a=d1.lFrame;return Kr(a.tView,a.selectedIndex)}function P6(){d1.lFrame.currentNamespace=lt}function F6(){d1.lFrame.currentNamespace=null}function r4(a,s){for(let u=s.directiveStart,h=s.directiveEnd;u<h;u++){const y=a.data[u].type.prototype,{ngAfterContentInit:C,ngAfterContentChecked:w,ngAfterViewInit:z,ngAfterViewChecked:T,ngOnDestroy:D}=y;C&&(a.contentHooks||(a.contentHooks=[])).push(-u,C),w&&((a.contentHooks||(a.contentHooks=[])).push(u,w),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,w)),z&&(a.viewHooks||(a.viewHooks=[])).push(-u,z),T&&((a.viewHooks||(a.viewHooks=[])).push(u,T),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,T)),null!=D&&(a.destroyHooks||(a.destroyHooks=[])).push(u,D)}}function i4(a,s,u){o4(a,s,3,u)}function O3(a,s,u,h){(3&a[2])===u&&o4(a,s,u,h)}function H3(a,s){let u=a[2];(3&u)===s&&(u&=2047,u+=1,a[2]=u)}function o4(a,s,u,h){const y=null!=h?h:-1,C=s.length-1;let w=0;for(let z=void 0!==h?65535&a[18]:0;z<C;z++)if("number"==typeof s[z+1]){if(w=s[z],null!=h&&w>=h)break}else s[z]<0&&(a[18]+=65536),(w<y||-1==y)&&(Ps(a,u,s,z),a[18]=(4294901760&a[18])+z+2),z++}function Ps(a,s,u,h){const m=u[h]<0,y=u[h+1],w=a[m?-u[h]:u[h]];if(m){if(a[2]>>11<a[18]>>16&&(3&a[2])===s){a[2]+=2048;try{y.call(w)}finally{}}}else try{y.call(w)}finally{}}class Hi{constructor(s,u,h){this.factory=s,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function U6(a,s,u){const h=_t(a);let m=0;for(;m<u.length;){const y=u[m];if("number"==typeof y){if(0!==y)break;m++;const C=u[m++],w=u[m++],z=u[m++];h?a.setAttribute(s,w,z,C):s.setAttributeNS(C,w,z)}else{const C=y,w=u[++m];Nn(C)?h&&a.setProperty(s,C,w):h?a.setAttribute(s,C,w):s.setAttribute(C,w),m++}}return m}function Ha(a){return 3===a||4===a||6===a}function Nn(a){return 64===a.charCodeAt(0)}function F3(a,s){if(null!==s&&0!==s.length)if(null===a||0===a.length)a=s.slice();else{let u=-1;for(let h=0;h<s.length;h++){const m=s[h];"number"==typeof m?u=m:0===u||Us(a,u,m,null,-1===u||2===u?s[++h]:null)}}return a}function Us(a,s,u,h,m){let y=0,C=a.length;if(-1===s)C=-1;else for(;y<a.length;){const w=a[y++];if("number"==typeof w){if(w===s){C=-1;break}if(w>s){C=y-1;break}}}for(;y<a.length;){const w=a[y];if("number"==typeof w)break;if(w===u){if(null===h)return void(null!==m&&(a[y+1]=m));if(h===a[y+1])return void(a[y+2]=m)}y++,null!==h&&y++,null!==m&&y++}-1!==C&&(a.splice(C,0,s),y=C+1),a.splice(y++,0,u),null!==h&&a.splice(y++,0,h),null!==m&&a.splice(y++,0,m)}function Z6(a){return-1!==a}function K4(a){return 32767&a}function U3(a,s){let u=function(a){return a>>16}(a),h=s;for(;u>0;)h=h[15],u--;return h}let Zs=!0;function X4(a){const s=Zs;return Zs=a,s}let qu=0;function Pi(a,s){const u=ut(a,s);if(-1!==u)return u;const h=s[1];h.firstCreatePass&&(a.injectorIndex=s.length,Fa(h.data,a),Fa(s,null),Fa(h.blueprint,null));const m=$e(a,s),y=a.injectorIndex;if(Z6(m)){const C=K4(m),w=U3(m,s),z=w[1].data;for(let T=0;T<8;T++)s[y+T]=w[C+T]|z[C+T]}return s[y+8]=m,y}function Fa(a,s){a.push(0,0,0,0,0,0,0,0,s)}function ut(a,s){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===s[a.injectorIndex+8]?-1:a.injectorIndex}function $e(a,s){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,m=s;for(;null!==m;){const y=m[1],C=y.type;if(h=2===C?y.declTNode:1===C?m[6]:null,null===h)return-1;if(u++,m=m[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function Nt(a,s,u){!function(a,s,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(F1)&&(h=u[F1]),null==h&&(h=u[F1]=qu++);const m=255&h;s.data[a+(m>>5)]|=1<<m}(a,s,u)}function Y2(a,s,u){if(u&We.Optional)return a;Q1(s,"NodeInjector")}function Ua(a,s,u,h){if(u&We.Optional&&void 0===h&&(h=null),0==(u&(We.Self|We.Host))){const m=a[9],y=Mt(void 0);try{return m?m.get(s,h,u&We.Optional):H4(s,h,u&We.Optional)}finally{Mt(y)}}return Y2(h,s,u)}function q6(a,s,u,h=We.Default,m){if(null!==a){const y=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const s=a.hasOwnProperty(F1)?a[F1]:void 0;return"number"==typeof s?s>=0?255&s:Za:s}(u);if("function"==typeof y){if(!ka(s,a,h))return h&We.Host?Y2(m,u,h):Ua(s,u,h,m);try{const C=y(h);if(null!=C||h&We.Optional)return C;Q1(u)}finally{E5()}}else if("number"==typeof y){let C=null,w=ut(a,s),z=-1,T=h&We.Host?s[16][6]:null;for((-1===w||h&We.SkipSelf)&&(z=-1===w?$e(a,s):s[w+8],-1!==z&&Z3(h,!1)?(C=s[1],w=K4(z),s=U3(z,s)):w=-1);-1!==w;){const D=s[1];if(Ba(y,w,D.data)){const k=G6(w,s,u,C,h,T);if(k!==p2)return k}z=s[w+8],-1!==z&&Z3(h,s[1].data[w+8]===T)&&Ba(y,w,s)?(C=D,w=K4(z),s=U3(z,s)):w=-1}}}return Ua(s,u,h,m)}const p2={};function Za(){return new Ui(Et(),Le())}function G6(a,s,u,h,m,y){const C=s[1],w=C.data[a+8],D=Fi(w,C,u,null==h?T2(w)&&Zs:h!=C&&0!=(3&w.type),m&We.Host&&y===w);return null!==D?Ot(s,C,D,w):p2}function Fi(a,s,u,h,m){const y=a.providerIndexes,C=s.data,w=1048575&y,z=a.directiveStart,D=y>>20,F=m?w+D:a.directiveEnd;for(let W=h?w:w+D;W<F;W++){const X=C[W];if(W<z&&u===X||W>=z&&X.type===u)return W}if(m){const W=C[z];if(W&&Qn(W)&&W.type===u)return z}return null}function Ot(a,s,u,h){let m=a[u];const y=s.data;if(function(a){return a instanceof Hi}(m)){const C=m;C.resolving&&function(a,s){throw new be("200",`Circular dependency in DI detected for ${a}`)}(Se(y[u]));const w=X4(C.canSeeViewProviders);C.resolving=!0;const z=C.injectImpl?Mt(C.injectImpl):null;ka(a,h,We.Default);try{m=a[u]=C.factory(void 0,y,a,h),s.firstCreatePass&&u>=h.directiveStart&&function(a,s,u){const{ngOnChanges:h,ngOnInit:m,ngDoCheck:y}=s.type.prototype;if(h){const C=L6(s);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,C),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,C)}m&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,m),y&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,y))}(u,y[u],s)}finally{null!==z&&Mt(z),X4(w),C.resolving=!1,E5()}}return m}function Ba(a,s,u){return!!(u[s+(a>>5)]&1<<a)}function Z3(a,s){return!(a&We.Self||a&We.Host&&s)}class Ui{constructor(s,u){this._tNode=s,this._lView=u}get(s,u){return q6(this._tNode,this._lView,s,void 0,u)}}function qs(a){return En(()=>{const s=a.prototype.constructor,u=s[a1]||ja(s),h=Object.prototype;let m=Object.getPrototypeOf(a.prototype).constructor;for(;m&&m!==h;){const y=m[a1]||ja(m);if(y&&y!==u)return y;m=Object.getPrototypeOf(m)}return y=>new y})}function ja(a){return K(a)?()=>{const s=ja(q(a));return s&&s()}:mr(a)}function Gs(a){return function(a,s){if("class"===s)return a.classes;if("style"===s)return a.styles;const u=a.attrs;if(u){const h=u.length;let m=0;for(;m<h;){const y=u[m];if(Ha(y))break;if(0===y)m+=2;else if("number"==typeof y)for(m++;m<h&&"string"==typeof u[m];)m++;else{if(y===s)return u[m+1];m+=2}}}return null}(Et(),a)}const br="__parameters__";function Cr(a,s,u){return En(()=>{const h=function(a){return function(...u){if(a){const h=a(...u);for(const m in h)this[m]=h[m]}}}(s);function m(...y){if(this instanceof m)return h.apply(this,y),this;const C=new m(...y);return w.annotation=C,w;function w(z,T,D){const k=z.hasOwnProperty(br)?z[br]:Object.defineProperty(z,br,{value:[]})[br];for(;k.length<=D;)k.push(null);return(k[D]=k[D]||[]).push(C),z}}return u&&(m.prototype=Object.create(u.prototype)),m.prototype.ngMetadataName=a,m.annotationCls=m,m})}class It{constructor(s,u){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=W1({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Gu=new It("AnalyzeForEntryComponents"),$6=Function;function gn(a,s){void 0===s&&(s=a);for(let u=0;u<a.length;u++){let h=a[u];Array.isArray(h)?(s===a&&(s=a.slice(0,u)),gn(h,s)):s!==a&&s.push(h)}return s}function o2(a,s){a.forEach(u=>Array.isArray(u)?o2(u,s):s(u))}function wr(a,s,u){s>=a.length?a.push(u):a.splice(s,0,u)}function ri(a,s){return s>=a.length-1?a.pop():a.splice(s,1)[0]}function l4(a,s){const u=[];for(let h=0;h<a;h++)u.push(s);return u}function $t(a,s,u){let h=ii(a,s);return h>=0?a[1|h]=u:(h=~h,function(a,s,u,h){let m=a.length;if(m==s)a.push(u,h);else if(1===m)a.push(h,a[0]),a[0]=u;else{for(m--,a.push(a[m-1],a[m]);m>s;)a[m]=a[m-2],m--;a[s]=u,a[s+1]=h}}(a,h,s,u)),h}function Ht(a,s){const u=ii(a,s);if(u>=0)return a[1|u]}function ii(a,s){return function(a,s,u){let h=0,m=a.length>>u;for(;m!==h;){const y=h+(m-h>>1),C=a[y<<u];if(s===C)return y<<u;C>s?m=y:h=y+1}return~(m<<u)}(a,s,1)}const G3={},Wa="__NG_DI_FLAG__",qi="ngTempTokenPath",$a=/\n/gm,Qa="__source",Gi=ne({provide:String,useValue:ne});let u4;function b1(a){const s=u4;return u4=a,s}function eo(a,s=We.Default){if(void 0===u4)throw new Error("inject() must be called from an injection context");return null===u4?H4(a,void 0,s):u4.get(a,s&We.Optional?null:void 0,s)}function X1(a,s=We.Default){return(yt||eo)(q(a),s)}function si(a){const s=[];for(let u=0;u<a.length;u++){const h=q(a[u]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let m,y=We.Default;for(let C=0;C<h.length;C++){const w=h[C],z=Js(w);"number"==typeof z?-1===z?m=w.token:y|=z:m=w}s.push(X1(m,y))}else s.push(X1(h))}return s}function f4(a,s){return a[Wa]=s,a.prototype[Wa]=s,a}function Js(a){return a[Wa]}function Ln(a,s,u,h){const m=a[qi];throw s[Qa]&&m.unshift(s[Qa]),a.message=function(a,s,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let m=oe(s);if(Array.isArray(s))m=s.map(oe).join(" -> ");else if("object"==typeof s){let y=[];for(let C in s)if(s.hasOwnProperty(C)){let w=s[C];y.push(C+":"+("string"==typeof w?JSON.stringify(w):oe(w)))}m=`{${y.join(", ")}}`}return`${u}${h?"("+h+")":""}[${m}]: ${a.replace($a,"\n  ")}`}("\n"+a.message,m,u,h),a.ngTokenPath=m,a[qi]=null,a}const li=f4(Cr("Inject",a=>({token:a})),-1),h4=f4(Cr("Optional"),8),Qt=f4(Cr("SkipSelf"),4);let v4,oo;function Ft(a){var s;return(null===(s=function(){if(void 0===v4&&(v4=null,it.trustedTypes))try{v4=it.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return v4}())||void 0===s?void 0:s.createHTML(a))||a}function Y3(){if(void 0===oo&&(oo=null,it.trustedTypes))try{oo=it.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return oo}function J3(a){var s;return(null===(s=Y3())||void 0===s?void 0:s.createHTML(a))||a}function ui(a){var s;return(null===(s=Y3())||void 0===s?void 0:s.createScriptURL(a))||a}class g4{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class P5 extends g4{getTypeName(){return"HTML"}}class Xs extends g4{getTypeName(){return"Style"}}class so extends g4{getTypeName(){return"Script"}}class e0 extends g4{getTypeName(){return"URL"}}class co extends g4{getTypeName(){return"ResourceURL"}}function Er(a){return a instanceof g4?a.changingThisBreaksApplicationSecurity:a}function y4(a,s){const u=e8(a);if(null!=u&&u!==s){if("ResourceURL"===u&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===s}function e8(a){return a instanceof g4&&a.getTypeName()||null}function t8(a){return new P5(a)}function t0(a){return new Xs(a)}function lo(a){return new so(a)}function zr(a){return new e0(a)}function K3(a){return new co(a)}class uo{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const u=(new window.DOMParser).parseFromString(Ft(s),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(s):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class n8{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(s){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Ft(s),u;const h=this.inertDocument.createElement("body");return h.innerHTML=Ft(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(s){const u=s.attributes;for(let m=u.length-1;0<m;m--){const C=u.item(m).name;("xmlns:ns1"===C||0===C.indexOf("ns1:"))&&s.removeAttribute(C)}let h=s.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const r8=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,xr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function K2(a){return(a=String(a)).match(r8)||a.match(xr)?a:"unsafe:"+a}function X2(a){const s={};for(const u of a.split(","))s[u]=!0;return s}function er(...a){const s={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(s[h]=!0);return s}const ho=X2("area,br,col,hr,img,wbr"),fi=X2("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),X3=X2("rp,rt"),Qi=er(ho,er(fi,X2("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),er(X3,X2("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),er(X3,fi)),b4=X2("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sr=X2("srcset"),e6=er(b4,Sr,X2("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),X2("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),B5=X2("script,style,template");class po{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let u=s.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let m=this.checkClobberedElement(u,u.nextSibling);if(m){u=m;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(s){const u=s.nodeName.toLowerCase();if(!Qi.hasOwnProperty(u))return this.sanitizedSomething=!0,!B5.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=s.attributes;for(let m=0;m<h.length;m++){const y=h.item(m),C=y.name,w=C.toLowerCase();if(!e6.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let z=y.value;b4[w]&&(z=K2(z)),Sr[w]&&(a=z,z=(a=String(a)).split(",").map(s=>K2(s.trim())).join(", ")),this.buf.push(" ",C,'="',c8(z),'"')}var a;return this.buf.push(">"),!0}endElement(s){const u=s.nodeName.toLowerCase();Qi.hasOwnProperty(u)&&!ho.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(s){this.buf.push(c8(s))}checkClobberedElement(s,u){if(u&&(s.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return u}}const a8=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s8=/([^\#-~ |!])/g;function c8(a){return a.replace(/&/g,"&amp;").replace(a8,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(s8,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let m2;function C4(a,s){let u=null;try{m2=m2||function(a){const s=new n8(a);return function(){try{return!!(new window.DOMParser).parseFromString(Ft(""),"text/html")}catch(a){return!1}}()?new uo(s):s}(a);let h=s?String(s):"";u=m2.getInertBodyElement(h);let m=5,y=h;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,h=y,y=u.innerHTML,u=m2.getInertBodyElement(h)}while(h!==y);return Ft((new po).sanitizeChildren(tr(u)||u))}finally{if(u){const h=tr(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function tr(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var et=(()=>((et=et||{})[et.NONE=0]="NONE",et[et.HTML=1]="HTML",et[et.STYLE=2]="STYLE",et[et.SCRIPT=3]="SCRIPT",et[et.URL=4]="URL",et[et.RESOURCE_URL=5]="RESOURCE_URL",et))();function Ji(a){const s=Xi();return s?J3(s.sanitize(et.HTML,a)||""):y4(a,"HTML")?J3(Er(a)):C4(k6(),Ie(a))}function mo(a){const s=Xi();return s?s.sanitize(et.URL,a)||"":y4(a,"URL")?Er(a):K2(Ie(a))}function Tr(a){const s=Xi();if(s)return ui(s.sanitize(et.RESOURCE_URL,a)||"");if(y4(a,"ResourceURL"))return ui(Er(a));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Xi(){const a=Le();return a&&a[12]}const di="__ngContext__";function Yt(a,s){a[di]=s}function vo(a){const s=function(a){return a[di]||null}(a);return s?Array.isArray(s)?s:s.lView:null}function mi(a){return a.ngOriginalError}function Q5(a,...s){a.error(...s)}class n3{constructor(){this._console=console}handleError(s){const u=this._findOriginalError(s),h=this._findContext(s),m=(a=s)&&a.ngErrorLogger||Q5;var a;m(this._console,"ERROR",s),u&&m(this._console,"ORIGINAL ERROR",u),h&&m(this._console,"ERROR CONTEXT",h)}_findContext(s){return s?s.ngDebugContext||this._findContext(mi(s)):null}_findOriginalError(s){let u=s&&mi(s);for(;u&&mi(u);)u=mi(u);return u||null}}const v8=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(it))();function g8(a){return a.ownerDocument.defaultView}function r3(a){return a.ownerDocument}function nr(a){return a instanceof Function?a():a}var rr=(()=>((rr=rr||{})[rr.Important=1]="Important",rr[rr.DashCase=2]="DashCase",rr))();function A4(a,s){return undefined(a,s)}function z4(a){const s=a[3];return dn(s)?s[3]:s}function bo(a){return u0(a[13])}function M8(a){return u0(a[4])}function u0(a){for(;null!==a&&!dn(a);)a=a[4];return a}function vi(a,s,u,h,m){if(null!=h){let y,C=!1;dn(h)?y=h:wt(h)&&(C=!0,h=h[0]);const w=mt(h);0===a&&null!==u?null==m?V(s,u,w):N(s,u,w,m||null,!0):1===a&&null!==u?N(s,u,w,m||null,!0):2===a?function(a,s,u){const h=G(a,s);h&&function(a,s,u,h){_t(a)?a.removeChild(s,u,h):s.removeChild(u)}(a,h,s,u)}(s,w,C):3===a&&s.destroyNode(w),null!=y&&function(a,s,u,h,m){const y=u[7];y!==mt(u)&&vi(s,a,h,y,m);for(let w=10;w<u.length;w++){const z=u[w];gi(z[1],z,a,s,h,y)}}(s,a,y,u,m)}}function f0(a,s,u){return _t(a)?a.createElement(s,u):null===u?a.createElement(s):a.createElementNS(u,s)}function Mo(a,s){const u=a[9],h=u.indexOf(s),m=s[3];1024&s[2]&&(s[2]&=-1025,t4(m,-1)),u.splice(h,1)}function wo(a,s){if(a.length<=10)return;const u=10+s,h=a[u];if(h){const m=h[17];null!==m&&m!==a&&Mo(m,h),s>0&&(a[u-1][4]=h[4]);const y=ri(a,10+s);!function(a,s){gi(a,s,s[11],2,null,null),s[0]=null,s[6]=null}(h[1],h);const C=y[19];null!==C&&C.detachView(y[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function p(a,s){if(!(256&s[2])){const u=s[11];_t(u)&&u.destroyNode&&gi(a,s,u,3,null,null),function(a){let s=a[13];if(!s)return d(a[1],a);for(;s;){let u=null;if(wt(s))u=s[13];else{const h=s[10];h&&(u=h)}if(!u){for(;s&&!s[4]&&s!==a;)wt(s)&&d(s[1],s),s=s[3];null===s&&(s=a),wt(s)&&d(s[1],s),u=s&&s[4]}s=u}}(s)}}function d(a,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(a,s){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const m=s[u[h]];if(!(m instanceof Hi)){const y=u[h+1];if(Array.isArray(y))for(let C=0;C<y.length;C+=2){const w=m[y[C]],z=y[C+1];try{z.call(w)}finally{}}else try{y.call(m)}finally{}}}}(a,s),function(a,s){const u=a.cleanup,h=s[7];let m=-1;if(null!==u)for(let y=0;y<u.length-1;y+=2)if("string"==typeof u[y]){const C=u[y+1],w="function"==typeof C?C(s):mt(s[C]),z=h[m=u[y+2]],T=u[y+3];"boolean"==typeof T?w.removeEventListener(u[y],z,T):T>=0?h[m=T]():h[m=-T].unsubscribe(),y+=2}else{const C=h[m=u[y+1]];u[y].call(C)}if(null!==h){for(let y=m+1;y<h.length;y++)h[y]();s[7]=null}}(a,s),1===s[1].type&&_t(s[11])&&s[11].destroy();const u=s[17];if(null!==u&&dn(s[3])){u!==s[3]&&Mo(u,s);const h=s[19];null!==h&&h.detachView(a)}}}function A(a,s,u){return function(a,s,u){let h=s;for(;null!==h&&40&h.type;)h=(s=h).parent;if(null===h)return u[0];if(2&h.flags){const m=a.data[h.directiveStart].encapsulation;if(m===Qe.None||m===Qe.Emulated)return null}return pn(h,u)}(a,s.parent,u)}function N(a,s,u,h,m){_t(a)?a.insertBefore(s,u,h,m):s.insertBefore(u,h,m)}function V(a,s,u){_t(a)?a.appendChild(s,u):s.appendChild(u)}function P(a,s,u,h,m){null!==h?N(a,s,u,h,m):V(a,s,u)}function G(a,s){return _t(a)?a.parentNode(s):s.parentNode}function we(a,s,u){return Fe(a,s,u)}let Fe=function(a,s,u){return 40&a.type?pn(a,u):null};function v1(a,s,u,h){const m=A(a,h,s),y=s[11],w=we(h.parent||s[6],h,s);if(null!=m)if(Array.isArray(u))for(let z=0;z<u.length;z++)P(y,m,u[z],w,!1);else P(y,m,u,w,!1)}function Dt(a,s){if(null!==s){const u=s.type;if(3&u)return pn(s,a);if(4&u)return o3(-1,a[s.index]);if(8&u){const h=s.child;if(null!==h)return Dt(a,h);{const m=a[s.index];return dn(m)?o3(-1,m):mt(m)}}if(32&u)return A4(s,a)()||mt(a[s.index]);{const h=yn(a,s);return null!==h?Array.isArray(h)?h[0]:Dt(z4(a[16]),h):Dt(a,s.next)}}return null}function yn(a,s){return null!==s?a[16][6].projection[s.projection]:null}function o3(a,s){const u=10+a+1;if(u<s.length){const h=s[u],m=h[1].firstChild;if(null!==m)return Dt(h,m)}return s[7]}function a3(a,s,u,h,m,y,C){for(;null!=u;){const w=h[u.index],z=u.type;if(C&&0===s&&(w&&Yt(mt(w),h),u.flags|=4),64!=(64&u.flags))if(8&z)a3(a,s,u.child,h,m,y,!1),vi(s,a,m,w,y);else if(32&z){const T=A4(u,h);let D;for(;D=T();)vi(s,a,m,D,y);vi(s,a,m,w,y)}else 16&z?s3(a,s,h,u,m,y):vi(s,a,m,w,y);u=C?u.projectionNext:u.next}}function gi(a,s,u,h,m,y){a3(u,h,a.firstChild,s,m,y,!1)}function s3(a,s,u,h,m,y){const C=u[16],z=C[6].projection[h.projection];if(Array.isArray(z))for(let T=0;T<z.length;T++)vi(s,a,m,z[T],y);else a3(a,s,z,C[3],m,y,!0)}function nf(a,s,u){_t(a)?a.setAttribute(s,"style",u):s.style.cssText=u}function c7(a,s,u){_t(a)?""===u?a.removeAttribute(s,"class"):a.setAttribute(s,"class",u):s.className=u}function l7(a,s,u){let h=a.length;for(;;){const m=a.indexOf(s,u);if(-1===m)return m;if(0===m||a.charCodeAt(m-1)<=32){const y=s.length;if(m+y===h||a.charCodeAt(m+y)<=32)return m}u=m+1}}const rf="ng-template";function hy(a,s,u){let h=0;for(;h<a.length;){let m=a[h++];if(u&&"class"===m){if(m=a[h],-1!==l7(m.toLowerCase(),s,0))return!0}else if(1===m){for(;h<a.length&&"string"==typeof(m=a[h++]);)if(m.toLowerCase()===s)return!0;return!1}}return!1}function u7(a){return 4===a.type&&a.value!==rf}function dy(a,s,u){return s===(4!==a.type||u?a.value:rf)}function py(a,s,u){let h=4;const m=a.attrs||[],y=function(a){for(let s=0;s<a.length;s++)if(Ha(a[s]))return s;return a.length}(m);let C=!1;for(let w=0;w<s.length;w++){const z=s[w];if("number"!=typeof z){if(!C)if(4&h){if(h=2|1&h,""!==z&&!dy(a,z,u)||""===z&&1===s.length){if(Nr(h))return!1;C=!0}}else{const T=8&h?z:s[++w];if(8&h&&null!==a.attrs){if(!hy(a.attrs,T,u)){if(Nr(h))return!1;C=!0}continue}const k=f7(8&h?"class":z,m,u7(a),u);if(-1===k){if(Nr(h))return!1;C=!0;continue}if(""!==T){let F;F=k>y?"":m[k+1].toLowerCase();const W=8&h?F:null;if(W&&-1!==l7(W,T,0)||2&h&&T!==F){if(Nr(h))return!1;C=!0}}}}else{if(!C&&!Nr(h)&&!Nr(z))return!1;if(C&&Nr(z))continue;C=!1,h=z|1&h}}return Nr(h)||C}function Nr(a){return 0==(1&a)}function f7(a,s,u,h){if(null===s)return-1;let m=0;if(h||!u){let y=!1;for(;m<s.length;){const C=s[m];if(C===a)return m;if(3===C||6===C)y=!0;else{if(1===C||2===C){let w=s[++m];for(;"string"==typeof w;)w=s[++m];continue}if(4===C)break;if(0===C){m+=4;continue}}m+=y?1:2}return-1}return function(a,s){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===s)return u;u++}return-1}(s,a)}function of(a,s,u=!1){for(let h=0;h<s.length;h++)if(py(a,s[h],u))return!0;return!1}function QT(a,s){e:for(let u=0;u<s.length;u++){const h=s[u];if(a.length===h.length){for(let m=0;m<a.length;m++)if(a[m]!==h[m])continue e;return!0}}return!1}function gy(a,s){return a?":not("+s.trim()+")":s}function yy(a){let s=a[0],u=1,h=2,m="",y=!1;for(;u<a.length;){let C=a[u];if("string"==typeof C)if(2&h){const w=a[++u];m+="["+C+(w.length>0?'="'+w+'"':"")+"]"}else 8&h?m+="."+C:4&h&&(m+=" "+C);else""!==m&&!Nr(C)&&(s+=gy(y,m),m=""),h=C,y=y||!Nr(h);u++}return""!==m&&(s+=gy(y,m)),s}const E1={};function sf(a){cf(U1(),Le(),qt()+a,Q4())}function cf(a,s,u,h){if(!h)if(3==(3&s[2])){const y=a.preOrderCheckHooks;null!==y&&i4(s,y,u)}else{const y=a.preOrderHooks;null!==y&&O3(s,y,0,u)}Tn(u)}function A8(a,s){return a<<17|s<<2}function Ir(a){return a>>17&32767}function h7(a){return 2|a}function yi(a){return(131068&a)>>2}function d7(a,s){return-131069&a|s<<2}function p7(a){return 1|a}function yf(a,s){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const m=u[h],y=u[h+1];if(-1!==y){const C=a.data[y];Y4(m),C.contentQueries(2,s[y],y)}}}function d0(a,s,u,h,m,y,C,w,z,T){const D=s.blueprint.slice();return D[0]=m,D[2]=140|h,Ra(D),D[3]=D[15]=a,D[8]=u,D[10]=C||a&&a[10],D[11]=w||a&&a[11],D[12]=z||a&&a[12]||null,D[9]=T||a&&a[9]||null,D[6]=y,D[16]=2==s.type?a[16]:D,D}function Ao(a,s,u,h,m){let y=a.data[s];if(null===y)y=function(a,s,u,h,m){const y=L3(),C=R3(),z=a.data[s]=function(a,s,u,h,m,y){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,C?y:y&&y.parent,u,s,h,m);return null===a.firstChild&&(a.firstChild=z),null!==y&&(C?null==y.child&&null!==z.parent&&(y.child=z):null===y.next&&(y.next=z)),z}(a,s,u,h,m),d1.lFrame.inI18n&&(y.flags|=64);else if(64&y.type){y.type=u,y.value=h,y.attrs=m;const C=function(){const a=d1.lFrame,s=a.currentTNode;return a.isParent?s:s.parent}();y.injectorIndex=null===C?-1:C.injectorIndex}return N2(y,!0),y}function Eo(a,s,u,h){if(0===u)return-1;const m=s.length;for(let y=0;y<u;y++)s.push(h),a.blueprint.push(h),a.data.push(null);return m}function p0(a,s,u){J4(s);try{const h=a.viewQuery;null!==h&&N7(1,h,u);const m=a.template;null!==m&&_f(a,s,m,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&yf(a,s),a.staticViewQueries&&N7(2,a.viewQuery,u);const y=a.components;null!==y&&function(a,s){for(let u=0;u<s.length;u++)Jy(a,s[u])}(s,y)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{s[2]&=-5,yr()}}function zo(a,s,u,h){const m=s[2];if(256==(256&m))return;J4(s);const y=Q4();try{Ra(s),function(a){d1.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&_f(a,s,u,2,h);const C=3==(3&m);if(!y)if(C){const T=a.preOrderCheckHooks;null!==T&&i4(s,T,null)}else{const T=a.preOrderHooks;null!==T&&O3(s,T,0,null),H3(s,0)}if(function(a){for(let s=bo(a);null!==s;s=M8(s)){if(!s[2])continue;const u=s[9];for(let h=0;h<u.length;h++){const m=u[h],y=m[3];0==(1024&m[2])&&t4(y,1),m[2]|=1024}}}(s),function(a){for(let s=bo(a);null!==s;s=M8(s))for(let u=10;u<s.length;u++){const h=s[u],m=h[1];Ds(h)&&zo(m,h,m.template,h[8])}}(s),null!==a.contentQueries&&yf(a,s),!y)if(C){const T=a.contentCheckHooks;null!==T&&i4(s,T)}else{const T=a.contentHooks;null!==T&&O3(s,T,1),H3(s,1)}!function(a,s){const u=a.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const m=u[h];if(m<0)Tn(~m);else{const y=m,C=u[++h],w=u[++h];ks(C,y),w(2,s[y])}}}finally{Tn(-1)}}(a,s);const w=a.components;null!==w&&function(a,s){for(let u=0;u<s.length;u++)Yy(a,s[u])}(s,w);const z=a.viewQuery;if(null!==z&&N7(2,z,h),!y)if(C){const T=a.viewCheckHooks;null!==T&&i4(s,T)}else{const T=a.viewHooks;null!==T&&O3(s,T,2),H3(s,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),y||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,t4(s[3],-1))}finally{yr()}}function Iy(a,s,u,h){const m=s[10],y=!Q4(),C=Is(s);try{y&&!C&&m.begin&&m.begin(),C&&p0(a,s,h),zo(a,s,u,h)}finally{y&&!C&&m.end&&m.end()}}function _f(a,s,u,h,m){const y=qt(),C=2&h;try{Tn(-1),C&&s.length>20&&cf(a,s,20,Q4()),u(h,m)}finally{Tn(y)}}function bf(a,s,u){if(w3(s)){const m=s.directiveEnd;for(let y=s.directiveStart;y<m;y++){const C=a.data[y];C.contentQueries&&C.contentQueries(1,u[y],y)}}}function M7(a,s,u){!C5()||(function(a,s,u,h){const m=u.directiveStart,y=u.directiveEnd;a.firstCreatePass||Pi(u,s),Yt(h,s);const C=u.initialInputs;for(let w=m;w<y;w++){const z=a.data[w],T=Qn(z);T&&qy(s,u,z);const D=Ot(s,a,w,u);Yt(D,s),null!==C&&Gy(0,w-m,D,z,0,C),T&&(k2(u.index,s)[8]=D)}}(a,s,u,pn(u,s)),128==(128&u.flags)&&function(a,s,u){const h=u.directiveStart,m=u.directiveEnd,C=u.index,w=d1.lFrame.currentDirectiveIndex;try{Tn(C);for(let z=h;z<m;z++){const T=a.data[z],D=s[z];O2(z),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Sf(T,D)}}finally{Tn(-1),O2(w)}}(a,s,u))}function w7(a,s,u=pn){const h=s.localNames;if(null!==h){let m=s.index+1;for(let y=0;y<h.length;y+=2){const C=h[y+1],w=-1===C?u(s,a):a[C];a[m++]=w}}}function Cf(a){const s=a.tView;return null===s||s.incompleteFirstPass?a.tView=x8(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):s}function x8(a,s,u,h,m,y,C,w,z,T){const D=20+h,k=D+m,F=function(a,s){const u=[];for(let h=0;h<s;h++)u.push(h<a?null:E1);return u}(D,k),W="function"==typeof T?T():T;return F[1]={type:a,blueprint:F,template:u,queries:null,viewQuery:w,declTNode:s,data:F.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof C?C():C,firstChild:null,schemas:z,consts:W,incompleteFirstPass:!1}}function Af(a,s,u,h){const m=Rf(s);null===u?m.push(h):(m.push(u),a.firstCreatePass&&Vf(a).push(h,m.length-1))}function Ef(a,s,u){for(let h in a)if(a.hasOwnProperty(h)){const m=a[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(s,m):u[h]=[s,m]}return u}function On(a,s,u,h,m,y,C,w){const z=pn(s,u);let D,T=s.inputs;!w&&null!=T&&(D=T[h])?(Hf(a,u,D,h,m),T2(s)&&function(a,s){const u=k2(s,a);16&u[2]||(u[2]|=64)}(u,s.index)):3&s.type&&(h=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),m=null!=C?C(m,s.value||"",h):m,_t(y)?y.setProperty(z,h,m):Nn(h)||(z.setProperty?z.setProperty(h,m):z[h]=m))}function A7(a,s,u,h){let m=!1;if(C5()){const y=function(a,s,u){const h=a.directiveRegistry;let m=null;if(h)for(let y=0;y<h.length;y++){const C=h[y];of(u,C.selectors,!1)&&(m||(m=[]),Nt(Pi(u,s),a,C.type),Qn(C)?(Tf(a,u),m.unshift(C)):m.push(C))}return m}(a,s,u),C=null===h?null:{"":-1};if(null!==y){m=!0,Nf(u,a.data.length,y.length);for(let D=0;D<y.length;D++){const k=y[D];k.providersResolver&&k.providersResolver(k)}let w=!1,z=!1,T=Eo(a,s,y.length,null);for(let D=0;D<y.length;D++){const k=y[D];u.mergedAttrs=F3(u.mergedAttrs,k.hostAttrs),If(a,u,s,T,k),jy(T,k,C),null!==k.contentQueries&&(u.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(u.flags|=128);const F=k.type.prototype;!w&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),w=!0),!z&&(F.ngOnChanges||F.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),z=!0),T++}!function(a,s){const h=s.directiveEnd,m=a.data,y=s.attrs,C=[];let w=null,z=null;for(let T=s.directiveStart;T<h;T++){const D=m[T],k=D.inputs,F=null===y||u7(s)?null:Wy(k,y);C.push(F),w=Ef(k,T,w),z=Ef(D.outputs,T,z)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=C,s.inputs=w,s.outputs=z}(a,u)}C&&function(a,s,u){if(s){const h=a.localNames=[];for(let m=0;m<s.length;m+=2){const y=u[s[m+1]];if(null==y)throw new be("301",`Export of name '${s[m+1]}' not found!`);h.push(s[m],y)}}}(u,h,C)}return u.mergedAttrs=F3(u.mergedAttrs,u.attrs),m}function xf(a,s,u,h,m,y){const C=y.hostBindings;if(C){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const z=~s.index;(function(a){let s=a.length;for(;s>0;){const u=a[--s];if("number"==typeof u&&u<0)return u}return 0})(w)!=z&&w.push(z),w.push(h,m,C)}}function Sf(a,s){null!==a.hostBindings&&a.hostBindings(1,s)}function Tf(a,s){s.flags|=2,(a.components||(a.components=[])).push(s.index)}function jy(a,s,u){if(u){if(s.exportAs)for(let h=0;h<s.exportAs.length;h++)u[s.exportAs[h]]=a;Qn(s)&&(u[""]=a)}}function Nf(a,s,u){a.flags|=1,a.directiveStart=s,a.directiveEnd=s+u,a.providerIndexes=s}function If(a,s,u,h,m){a.data[h]=m;const y=m.factory||(m.factory=mr(m.type)),C=new Hi(y,Qn(m),null);a.blueprint[h]=C,u[h]=C,xf(a,s,0,h,Eo(a,u,m.hostVars,E1),m)}function qy(a,s,u){const h=pn(s,a),m=Cf(u),y=a[10],C=S8(a,d0(a,m,null,u.onPush?64:16,h,s,y,y.createRenderer(h,u),null,null));a[s.index]=C}function x4(a,s,u,h,m,y){const C=pn(a,s);!function(a,s,u,h,m,y,C){if(null==y)_t(a)?a.removeAttribute(s,m,u):s.removeAttribute(m);else{const w=null==C?Ie(y):C(y,h||"",m);_t(a)?a.setAttribute(s,m,w,u):u?s.setAttributeNS(u,m,w):s.setAttribute(m,w)}}(s[11],C,y,a.value,u,h,m)}function Gy(a,s,u,h,m,y){const C=y[s];if(null!==C){const w=h.setInput;for(let z=0;z<C.length;){const T=C[z++],D=C[z++],k=C[z++];null!==w?h.setInput(u,k,T,D):u[D]=k}}}function Wy(a,s){let u=null,h=0;for(;h<s.length;){const m=s[h];if(0!==m)if(5!==m){if("number"==typeof m)break;a.hasOwnProperty(m)&&(null===u&&(u=[]),u.push(m,a[m],s[h+1])),h+=2}else h+=2;else h+=4}return u}function Df(a,s,u,h){return new Array(a,!0,!1,s,null,0,h,u,null,null)}function Yy(a,s){const u=k2(s,a);if(Ds(u)){const h=u[1];80&u[2]?zo(h,u,h.template,u[8]):u[5]>0&&z7(u)}}function z7(a){for(let h=bo(a);null!==h;h=M8(h))for(let m=10;m<h.length;m++){const y=h[m];if(1024&y[2]){const C=y[1];zo(C,y,C.template,y[8])}else y[5]>0&&z7(y)}const u=a[1].components;if(null!==u)for(let h=0;h<u.length;h++){const m=k2(u[h],a);Ds(m)&&m[5]>0&&z7(m)}}function Jy(a,s){const u=k2(s,a),h=u[1];(function(a,s){for(let u=s.length;u<a.blueprint.length;u++)s.push(a.blueprint[u])})(h,u),p0(h,u,u[8])}function S8(a,s){return a[13]?a[14][4]=s:a[13]=s,a[14]=s,s}function x7(a){for(;a;){a[2]|=64;const s=z4(a);if(xn(a)&&!s)return a;a=s}return null}function T7(a,s,u){const h=s[10];h.begin&&h.begin();try{zo(a,s,a.template,u)}catch(m){throw Of(s,m),m}finally{h.end&&h.end()}}function Lf(a){!function(a){for(let s=0;s<a.components.length;s++){const u=a.components[s],h=vo(u),m=h[1];Iy(m,h,m.template,u)}}(a[8])}function N7(a,s,u){Y4(0),s(a,u)}const n_=(()=>Promise.resolve(null))();function Rf(a){return a[7]||(a[7]=[])}function Vf(a){return a.cleanup||(a.cleanup=[])}function Of(a,s){const u=a[9],h=u?u.get(n3,null):null;h&&h.handleError(s)}function Hf(a,s,u,h,m){for(let y=0;y<u.length;){const C=u[y++],w=u[y++],z=s[C],T=a.data[C];null!==T.setInput?T.setInput(z,m,h,w):z[w]=m}}function bi(a,s,u){const h=ki(s,a);!function(a,s,u){_t(a)?a.setValue(s,u):s.textContent=u}(a[11],h,u)}function T8(a,s,u){let h=u?a.styles:null,m=u?a.classes:null,y=0;if(null!==s)for(let C=0;C<s.length;C++){const w=s[C];"number"==typeof w?y=w:1==y?m=re(m,w):2==y&&(h=re(h,w+": "+s[++C]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=m:a.classesWithoutHost=m}const xo=new It("INJECTOR",-1);class Pf{get(s,u=G3){if(u===G3){const h=new Error(`NullInjectorError: No provider for ${oe(s)}!`);throw h.name="NullInjectorError",h}return u}}const m0=new It("Set Injector scope."),v0={},i_={};let L7;function Ff(){return void 0===L7&&(L7=new Pf),L7}function Uf(a,s=null,u=null,h){return new a_(a,u,s||Ff(),h)}class a_{constructor(s,u,h,m=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];u&&o2(u,w=>this.processProvider(w,s,u)),o2([s],w=>this.processInjectorType(w,[],y)),this.records.set(xo,So(void 0,this));const C=this.records.get(m0);this.scope=null!=C?C.value:null,this.source=m||("object"==typeof s?null:oe(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,u=G3,h=We.Default){this.assertNotDestroyed();const m=b1(this),y=Mt(void 0);try{if(!(h&We.SkipSelf)){let w=this.records.get(s);if(void 0===w){const z=("function"==typeof(a=s)||"object"==typeof a&&a instanceof It)&&Kt(s);w=z&&this.injectableDefInScope(z)?So(R7(s),v0):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(h&We.Self?Ff():this.parent).get(s,u=h&We.Optional&&u===G3?null:u)}catch(C){if("NullInjectorError"===C.name){if((C[qi]=C[qi]||[]).unshift(oe(s)),m)throw C;return Ln(C,s,"R3InjectorError",this.source)}throw C}finally{Mt(y),b1(m)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((h,m)=>s.push(oe(m))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,u,h){if(!(s=q(s)))return!1;let m=Ti(s);const y=null==m&&s.ngModule||void 0,C=void 0===y?s:y,w=-1!==h.indexOf(C);if(void 0!==y&&(m=Ti(y)),null==m)return!1;if(null!=m.imports&&!w){let D;h.push(C);try{o2(m.imports,k=>{this.processInjectorType(k,u,h)&&(void 0===D&&(D=[]),D.push(k))})}finally{}if(void 0!==D)for(let k=0;k<D.length;k++){const{ngModule:F,providers:W}=D[k];o2(W,X=>this.processProvider(X,F,W||Y))}}this.injectorDefTypes.add(C);const z=mr(C)||(()=>new C);this.records.set(C,So(z,v0));const T=m.providers;if(null!=T&&!w){const D=s;o2(T,k=>this.processProvider(k,D,T))}return void 0!==y&&void 0!==s.providers}processProvider(s,u,h){let m=To(s=q(s))?s:q(s&&s.provide);const y=Bf(a=s)?So(void 0,a.useValue):So(Zf(a),v0);var a;if(To(s)||!0!==s.multi)this.records.get(m);else{let C=this.records.get(m);C||(C=So(void 0,v0,!0),C.factory=()=>si(C.multi),this.records.set(m,C)),m=s,C.multi.push(s)}this.records.set(m,y)}hydrate(s,u){return u.value===v0&&(u.value=i_,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(a=u.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var a}injectableDefInScope(s){if(!s.providedIn)return!1;const u=q(s.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function R7(a){const s=Kt(a),u=null!==s?s.factory:mr(a);if(null!==u)return u;if(a instanceof It)throw new Error(`Token ${oe(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const s=a.length;if(s>0){const h=l4(s,"?");throw new Error(`Can't resolve all parameters for ${oe(a)}: (${h.join(", ")}).`)}const u=function(a){const s=a&&(a[Z1]||a[n2]);if(s){const u=function(a){if(a.hasOwnProperty("name"))return a.name;const s=(""+a).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),s}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Error("unreachable")}function Zf(a,s,u){let h;if(To(a)){const m=q(a);return mr(m)||R7(m)}if(Bf(a))h=()=>q(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...si(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))h=()=>X1(q(a.useExisting));else{const m=q(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return mr(m)||R7(m);h=()=>new m(...si(a.deps))}return h}function So(a,s,u=!1){return{factory:a,value:s,multi:u?[]:void 0}}function Bf(a){return null!==a&&"object"==typeof a&&Gi in a}function To(a){return"function"==typeof a}const jf=function(a,s,u){return function(a,s=null,u=null,h){const m=Uf(a,s,u,h);return m._resolveInjectorDefTypes(),m}({name:u},s,a,u)};class vt{static create(s,u){return Array.isArray(s)?jf(s,u,""):jf(s.providers,s.parent,s.name||"")}}function x_(a,s){r4(vo(a)[1],Et())}function y0(a){let s=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;s;){let m;if(Qn(a))m=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");m=s.\u0275dir}if(m){if(u){h.push(m);const C=a;C.inputs=F7(a.inputs),C.declaredInputs=F7(a.declaredInputs),C.outputs=F7(a.outputs);const w=m.hostBindings;w&&N_(a,w);const z=m.viewQuery,T=m.contentQueries;if(z&&S_(a,z),T&&T_(a,T),Ee(a.inputs,m.inputs),Ee(a.declaredInputs,m.declaredInputs),Ee(a.outputs,m.outputs),Qn(m)&&m.data.animation){const D=a.data;D.animation=(D.animation||[]).concat(m.data.animation)}}const y=m.features;if(y)for(let C=0;C<y.length;C++){const w=y[C];w&&w.ngInherit&&w(a),w===y0&&(u=!1)}}s=Object.getPrototypeOf(s)}!function(a){let s=0,u=null;for(let h=a.length-1;h>=0;h--){const m=a[h];m.hostVars=s+=m.hostVars,m.hostAttrs=F3(m.hostAttrs,u=F3(u,m.hostAttrs))}}(h)}function F7(a){return a===st?{}:a===Y?[]:a}function S_(a,s){const u=a.viewQuery;a.viewQuery=u?(h,m)=>{s(h,m),u(h,m)}:s}function T_(a,s){const u=a.contentQueries;a.contentQueries=u?(h,m,y)=>{s(h,m,y),u(h,m,y)}:s}function N_(a,s){const u=a.hostBindings;a.hostBindings=u?(h,m)=>{s(h,m),u(h,m)}:s}vt.THROW_IF_NOT_FOUND=G3,vt.NULL=new Pf,vt.\u0275prov=W1({token:vt,providedIn:"any",factory:()=>X1(xo)}),vt.__NG_ELEMENT_ID__=-1;let I8=null;function No(){if(!I8){const a=it.Symbol;if(a&&a.iterator)I8=a.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<s.length;++u){const h=s[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(I8=h)}}}return I8}class Lr{constructor(s){this.wrapped=s}static wrap(s){return new Lr(s)}static unwrap(s){return Lr.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof Lr}}function _0(a){return!!U7(a)&&(Array.isArray(a)||!(a instanceof Map)&&No()in a)}function U7(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function S4(a,s,u){return a[s]=u}function P2(a,s,u){return!Object.is(a[s],u)&&(a[s]=u,!0)}function o6(a,s,u,h){const m=P2(a,s,u);return P2(a,s+1,h)||m}function Z7(a,s,u,h){const m=Le();return P2(m,gr(),s)&&(U1(),x4(Tt(),m,a,s,u,h)),Z7}function Do(a,s,u,h){return P2(a,gr(),u)?s+Ie(u)+h:E1}function gh(a,s,u,h,m,y,C,w){const z=Le(),T=U1(),D=a+20,k=T.firstCreatePass?function(a,s,u,h,m,y,C,w,z){const T=s.consts,D=Ao(s,a,4,C||null,e4(T,w));A7(s,u,D,e4(T,z)),r4(s,D);const k=D.tViews=x8(2,D,h,m,y,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T);return null!==s.queries&&(s.queries.template(s,D),k.queries=s.queries.embeddedTView(D)),D}(D,T,z,s,u,h,m,y,C):T.data[D];N2(k,!1);const F=z[11].createComment("");v1(T,z,F,k),Yt(F,z),S8(z,z[D]=Df(F,z,F,k)),I6(k)&&M7(T,z,k),null!=C&&w7(z,k,w)}function yh(a){return Xr(d1.lFrame.contextLView,20+a)}function C0(a,s=We.Default){const u=Le();return null===u?X1(a,s):q6(Et(),u,q(a),s)}function W7(a,s,u){const h=Le();return P2(h,gr(),s)&&On(U1(),Tt(),h,a,s,h[11],u,!1),W7}function $7(a,s,u,h,m){const C=m?"class":"style";Hf(a,u,s.inputs[C],C,h)}function Q7(a,s,u,h){const m=Le(),y=U1(),C=20+a,w=m[11],z=m[C]=f0(w,s,d1.lFrame.currentNamespace),T=y.firstCreatePass?function(a,s,u,h,m,y,C){const w=s.consts,T=Ao(s,a,2,m,e4(w,y));return A7(s,u,T,e4(w,C)),null!==T.attrs&&T8(T,T.attrs,!1),null!==T.mergedAttrs&&T8(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(C,y,m,0,s,u,h):y.data[C];N2(T,!0);const D=T.mergedAttrs;null!==D&&U6(w,z,D);const k=T.classes;null!==k&&c7(w,z,k);const F=T.styles;null!==F&&nf(w,z,F),64!=(64&T.flags)&&v1(y,m,z,T),0===d1.lFrame.elementDepthCount&&Yt(z,m),d1.lFrame.elementDepthCount++,I6(T)&&(M7(y,m,T),bf(y,T,m)),null!==h&&w7(m,T)}function Y7(){let a=Et();R3()?V3():(a=a.parent,N2(a,!1));const s=a;d1.lFrame.elementDepthCount--;const u=U1();u.firstCreatePass&&(r4(u,a),w3(a)&&u.queries.elementEnd(a)),null!=s.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(s)&&$7(u,s,Le(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(s)&&$7(u,s,Le(),s.stylesWithoutHost,!1)}function Nh(a,s,u,h){Q7(a,s,u,h),Y7()}function J7(a,s,u){const h=Le(),m=U1(),y=a+20,C=m.firstCreatePass?function(a,s,u,h,m){const y=s.consts,C=e4(y,h),w=Ao(s,a,8,"ng-container",C);return null!==C&&T8(w,C,!0),A7(s,u,w,e4(y,m)),null!==s.queries&&s.queries.elementStart(s,w),w}(y,m,h,s,u):m.data[y];N2(C,!0);const w=h[y]=h[11].createComment("");v1(m,h,w,C),Yt(w,h),I6(C)&&(M7(m,h,C),bf(m,C,h)),null!=u&&w7(h,C)}function K7(){let a=Et();const s=U1();R3()?V3():(a=a.parent,N2(a,!1)),s.firstCreatePass&&(r4(s,a),w3(a)&&s.queries.elementEnd(a))}function Ih(){return Le()}function X7(a){return!!a&&"function"==typeof a.then}function Dh(a){return!!a&&"function"==typeof a.subscribe}const el=Dh;function tl(a,s,u,h){const m=Le(),y=U1(),C=Et();return function(a,s,u,h,m,y,C,w){const z=I6(h),D=a.firstCreatePass&&Vf(a),k=s[8],F=Rf(s);let W=!0;if(3&h.type||w){const ae=pn(h,s),He=w?w(ae):ae,Te=F.length,r1=w?_1=>w(mt(_1[h.index])):h.index;if(_t(u)){let _1=null;if(!w&&z&&(_1=function(a,s,u,h){const m=a.cleanup;if(null!=m)for(let y=0;y<m.length-1;y+=2){const C=m[y];if(C===u&&m[y+1]===h){const w=s[7],z=m[y+2];return w.length>z?w[z]:null}"string"==typeof C&&(y+=2)}return null}(a,s,m,h.index)),null!==_1)(_1.__ngLastListenerFn__||_1).__ngNextListenerFn__=y,_1.__ngLastListenerFn__=y,W=!1;else{y=nl(h,s,k,y,!1);const j1=u.listen(He,m,y);F.push(y,j1),D&&D.push(m,r1,Te,Te+1)}}else y=nl(h,s,k,y,!0),He.addEventListener(m,y,C),F.push(y),D&&D.push(m,r1,Te,C)}else y=nl(h,s,k,y,!1);const X=h.outputs;let ye;if(W&&null!==X&&(ye=X[m])){const ae=ye.length;if(ae)for(let He=0;He<ae;He+=2){const c2=s[ye[He]][ye[He+1]].subscribe(y),sr=F.length;F.push(y,c2),D&&D.push(m,h.index,sr,-(sr+1))}}}(y,m,m[11],C,a,s,!!u,h),tl}function Vh(a,s,u,h){try{return!1!==u(h)}catch(m){return Of(a,m),!1}}function nl(a,s,u,h,m){return function y(C){if(C===Function)return h;const w=2&a.flags?k2(a.index,s):s;0==(32&s[2])&&x7(w);let z=Vh(s,0,h,C),T=y.__ngNextListenerFn__;for(;T;)z=Vh(s,0,T,C)&&z,T=T.__ngNextListenerFn__;return m&&!1===z&&(C.preventDefault(),C.returnValue=!1),z}}function kh(a=1){return function(a){return(d1.lFrame.contextLView=function(a,s){for(;a>0;)s=s[15],a--;return s}(a,d1.lFrame.contextLView))[8]}(a)}function fb(a,s){let u=null;const h=function(a){const s=a.attrs;if(null!=s){const u=s.indexOf(5);if(0==(1&u))return s[u+1]}return null}(a);for(let m=0;m<s.length;m++){const y=s[m];if("*"!==y){if(null===h?of(a,y,!0):QT(h,y))return m}else u=m}return u}function Oh(a){const s=Le()[16][6];if(!s.projection){const h=s.projection=l4(a?a.length:1,null),m=h.slice();let y=s.child;for(;null!==y;){const C=a?fb(y,a):0;null!==C&&(m[C]?m[C].projectionNext=y:h[C]=y,m[C]=y),y=y.next}}}function Hh(a,s=0,u){const h=Le(),m=U1(),y=Ao(m,20+a,16,null,u||null);null===y.projection&&(y.projection=s),V3(),64!=(64&y.flags)&&function(a,s,u){s3(s[11],0,s,u,A(a,u,s),we(u.parent||s[6],u,s))}(m,h,y)}function rl(a,s,u){return R8(a,"",s,"",u),rl}function R8(a,s,u,h,m){const y=Le(),C=Do(y,s,u,h);return C!==E1&&On(U1(),Tt(),y,a,C,y[11],m,!1),R8}function Wh(a,s,u,h,m){const y=a[u+1],C=null===s;let w=h?Ir(y):yi(y),z=!1;for(;0!==w&&(!1===z||C);){const D=a[w+1];pb(a[w],s)&&(z=!0,a[w+1]=h?p7(D):h7(D)),w=h?Ir(D):yi(D)}z&&(a[u+1]=h?h7(y):p7(y))}function pb(a,s){return null===a||null==s||(Array.isArray(a)?a[1]:a)===s||!(!Array.isArray(a)||"string"!=typeof s)&&ii(a,s)>=0}function il(a,s,u){return Rr(a,s,u,!1),il}function ol(a,s){return Rr(a,s,null,!0),ol}function Rr(a,s,u,h){const m=Le(),y=U1(),C=mn(2);y.firstUpdatePass&&function(a,s,u,h){const m=a.data;if(null===m[u+1]){const y=m[qt()],C=function(a,s){return s>=a.expandoStartIndex}(a,u);(function(a,s){return 0!=(a.flags&(s?16:32))})(y,h)&&null===s&&!C&&(s=!1),s=function(a,s,u,h){const m=function(a){const s=d1.lFrame.currentDirectiveIndex;return-1===s?null:a[s]}(a);let y=h?s.residualClasses:s.residualStyles;if(null===m)0===(h?s.classBindings:s.styleBindings)&&(u=M0(u=al(null,a,s,u,h),s.attrs,h),y=null);else{const C=s.directiveStylingLast;if(-1===C||a[C]!==m)if(u=al(m,a,s,u,h),null===y){let z=function(a,s,u){const h=u?s.classBindings:s.styleBindings;if(0!==yi(h))return a[Ir(h)]}(a,s,h);void 0!==z&&Array.isArray(z)&&(z=al(null,a,s,z[1],h),z=M0(z,s.attrs,h),function(a,s,u,h){a[Ir(u?s.classBindings:s.styleBindings)]=h}(a,s,h,z))}else y=function(a,s,u){let h;const m=s.directiveEnd;for(let y=1+s.directiveStylingLast;y<m;y++)h=M0(h,a[y].hostAttrs,u);return M0(h,s.attrs,u)}(a,s,h)}return void 0!==y&&(h?s.residualClasses=y:s.residualStyles=y),u}(m,y,s,h),function(a,s,u,h,m,y){let C=y?s.classBindings:s.styleBindings,w=Ir(C),z=yi(C);a[h]=u;let D,T=!1;if(Array.isArray(u)){const k=u;D=k[1],(null===D||ii(k,D)>0)&&(T=!0)}else D=u;if(m)if(0!==z){const F=Ir(a[w+1]);a[h+1]=A8(F,w),0!==F&&(a[F+1]=d7(a[F+1],h)),a[w+1]=function(a,s){return 131071&a|s<<17}(a[w+1],h)}else a[h+1]=A8(w,0),0!==w&&(a[w+1]=d7(a[w+1],h)),w=h;else a[h+1]=A8(z,0),0===w?w=h:a[z+1]=d7(a[z+1],h),z=h;T&&(a[h+1]=h7(a[h+1])),Wh(a,D,h,!0),Wh(a,D,h,!1),function(a,s,u,h,m){const y=m?a.residualClasses:a.residualStyles;null!=y&&"string"==typeof s&&ii(y,s)>=0&&(u[h+1]=p7(u[h+1]))}(s,D,a,h,y),C=A8(w,z),y?s.classBindings=C:s.styleBindings=C}(m,y,s,u,C,h)}}(y,a,C,h),s!==E1&&P2(m,C,s)&&function(a,s,u,h,m,y,C,w){if(!(3&s.type))return;const z=a.data,T=z[w+1];V8(function(a){return 1==(1&a)}(T)?id(z,s,u,m,yi(T),C):void 0)||(V8(y)||function(a){return 2==(2&a)}(T)&&(y=id(z,null,u,m,w,C)),function(a,s,u,h,m){const y=_t(a);if(s)m?y?a.addClass(u,h):u.classList.add(h):y?a.removeClass(u,h):u.classList.remove(h);else{let C=-1===h.indexOf("-")?void 0:rr.DashCase;if(null==m)y?a.removeStyle(u,h,C):u.style.removeProperty(h);else{const w="string"==typeof m&&m.endsWith("!important");w&&(m=m.slice(0,-10),C|=rr.Important),y?a.setStyle(u,h,m,C):u.style.setProperty(h,m,w?"important":"")}}}(h,C,ki(qt(),u),m,y))}(y,y.data[qt()],m,m[11],a,m[C+1]=function(a,s){return null==a||("string"==typeof s?a+=s:"object"==typeof a&&(a=oe(Er(a)))),a}(s,u),h,C)}function al(a,s,u,h,m){let y=null;const C=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<C&&(y=s[w],h=M0(h,y.hostAttrs,m),y!==a);)w++;return null!==a&&(u.directiveStylingLast=w),h}function M0(a,s,u){const h=u?1:2;let m=-1;if(null!==s)for(let y=0;y<s.length;y++){const C=s[y];"number"==typeof C?m=C:m===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),$t(a,C,!!u||s[++y]))}return void 0===a?null:a}function id(a,s,u,h,m,y){const C=null===s;let w;for(;m>0;){const z=a[m],T=Array.isArray(z),D=T?z[1]:z,k=null===D;let F=u[m+1];F===E1&&(F=k?Y:void 0);let W=k?Ht(F,h):D===h?F:void 0;if(T&&!V8(W)&&(W=Ht(z,h)),V8(W)&&(w=W,C))return w;const X=a[m+1];m=C?Ir(X):yi(X)}if(null!==s){let z=y?s.residualClasses:s.residualStyles;null!=z&&(w=Ht(z,h))}return w}function V8(a){return void 0!==a}function ad(a,s=""){const u=Le(),h=U1(),m=a+20,y=h.firstCreatePass?Ao(h,m,1,s,null):h.data[m],C=u[m]=function(a,s){return _t(a)?a.createText(s):a.createTextNode(s)}(u[11],s);v1(h,u,C,y),N2(y,!1)}function sl(a){return k8("",a,""),sl}function k8(a,s,u){const h=Le(),m=Do(h,a,s,u);return m!==E1&&bi(h,qt(),m),k8}function cl(a,s,u,h,m){const y=Le(),C=function(a,s,u,h,m,y){const w=o6(a,$2(),u,m);return mn(2),w?s+Ie(u)+h+Ie(m)+y:E1}(y,a,s,u,h,m);return C!==E1&&bi(y,qt(),C),cl}function ll(a,s,u){const h=Le();return P2(h,gr(),s)&&On(U1(),Tt(),h,a,s,h[11],u,!0),ll}const a6=void 0;var Qb=["en",[["a","p"],["AM","PM"],a6],[["AM","PM"],a6,a6],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],a6,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],a6,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",a6,"{1} 'at' {0}",a6],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const s=Math.floor(Math.abs(a)),u=a.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let Zo={};function Yb(a,s,u){"string"!=typeof s&&(u=s,s=a[m1.LocaleId]),s=s.toLowerCase().replace(/_/g,"-"),Zo[s]=a,u&&(Zo[s][m1.ExtraData]=u)}function ul(a){const s=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=Ed(s);if(u)return u;const h=s.split("-")[0];if(u=Ed(h),u)return u;if("en"===h)return Qb;throw new Error(`Missing locale data for the locale "${a}".`)}function Ad(a){return ul(a)[m1.PluralCase]}function Ed(a){return a in Zo||(Zo[a]=it.ng&&it.ng.common&&it.ng.common.locales&&it.ng.common.locales[a]),Zo[a]}var m1=(()=>((m1=m1||{})[m1.LocaleId=0]="LocaleId",m1[m1.DayPeriodsFormat=1]="DayPeriodsFormat",m1[m1.DayPeriodsStandalone=2]="DayPeriodsStandalone",m1[m1.DaysFormat=3]="DaysFormat",m1[m1.DaysStandalone=4]="DaysStandalone",m1[m1.MonthsFormat=5]="MonthsFormat",m1[m1.MonthsStandalone=6]="MonthsStandalone",m1[m1.Eras=7]="Eras",m1[m1.FirstDayOfWeek=8]="FirstDayOfWeek",m1[m1.WeekendRange=9]="WeekendRange",m1[m1.DateFormat=10]="DateFormat",m1[m1.TimeFormat=11]="TimeFormat",m1[m1.DateTimeFormat=12]="DateTimeFormat",m1[m1.NumberSymbols=13]="NumberSymbols",m1[m1.NumberFormats=14]="NumberFormats",m1[m1.CurrencyCode=15]="CurrencyCode",m1[m1.CurrencySymbol=16]="CurrencySymbol",m1[m1.CurrencyName=17]="CurrencyName",m1[m1.Currencies=18]="Currencies",m1[m1.Directionality=19]="Directionality",m1[m1.PluralCase=20]="PluralCase",m1[m1.ExtraData=21]="ExtraData",m1))();const O8="en-US";let zd=O8;function fl(a){c1(a,"Expected localeId to be defined"),"string"==typeof a&&(zd=a.toLowerCase().replace(/_/g,"-"))}function ml(a,s,u,h,m){if(a=q(a),Array.isArray(a))for(let y=0;y<a.length;y++)ml(a[y],s,u,h,m);else{const y=U1(),C=Le();let w=To(a)?a:q(a.provide),z=Zf(a);const T=Et(),D=1048575&T.providerIndexes,k=T.directiveStart,F=T.providerIndexes>>20;if(To(a)||!a.multi){const W=new Hi(z,m,C0),X=gl(w,s,m?D:D+F,k);-1===X?(Nt(Pi(T,C),y,w),vl(y,a,s.length),s.push(w),T.directiveStart++,T.directiveEnd++,m&&(T.providerIndexes+=1048576),u.push(W),C.push(W)):(u[X]=W,C[X]=W)}else{const W=gl(w,s,D+F,k),X=gl(w,s,D,D+F),ye=W>=0&&u[W],ae=X>=0&&u[X];if(m&&!ae||!m&&!ye){Nt(Pi(T,C),y,w);const He=function(a,s,u,h,m){const y=new Hi(a,u,C0);return y.multi=[],y.index=s,y.componentProviders=0,Yd(y,m,h&&!u),y}(m?jC:BC,u.length,m,h,z);!m&&ae&&(u[X].providerFactory=He),vl(y,a,s.length,0),s.push(w),T.directiveStart++,T.directiveEnd++,m&&(T.providerIndexes+=1048576),u.push(He),C.push(He)}else vl(y,a,W>-1?W:X,Yd(u[m?X:W],z,!m&&h));!m&&h&&ae&&u[X].componentProviders++}}}function vl(a,s,u,h){const m=To(s);if(m||function(a){return!!a.useClass}(s)){const C=(s.useClass||s).prototype.ngOnDestroy;if(C){const w=a.destroyHooks||(a.destroyHooks=[]);if(!m&&s.multi){const z=w.indexOf(u);-1===z?w.push(u,[h,C]):w[z+1].push(h,C)}else w.push(u,C)}}}function Yd(a,s,u){return u&&a.componentProviders++,a.multi.push(s)-1}function gl(a,s,u,h){for(let m=u;m<h;m++)if(s[m]===a)return m;return-1}function BC(a,s,u,h){return yl(this.multi,[])}function jC(a,s,u,h){const m=this.multi;let y;if(this.providerFactory){const C=this.providerFactory.componentProviders,w=Ot(u,u[1],this.providerFactory.index,h);y=w.slice(0,C),yl(m,y);for(let z=C;z<w.length;z++)y.push(w[z])}else y=[],yl(m,y);return y}function yl(a,s){for(let u=0;u<a.length;u++)s.push((0,a[u])());return s}function Jd(a,s=[]){return u=>{u.providersResolver=(h,m)=>function(a,s,u){const h=U1();if(h.firstCreatePass){const m=Qn(a);ml(u,h.data,h.blueprint,m,!0),ml(s,h.data,h.blueprint,m,!1)}}(h,m?m(a):a,s)}}class Kd{}const ep="ngComponent";class WC{resolveComponentFactory(s){throw function(a){const s=Error(`No component factory found for ${oe(a)}. Did you add it to @NgModule.entryComponents?`);return s[ep]=a,s}(s)}}class s6{}function j8(...a){}function jo(a,s){return new I4(pn(a,s))}s6.NULL=new WC;const YC=function(){return jo(Et(),Le())};let I4=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=YC,a})();function tp(a){return a instanceof I4?a.nativeElement:a}class q8{}let JC=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>XC(),a})();const XC=function(){const a=Le(),u=k2(Et().index,a);return function(a){return a[11]}(wt(u)?u:a)};let bl=(()=>{class a{}return a.\u0275prov=W1({token:a,providedIn:"root",factory:()=>null}),a})();class np{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Cl=new np("12.2.4");class rp{constructor(){}supports(s){return _0(s)}create(s){return new rM(s)}}const nM=(a,s)=>s;class rM{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||nM}forEachItem(s){let u;for(u=this._itHead;null!==u;u=u._next)s(u)}forEachOperation(s){let u=this._itHead,h=this._removalsHead,m=0,y=null;for(;u||h;){const C=!h||u&&u.currentIndex<op(h,m,y)?u:h,w=op(C,m,y),z=C.currentIndex;if(C===h)m--,h=h._nextRemoved;else if(u=u._next,null==C.previousIndex)m++;else{y||(y=[]);const T=w-m,D=z-m;if(T!=D){for(let F=0;F<T;F++){const W=F<y.length?y[F]:y[F]=0,X=W+F;D<=X&&X<T&&(y[F]=W+1)}y[C.previousIndex]=D-T}}w!==z&&s(C,w,z)}}forEachPreviousItem(s){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachMovedItem(s){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}forEachIdentityChange(s){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)s(u)}diff(s){if(null==s&&(s=[]),!_0(s))throw new Error(`Error trying to diff '${oe(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let m,y,C,u=this._itHead,h=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)y=s[w],C=this._trackByFn(w,y),null!==u&&Object.is(u.trackById,C)?(h&&(u=this._verifyReinsertion(u,y,C,w)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,C,w),h=!0),u=u._next}else m=0,function(a,s){if(Array.isArray(a))for(let u=0;u<a.length;u++)s(a[u]);else{const u=a[No()]();let h;for(;!(h=u.next()).done;)s(h.value)}}(s,w=>{C=this._trackByFn(m,w),null!==u&&Object.is(u.trackById,C)?(h&&(u=this._verifyReinsertion(u,w,C,m)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,C,m),h=!0),u=u._next,m++}),this.length=m;return this._truncate(u),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,u,h,m){let y;return null===s?y=this._itTail:(y=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._reinsertAfter(s,y,m)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(h,m))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._moveAfter(s,y,m)):s=this._addAfter(new iM(u,h),y,m),s}_verifyReinsertion(s,u,h,m){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==y?s=this._reinsertAfter(y,s._prev,m):s.currentIndex!=m&&(s.currentIndex=m,this._addToMoves(s,m)),s}_truncate(s){for(;null!==s;){const u=s._next;this._addToRemovals(this._unlink(s)),s=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const m=s._prevRemoved,y=s._nextRemoved;return null===m?this._removalsHead=y:m._nextRemoved=y,null===y?this._removalsTail=m:y._prevRemoved=m,this._insertAfter(s,u,h),this._addToMoves(s,h),s}_moveAfter(s,u,h){return this._unlink(s),this._insertAfter(s,u,h),this._addToMoves(s,h),s}_addAfter(s,u,h){return this._insertAfter(s,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,u,h){const m=null===u?this._itHead:u._next;return s._next=m,s._prev=u,null===m?this._itTail=s:m._prev=s,null===u?this._itHead=s:u._next=s,null===this._linkedRecords&&(this._linkedRecords=new ip),this._linkedRecords.put(s),s.currentIndex=h,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const u=s._prev,h=s._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,s}_addToMoves(s,u){return s.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ip),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,u){return s.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class iM{constructor(s,u){this.item=s,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oM{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,s))return h;return null}remove(s){const u=s._prevDup,h=s._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class ip{constructor(){this.map=new Map}put(s){const u=s.trackById;let h=this.map.get(u);h||(h=new oM,this.map.set(u,h)),h.add(s)}get(s,u){const m=this.map.get(s);return m?m.get(s,u):null}remove(s){const u=s.trackById;return this.map.get(u).remove(s)&&this.map.delete(u),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function op(a,s,u){const h=a.previousIndex;if(null===h)return h;let m=0;return u&&h<u.length&&(m=u[h]),h+s+m}class ap{constructor(){}supports(s){return s instanceof Map||U7(s)}create(){return new aM}}class aM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let u;for(u=this._mapHead;null!==u;u=u._next)s(u)}forEachPreviousItem(s){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)s(u)}forEachChangedItem(s){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}diff(s){if(s){if(!(s instanceof Map||U7(s)))throw new Error(`Error trying to diff '${oe(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(s,(h,m)=>{if(u&&u.key===m)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const y=this._getOrCreateRecordForKey(m,h);u=this._insertBeforeOrAppend(u,y)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,u){if(s){const h=s._prev;return u._next=s,u._prev=h,s._prev=u,h&&(h._next=u),s===this._mapHead&&(this._mapHead=u),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(s,u){if(this._records.has(s)){const m=this._records.get(s);this._maybeAddToChanges(m,u);const y=m._prev,C=m._next;return y&&(y._next=C),C&&(C._prev=y),m._next=null,m._prev=null,m}const h=new sM(s);return this._records.set(s,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,u){Object.is(u,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=u,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,u){s instanceof Map?s.forEach(u):Object.keys(s).forEach(h=>u(s[h],h))}}class sM{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sp(){return new G8([new rp])}let G8=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const m=h.factories.slice();u=u.concat(m)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||sp()),deps:[[a,new Qt,new h4]]}}find(u){const h=this.factories.find(m=>m.supports(u));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(a){return a.name||typeof a}(u)}'`)}}return a.\u0275prov=W1({token:a,providedIn:"root",factory:sp}),a})();function cp(){return new W8([new ap])}let W8=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const m=h.factories.slice();u=u.concat(m)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||cp()),deps:[[a,new Qt,new h4]]}}find(u){const h=this.factories.find(m=>m.supports(u));if(h)return h;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return a.\u0275prov=W1({token:a,providedIn:"root",factory:cp}),a})();function $8(a,s,u,h,m=!1){for(;null!==u;){const y=s[u.index];if(null!==y&&h.push(mt(y)),dn(y))for(let w=10;w<y.length;w++){const z=y[w],T=z[1].firstChild;null!==T&&$8(z[1],z,T,h)}const C=u.type;if(8&C)$8(a,s,u.child,h);else if(32&C){const w=A4(u,s);let z;for(;z=w();)h.push(z)}else if(16&C){const w=yn(s,u);if(Array.isArray(w))h.push(...w);else{const z=z4(s[16]);$8(z[1],z,w,h,!0)}}u=m?u.projectionNext:u.next}return h}class z0{constructor(s,u){this._lView=s,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,u=s[1];return $8(u,s,u.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(dn(s)){const u=s[8],h=u?u.indexOf(this):-1;h>-1&&(wo(s,h),ri(u,h))}this._attachedToViewContainer=!1}p(this._lView[1],this._lView)}onDestroy(s){Af(this._lView[1],this._lView,null,s)}markForCheck(){x7(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){T7(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,s,u){vr(!0);try{T7(a,s,u)}finally{vr(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,gi(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class lM extends z0{constructor(s){super(s),this._view=s}detectChanges(){Lf(this._view)}checkNoChanges(){!function(a){vr(!0);try{Lf(a)}finally{vr(!1)}}(this._view)}get context(){return null}}const fM=function(a){return function(a,s,u){if(T2(a)&&!u){const h=k2(a.index,s);return new z0(h,h)}return 47&a.type?new z0(s[16],s):null}(Et(),Le(),16==(16&a))};let hM=(()=>{class a{}return a.__NG_ELEMENT_ID__=fM,a})();const mM=[new ap],gM=new G8([new rp]),yM=new W8(mM),bM=function(){return Q8(Et(),Le())};let x0=(()=>{class a{}return a.__NG_ELEMENT_ID__=bM,a})();const CM=x0,MM=class extends CM{constructor(s,u,h){super(),this._declarationLView=s,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(s){const u=this._declarationTContainer.tViews,h=d0(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(u)),p0(u,h,s),new z0(h)}};function Q8(a,s){return 4&a.type?new MM(s,a,jo(a,s)):null}class c6{}class lp{}const EM=function(){return hp(Et(),Le())};let Y8=(()=>{class a{}return a.__NG_ELEMENT_ID__=EM,a})();const xM=Y8,up=class extends xM{constructor(s,u,h){super(),this._lContainer=s,this._hostTNode=u,this._hostLView=h}get element(){return jo(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){const s=$e(this._hostTNode,this._hostLView);if(Z6(s)){const u=U3(s,this._hostLView),h=K4(s);return new Ui(u[1].data[h+8],u)}return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const u=fp(this._lContainer);return null!==u&&u[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,u,h){const m=s.createEmbeddedView(u||{});return this.insert(m,h),m}createComponent(s,u,h,m,y){const C=h||this.parentInjector;if(!y&&null==s.ngModule&&C){const z=C.get(c6,null);z&&(y=z)}const w=s.create(C,m,void 0,y);return this.insert(w.hostView,u),w}insert(s,u){const h=s._lView,m=h[1];if(dn(h[3])){const D=this.indexOf(s);if(-1!==D)this.detach(D);else{const k=h[3],F=new up(k,k[6],k[3]);F.detach(F.indexOf(s))}}const y=this._adjustIndex(u),C=this._lContainer;!function(a,s,u,h){const m=10+h,y=u.length;h>0&&(u[m-1][4]=s),h<y-10?(s[4]=u[m],wr(u,10+h,s)):(u.push(s),s[4]=null),s[3]=u;const C=s[17];null!==C&&u!==C&&function(a,s){const u=a[9];s[16]!==s[3][3][16]&&(a[2]=!0),null===u?a[9]=[s]:u.push(s)}(C,s);const w=s[19];null!==w&&w.insertView(a),s[2]|=128}(m,h,C,y);const w=o3(y,C),z=h[11],T=G(z,C[7]);return null!==T&&function(a,s,u,h,m,y){h[0]=m,h[6]=s,gi(a,h,u,1,m,y)}(m,C[6],z,h,T,w),s.attachToViewContainerRef(),wr(Ml(C),y,s),s}move(s,u){return this.insert(s,u)}indexOf(s){const u=fp(this._lContainer);return null!==u?u.indexOf(s):-1}remove(s){const u=this._adjustIndex(s,-1),h=wo(this._lContainer,u);h&&(ri(Ml(this._lContainer),u),p(h[1],h))}detach(s){const u=this._adjustIndex(s,-1),h=wo(this._lContainer,u);return h&&null!=ri(Ml(this._lContainer),u)?new z0(h):null}_adjustIndex(s,u=0){return null==s?this.length+u:s}};function fp(a){return a[8]}function Ml(a){return a[8]||(a[8]=[])}function hp(a,s){let u;const h=s[a.index];if(dn(h))u=h;else{let m;if(8&a.type)m=mt(h);else{const y=s[11];m=y.createComment("");const C=pn(a,s);N(y,G(y,C),m,function(a,s){return _t(a)?a.nextSibling(s):s.nextSibling}(y,C),!1)}s[a.index]=u=Df(h,s,m,a),S8(s,u)}return new up(u,a,s)}const $o={};class Dp extends s6{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const u=f2(s);return new Rp(u,this.ngModule)}}function Lp(a){const s=[];for(let u in a)a.hasOwnProperty(u)&&s.push({propName:a[u],templateName:u});return s}const Aw=new It("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>v8});class Rp extends Kd{constructor(s,u){super(),this.componentDef=s,this.ngModule=u,this.componentType=s.type,this.selector=s.selectors.map(yy).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Lp(this.componentDef.inputs)}get outputs(){return Lp(this.componentDef.outputs)}create(s,u,h,m){const y=(m=m||this.ngModule)?function(a,s){return{get:(u,h,m)=>{const y=a.get(u,$o,m);return y!==$o||h===$o?y:s.get(u,h,m)}}}(s,m.injector):s,C=y.get(q8,y1),w=y.get(bl,null),z=C.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",D=h?function(a,s,u){if(_t(a))return a.selectRootElement(s,u===Qe.ShadowDom);let h="string"==typeof s?a.querySelector(s):s;return h.textContent="",h}(z,h,this.componentDef.encapsulation):f0(C.createRenderer(null,this.componentDef),T,function(a){const s=a.toLowerCase();return"svg"===s?lt:"math"===s?"http://www.w3.org/1998/MathML/":null}(T)),k=this.componentDef.onPush?576:528,F=function(a,s){return{components:[],scheduler:a||v8,clean:n_,playerHandler:s||null,flags:0}}(),W=x8(0,null,null,1,0,null,null,null,null,null),X=d0(null,W,F,k,null,null,C,z,w,y);let ye,ae;J4(X);try{const He=function(a,s,u,h,m,y){const C=u[1];u[20]=a;const z=Ao(C,20,2,"#host",null),T=z.mergedAttrs=s.hostAttrs;null!==T&&(T8(z,T,!0),null!==a&&(U6(m,a,T),null!==z.classes&&c7(m,a,z.classes),null!==z.styles&&nf(m,a,z.styles)));const D=h.createRenderer(a,s),k=d0(u,Cf(s),null,s.onPush?64:16,u[20],z,h,D,y||null,null);return C.firstCreatePass&&(Nt(Pi(z,u),C,s.type),Tf(C,z),Nf(z,u.length,1)),S8(u,k),u[20]=k}(D,this.componentDef,X,C,z);if(D)if(h)U6(z,D,["ng-version",Cl.full]);else{const{attrs:Te,classes:r1}=function(a){const s=[],u=[];let h=1,m=2;for(;h<a.length;){let y=a[h];if("string"==typeof y)2===m?""!==y&&s.push(y,a[++h]):8===m&&u.push(y);else{if(!Nr(m))break;m=y}h++}return{attrs:s,classes:u}}(this.componentDef.selectors[0]);Te&&U6(z,D,Te),r1&&r1.length>0&&c7(z,D,r1.join(" "))}if(ae=Kr(W,20),void 0!==u){const Te=ae.projection=[];for(let r1=0;r1<this.ngContentSelectors.length;r1++){const _1=u[r1];Te.push(null!=_1?Array.from(_1):null)}}ye=function(a,s,u,h,m){const y=u[1],C=function(a,s,u){const h=Et();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),If(a,h,s,Eo(a,s,1,null),u));const m=Ot(s,a,h.directiveStart,h);Yt(m,s);const y=pn(h,s);return y&&Yt(y,s),m}(y,u,s);if(h.components.push(C),a[8]=C,m&&m.forEach(z=>z(C,s)),s.contentQueries){const z=Et();s.contentQueries(1,C,z.directiveStart)}const w=Et();return!y.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Tn(w.index),xf(u[1],w,0,w.directiveStart,w.directiveEnd,s),Sf(s,C)),C}(He,this.componentDef,X,F,[x_]),p0(W,X,null)}finally{yr()}return new xw(this.componentType,ye,jo(ae,X),X,ae)}}class xw extends class{}{constructor(s,u,h,m,y){super(),this.location=h,this._rootLView=m,this._tNode=y,this.instance=u,this.hostView=this.changeDetectorRef=new lM(m),this.componentType=s}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Qo=new Map;class tc extends c6{constructor(s,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Dp(this);const h=hn(s),m=s[Ze]||null;m&&fl(m),this._bootstrapComponents=nr(h.bootstrap),this._r3Injector=Uf(s,u,[{provide:c6,useValue:this},{provide:s6,useValue:this.componentFactoryResolver}],oe(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,u=vt.THROW_IF_NOT_FOUND,h=We.Default){return s===vt||s===c6||s===xo?this:this._r3Injector.get(s,u,h)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Vl extends lp{constructor(s){super(),this.moduleType=s,null!==hn(s)&&function(a){const s=new Set;!function u(h){const m=hn(h,!0),y=m.id;null!==y&&(function(a,s,u){if(s&&s!==u)throw new Error(`Duplicate module registered for ${a} - ${oe(s)} vs ${oe(s.name)}`)}(y,Qo.get(y),h),Qo.set(y,h));const C=nr(m.imports);for(const w of C)s.has(w)||(s.add(w),u(w))}(a)}(s)}create(s){return new tc(this.moduleType,s)}}function Op(a,s,u){const h=kt()+a,m=Le();return m[h]===E1?S4(m,h,u?s.call(u):s()):function(a,s){return a[s]}(m,h)}function Hp(a,s,u,h){return Pp(Le(),kt(),a,s,u,h)}function V0(a,s){const u=a[s];return u===E1?void 0:u}function Pp(a,s,u,h,m,y){const C=s+u;return P2(a,C,m)?S4(a,C+1,y?h.call(y,m):h(m)):V0(a,C+1)}function jp(a,s){const u=U1();let h;const m=a+20;u.firstCreatePass?(h=function(a,s){if(s)for(let u=s.length-1;u>=0;u--){const h=s[u];if(a===h.name)return h}throw new be("302",`The pipe '${a}' could not be found!`)}(s,u.pipeRegistry),u.data[m]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(m,h.onDestroy)):h=u.data[m];const y=h.factory||(h.factory=mr(h.type)),C=Mt(C0);try{const w=X4(!1),z=y();return X4(w),function(a,s,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),s[u]=h}(u,Le(),m,z),z}finally{Mt(C)}}function qp(a,s,u){const h=a+20,m=Le(),y=Xr(m,h);return O0(m,k0(m,h)?Pp(m,kt(),s,y.transform,u,y):y.transform(u))}function Gp(a,s,u,h){const m=a+20,y=Le(),C=Xr(y,m);return O0(y,k0(y,m)?function(a,s,u,h,m,y,C){const w=s+u;return o6(a,w,m,y)?S4(a,w+2,C?h.call(C,m,y):h(m,y)):V0(a,w+2)}(y,kt(),s,C.transform,u,h,C):C.transform(u,h))}function k0(a,s){return a[1].data[s].pure}function O0(a,s){return Lr.isWrapped(s)&&(s=Lr.unwrap(s),a[$2()]=E1),s}function kl(a){return s=>{setTimeout(a,void 0,s)}}const D4=class extends l.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,u,h){var m,y,C;let w=s,z=u||(()=>null),T=h;if(s&&"object"==typeof s){const k=s;w=null===(m=k.next)||void 0===m?void 0:m.bind(k),z=null===(y=k.error)||void 0===y?void 0:y.bind(k),T=null===(C=k.complete)||void 0===C?void 0:C.bind(k)}this.__isAsync&&(z=kl(z),w&&(w=kl(w)),T&&(T=kl(T)));const D=super.subscribe({next:w,error:z,complete:T});return s instanceof ve.w&&s.add(D),D}};function Bw(){return this._results[No()]()}class nc{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=No(),h=nc.prototype;h[u]||(h[u]=Bw)}get changes(){return this._changes||(this._changes=new D4)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,u){return this._results.reduce(s,u)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,u){const h=this;h.dirty=!1;const m=gn(s);(this._changesDetected=!function(a,s,u){if(a.length!==s.length)return!1;for(let h=0;h<a.length;h++){let m=a[h],y=s[h];if(u&&(m=u(m),y=u(y)),y!==m)return!1}return!0}(h._results,m,u))&&(h._results=m,h.length=m.length,h.last=m[this.length-1],h.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Ol{constructor(s){this.queryList=s,this.matches=null}clone(){return new Ol(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hl{constructor(s=[]){this.queries=s}createEmbeddedView(s){const u=s.queries;if(null!==u){const h=null!==s.contentQueries?s.contentQueries[0]:u.length,m=[];for(let y=0;y<h;y++){const C=u.getByIndex(y);m.push(this.queries[C.indexInDeclarationView].clone())}return new Hl(m)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let u=0;u<this.queries.length;u++)null!==tm(s,u).matches&&this.queries[u].setDirty()}}class Wp{constructor(s,u,h=null){this.predicate=s,this.flags=u,this.read=h}}class Pl{constructor(s=[]){this.queries=s}elementStart(s,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(s,u)}elementEnd(s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(s)}embeddedTView(s){let u=null;for(let h=0;h<this.length;h++){const m=null!==u?u.length:0,y=this.getByIndex(h).embeddedTView(s,m);y&&(y.indexInDeclarationView=h,null!==u?u.push(y):u=[y])}return null!==u?new Pl(u):null}template(s,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(s,u)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Fl{constructor(s,u=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(s,u){this.isApplyingToNode(u)&&this.matchTNode(s,u)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,u){this.elementStart(s,u)}embeddedTView(s,u){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,u),new Fl(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=s.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(s,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let m=0;m<h.length;m++){const y=h[m];this.matchTNodeWithReadOption(s,u,Gw(u,y)),this.matchTNodeWithReadOption(s,u,Fi(u,s,y,!1,!1))}else h===x0?4&u.type&&this.matchTNodeWithReadOption(s,u,-1):this.matchTNodeWithReadOption(s,u,Fi(u,s,h,!1,!1))}matchTNodeWithReadOption(s,u,h){if(null!==h){const m=this.metadata.read;if(null!==m)if(m===I4||m===Y8||m===x0&&4&u.type)this.addMatch(u.index,-2);else{const y=Fi(u,s,m,!1,!1);null!==y&&this.addMatch(u.index,y)}else this.addMatch(u.index,h)}}addMatch(s,u){null===this.matches?this.matches=[s,u]:this.matches.push(s,u)}}function Gw(a,s){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===s)return u[h+1];return null}function $w(a,s,u,h){return-1===u?function(a,s){return 11&a.type?jo(a,s):4&a.type?Q8(a,s):null}(s,a):-2===u?function(a,s,u){return u===I4?jo(s,a):u===x0?Q8(s,a):u===Y8?hp(s,a):void 0}(a,s,h):Ot(a,a[1],u,s)}function $p(a,s,u,h){const m=s[19].queries[h];if(null===m.matches){const y=a.data,C=u.matches,w=[];for(let z=0;z<C.length;z+=2){const T=C[z];w.push(T<0?null:$w(s,y[T],C[z+1],u.metadata.read))}m.matches=w}return m.matches}function Ul(a,s,u,h){const m=a.queries.getByIndex(u),y=m.matches;if(null!==y){const C=$p(a,s,m,u);for(let w=0;w<y.length;w+=2){const z=y[w];if(z>0)h.push(C[w/2]);else{const T=y[w+1],D=s[-z];for(let k=10;k<D.length;k++){const F=D[k];F[17]===F[3]&&Ul(F[1],F,T,h)}if(null!==D[9]){const k=D[9];for(let F=0;F<k.length;F++){const W=k[F];Ul(W[1],W,T,h)}}}}}return h}function Qp(a){const s=Le(),u=U1(),h=O6();Y4(h+1);const m=tm(u,h);if(a.dirty&&Is(s)===(2==(2&m.metadata.flags))){if(null===m.matches)a.reset([]);else{const y=m.crossesNgTemplate?Ul(u,s,h,[]):$p(u,s,m,h);a.reset(y,tp),a.notifyOnChanges()}return!0}return!1}function Yp(a,s,u){const h=U1();h.firstCreatePass&&(em(h,new Wp(a,s,u),-1),2==(2&s)&&(h.staticViewQueries=!0)),Xp(h,Le(),s)}function Jp(a,s,u,h){const m=U1();if(m.firstCreatePass){const y=Et();em(m,new Wp(s,u,h),y.index),function(a,s){const u=a.contentQueries||(a.contentQueries=[]);s!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,s)}(m,a),2==(2&u)&&(m.staticContentQueries=!0)}Xp(m,Le(),u)}function Kp(){return a=Le(),s=O6(),a[19].queries[s].queryList;var a,s}function Xp(a,s,u){const h=new nc(4==(4&u));Af(a,s,h,h.destroy),null===s[19]&&(s[19]=new Hl),s[19].queries.push(new Ol(h))}function em(a,s,u){null===a.queries&&(a.queries=new Pl),a.queries.track(new Fl(s,u))}function tm(a,s){return a.queries.getByIndex(s)}const Wl=new It("Application Initializer");let Jo=(()=>{class a{constructor(u){this.appInits=u,this.resolve=j8,this.reject=j8,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,m)=>{this.resolve=h,this.reject=m})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const y=this.appInits[m]();if(X7(y))u.push(y);else if(el(y)){const C=new Promise((w,z)=>{y.subscribe({complete:w,error:z})});u.push(C)}}Promise.all(u).then(()=>{h()}).catch(m=>{this.reject(m)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(X1(Wl,8))},a.\u0275prov=W1({token:a,factory:a.\u0275fac}),a})();const _m=new It("AppId"),EA={provide:_m,useFactory:function(){return`${$l()}${$l()}${$l()}`},deps:[]};function $l(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bm=new It("Platform Initializer"),Cm=new It("Platform ID"),Mm=new It("appBootstrapListener");let wm=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=W1({token:a,factory:a.\u0275fac}),a})();const oc=new It("LocaleId"),Am=new It("DefaultCurrencyCode");class xA{constructor(s,u){this.ngModuleFactory=s,this.componentFactories=u}}const Ql=function(a){return new Vl(a)},SA=Ql,TA=function(a){return Promise.resolve(Ql(a))},Em=function(a){const s=Ql(a),h=nr(hn(a).declarations).reduce((m,y)=>{const C=f2(y);return C&&m.push(new Rp(C)),m},[]);return new xA(s,h)},NA=Em,IA=function(a){return Promise.resolve(Em(a))};let P0=(()=>{class a{constructor(){this.compileModuleSync=SA,this.compileModuleAsync=TA,this.compileModuleAndAllComponentsSync=NA,this.compileModuleAndAllComponentsAsync=IA}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=W1({token:a,factory:a.\u0275fac}),a})();const RA=(()=>Promise.resolve(0))();function Yl(a){"undefined"==typeof Zone?RA.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Hn{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new D4(!1),this.onMicrotaskEmpty=new D4(!1),this.onStable=new D4(!1),this.onError=new D4(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!h&&u,m.shouldCoalesceRunChangeDetection=h,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function(){let a=it.requestAnimationFrame,s=it.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&s){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=s[Zone.__symbol__("OriginalDelegate")];h&&(s=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(a){const s=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(it,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Kl(a),a.isCheckStableRunning=!0,Jl(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Kl(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,m,y,C,w)=>{try{return zm(a),u.invokeTask(m,y,C,w)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||a.shouldCoalesceRunChangeDetection)&&s(),xm(a)}},onInvoke:(u,h,m,y,C,w,z)=>{try{return zm(a),u.invoke(m,y,C,w,z)}finally{a.shouldCoalesceRunChangeDetection&&s(),xm(a)}},onHasTask:(u,h,m,y)=>{u.hasTask(m,y),h===m&&("microTask"==y.change?(a._hasPendingMicrotasks=y.microTask,Kl(a),Jl(a)):"macroTask"==y.change&&(a.hasPendingMacrotasks=y.macroTask))},onHandleError:(u,h,m,y)=>(u.handleError(m,y),a.runOutsideAngular(()=>a.onError.emit(y)),!1)})}(m)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Hn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,u,h){return this._inner.run(s,u,h)}runTask(s,u,h,m){const y=this._inner,C=y.scheduleEventTask("NgZoneEvent: "+m,s,kA,j8,j8);try{return y.runTask(C,u,h)}finally{y.cancelTask(C)}}runGuarded(s,u,h){return this._inner.runGuarded(s,u,h)}runOutsideAngular(s){return this._outer.run(s)}}const kA={};function Jl(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Kl(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function zm(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function xm(a){a._nesting--,Jl(a)}class PA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new D4,this.onMicrotaskEmpty=new D4,this.onStable=new D4,this.onError=new D4}run(s,u,h){return s.apply(u,h)}runGuarded(s,u,h){return s.apply(u,h)}runOutsideAngular(s){return s()}runTask(s,u,h,m){return s.apply(u,h)}}let Sm=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hn.assertNotInAngularZone(),Yl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yl(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,m){let y=-1;h&&h>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(C=>C.timeoutId!==y),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:y,updateCb:m})}whenStable(u,h,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,h,m){return[]}}return a.\u0275fac=function(u){return new(u||a)(X1(Hn))},a.\u0275prov=W1({token:a,factory:a.\u0275fac}),a})(),Tm=(()=>{class a{constructor(){this._applications=new Map,Xl.addToWindow(this)}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Xl.findTestabilityInTree(this,u,h)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=W1({token:a,factory:a.\u0275fac}),a})();class FA{addToWindow(s){}findTestabilityInTree(s,u,h){return null}}function UA(a){Xl=a}let Xl=new FA,Nm=!0,Im=!1;function e9(){return Im=!0,Nm}function ZA(){if(Im)throw new Error("Cannot enable prod mode after platform setup.");Nm=!1}let Hr;const Dm=new It("AllowMultipleToken");class QA{constructor(s,u){this.name=s,this.token=u}}function Lm(a,s,u=[]){const h=`Platform: ${s}`,m=new It(h);return(y=[])=>{let C=Rm();if(!C||C.injector.get(Dm,!1))if(a)a(u.concat(y).concat({provide:m,useValue:!0}));else{const w=u.concat(y).concat({provide:m,useValue:!0},{provide:m0,useValue:"platform"});!function(a){if(Hr&&!Hr.destroyed&&!Hr.injector.get(Dm,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Hr=a.get(Vm);const s=a.get(bm,null);s&&s.forEach(u=>u())}(vt.create({providers:w,name:h}))}return function(a){const s=Rm();if(!s)throw new Error("No platform exists!");if(!s.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(m)}}function Rm(){return Hr&&!Hr.destroyed?Hr:null}let Vm=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const w=function(a,s){let u;return u="noop"===a?new PA:("zone.js"===a?void 0:a)||new Hn({enableLongStackTrace:e9(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),u}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),z=[{provide:Hn,useValue:w}];return w.run(()=>{const T=vt.create({providers:z,parent:this.injector,name:u.moduleType.name}),D=u.create(T),k=D.injector.get(n3,null);if(!k)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const F=w.onError.subscribe({next:W=>{k.handleError(W)}});D.onDestroy(()=>{t9(this._modules,D),F.unsubscribe()})}),function(a,s,u){try{const h=u();return X7(h)?h.catch(m=>{throw s.runOutsideAngular(()=>a.handleError(m)),m}):h}catch(h){throw s.runOutsideAngular(()=>a.handleError(h)),h}}(k,w,()=>{const F=D.injector.get(Jo);return F.runInitializers(),F.donePromise.then(()=>(fl(D.injector.get(oc,O8)||O8),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,h=[]){const m=km({},h);return function(a,s,u){const h=new Vl(u);return Promise.resolve(h)}(0,0,u).then(y=>this.bootstrapModuleFactory(y,m))}_moduleDoBootstrap(u){const h=u.injector.get(F0);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(m=>h.bootstrap(m));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${oe(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(X1(vt))},a.\u0275prov=W1({token:a,factory:a.\u0275fac}),a})();function km(a,s){return Array.isArray(s)?s.reduce(km,a):Object.assign(Object.assign({},a),s)}let F0=(()=>{class a{constructor(u,h,m,y,C){this._zone=u,this._injector=h,this._exceptionHandler=m,this._componentFactoryResolver=y,this._initStatus=C,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new L.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),z=new L.y(T=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Hn.assertNotInAngularZone(),Yl(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Hn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{D.unsubscribe(),k.unsubscribe()}});this.isStable=(0,te.T)(w,z.pipe((0,Me.B)()))}bootstrap(u,h){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let m;m=u instanceof Kd?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(m.componentType);const y=function(a){return a.isBoundToModule}(m)?void 0:this._injector.get(c6),w=m.create(vt.NULL,[],h||m.selector,y),z=w.location.nativeElement,T=w.injector.get(Sm,null),D=T&&w.injector.get(Tm);return T&&D&&D.registerApplication(z,T),w.onDestroy(()=>{this.detachView(w.hostView),t9(this.components,w),D&&D.unregisterApplication(z)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;t9(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Mm,[]).concat(this._bootstrapListeners).forEach(m=>m(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(X1(Hn),X1(vt),X1(n3),X1(s6),X1(Jo))},a.\u0275prov=W1({token:a,factory:a.\u0275fac}),a})();function t9(a,s){const u=a.indexOf(s);u>-1&&a.splice(u,1)}class tE{}class rE{}const iE={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let oE=(()=>{class a{constructor(u,h){this._compiler=u,this._config=h||iE}load(u){return this.loadAndCompile(u)}loadAndCompile(u){let[h,m]=u.split("#");return void 0===m&&(m="default"),B(1856)(h).then(y=>y[m]).then(y=>Fm(y,h,m)).then(y=>this._compiler.compileModuleAsync(y))}loadFactory(u){let[h,m]=u.split("#"),y="NgFactory";return void 0===m&&(m="default",y=""),B(1856)(this._config.factoryPathPrefix+h+this._config.factoryPathSuffix).then(C=>C[m+y]).then(C=>Fm(C,h,m))}}return a.\u0275fac=function(u){return new(u||a)(X1(P0),X1(rE,8))},a.\u0275prov=W1({token:a,factory:a.\u0275fac}),a})();function Fm(a,s,u){if(!a)throw new Error(`Cannot find '${u}' in '${s}'`);return a}const dE=function(a){return null},mE=Lm(null,"core",[{provide:Cm,useValue:"unknown"},{provide:Vm,deps:[vt]},{provide:Tm,deps:[]},{provide:wm,deps:[]}]),bE=[{provide:F0,useClass:F0,deps:[Hn,vt,n3,s6,Jo]},{provide:Aw,deps:[Hn],useFactory:function(a){let s=[];return a.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(u){s.push(u)}}},{provide:Jo,useClass:Jo,deps:[[new h4,Wl]]},{provide:P0,useClass:P0,deps:[]},EA,{provide:G8,useFactory:function(){return gM},deps:[]},{provide:W8,useFactory:function(){return yM},deps:[]},{provide:oc,useFactory:function(a){return fl(a=a||"undefined"!=typeof $localize&&$localize.locale||O8),a},deps:[[new li(oc),new h4,new Qt]]},{provide:Am,useValue:"USD"}];let ME=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(X1(F0))},a.\u0275mod=C3({type:a}),a.\u0275inj=zt({providers:bE}),a})()},57:(Ke,Ne,B)=>{"use strict";B.d(Ne,{hO:()=>rt,xv:()=>Be,Dh:()=>ze,Ot:()=>Ie,HU:()=>ee,GT:()=>be,sI:()=>Ct,on:()=>Xe,ss:()=>q,pX:()=>ie,yq:()=>g1});var l=B(7771),ve=B(3637),L=B(3342),te=B(2639),Me=B(309),ne=B(7716),Ee=B(2329);function oe(){}Ke=B.hmd(Ke);class re{constructor(de,me=l.N){this.zone=de,this.delegate=me}now(){return this.delegate.now()}schedule(de,me,fe){const De=this.zone;return this.delegate.schedule(function(s1){De.runGuarded(()=>{de.apply(this,[s1])})},me,fe)}}class j{constructor(de){this.zone=de,this.task=null}call(de,me){const fe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oe,{},oe,oe)),me.pipe((0,L.b)({next:fe,complete:fe,error:fe})).subscribe(de).add(fe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class ee{constructor(de){this.ngZone=de,this.outsideAngular=de.runOutsideAngular(()=>new re(Zone.current)),this.insideAngular=de.run(()=>new re(Zone.current,ve.z))}}function q(he){return function(me){return(me=me.lift(new j(he.ngZone))).pipe((0,te.R)(he.outsideAngular),(0,Me.QV)(he.insideAngular))}}const K=["ngOnDestroy"],ie=(he,de,me,fe={})=>new Proxy(he,{get:(De,pe)=>me.runOutsideAngular(()=>{var s1;if(he[pe])return(null===(s1=null==fe?void 0:fe.spy)||void 0===s1?void 0:s1.get)&&fe.spy.get(pe,he[pe]),he[pe];if(K.indexOf(pe)>-1)return()=>{};const u1=de.toPromise().then(gt=>{const n1=gt&&gt[pe];return"function"==typeof n1?n1.bind(gt):n1&&n1.then?n1.then(c1=>me.run(()=>c1)):me.run(()=>n1)});return new Proxy(()=>{},{get:(gt,n1)=>u1[n1],apply:(gt,n1,c1)=>u1.then(je=>{var Je;const x1=je&&je(...c1);return(null===(Je=null==fe?void 0:fe.spy)||void 0===Je?void 0:Je.apply)&&fe.spy.apply(pe,c1,x1),x1})})})}),be=(he,de)=>{de.forEach(me=>{Object.getOwnPropertyNames(me.prototype||me).forEach(fe=>{Object.defineProperty(he.prototype,fe,Object.getOwnPropertyDescriptor(me.prototype||me,fe))})})},ze=new ne.OlP("angularfire2.app.options"),Be=new ne.OlP("angularfire2.app.nameOrConfig");class Ie{}const Se=new ne.GfV("6.1.5");function Xe(he,de,me){const De="object"==typeof me&&me||{};De.name=De.name||"string"==typeof me&&me||"[DEFAULT]";const s1=Ee.Z.apps.filter(u1=>u1&&u1.name===De.name)[0]||de.runOutsideAngular(()=>Ee.Z.initializeApp(he,De));try{JSON.stringify(he)!==JSON.stringify(s1.options)&&t1("error",`${s1.name} Firebase App already initialized with different options${Ke.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(u1){}return s1}const g1=()=>{t1("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},t1=(he,...de)=>{(0,ne.X6Q)()&&"undefined"!=typeof console&&console[he](...de)};function Ct(he,de,me,fe,De){const[pe,...s1]=globalThis.\u0275AngularfireInstanceCache.get(he)||[];if(pe){try{De.some((u1,gt)=>{const n1=s1[gt];return u1&&"object"==typeof u1?JSON.stringify(u1)!==JSON.stringify(n1):u1!==n1})&&t1("error",`${de} was already initialized on the ${me.name} Firebase App instance with different settings.${Ke.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u1){}return pe}{const u1=fe();return globalThis.\u0275AngularfireInstanceCache.set(he,[u1,...De]),u1}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const G1={provide:Ie,useFactory:Xe,deps:[ze,ne.R0b,[new ne.FiY,Be]]};let rt=(()=>{class he{constructor(me){Ee.Z.registerVersion("angularfire",Se.full,me.toString()),Ee.Z.registerVersion("angular",ne.q4F.full)}static initializeApp(me,fe){return{ngModule:he,providers:[{provide:ze,useValue:me},{provide:Be,useValue:fe}]}}}return he.\u0275fac=function(me){return new(me||he)(ne.LFG(ne.Lbi))},he.\u0275mod=ne.oAB({type:he}),he.\u0275inj=ne.cJS({providers:[G1]}),he})()},9759:(Ke,Ne,B)=>{"use strict";B.d(Ne,{Z:()=>c1});var Me,t1,l=B(4762),ve=B(4685),L=B(6034),te=B(300),ne=((Me={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Me["bad-app-name"]="Illegal App name: '{$appName}",Me["duplicate-app"]="Firebase App named '{$appName}' already exists",Me["app-deleted"]="Firebase App named '{$appName}' already deleted",Me["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Me["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Me),Ee=new ve.LL("app","Firebase",ne),oe="@firebase/app",Q1="[DEFAULT]",Ct=((t1={})[oe]="fire-core",t1["@firebase/analytics"]="fire-analytics",t1["@firebase/app-check"]="fire-app-check",t1["@firebase/auth"]="fire-auth",t1["@firebase/database"]="fire-rtdb",t1["@firebase/functions"]="fire-fn",t1["@firebase/installations"]="fire-iid",t1["@firebase/messaging"]="fire-fcm",t1["@firebase/performance"]="fire-perf",t1["@firebase/remote-config"]="fire-rc",t1["@firebase/storage"]="fire-gcs",t1["@firebase/firestore"]="fire-fst",t1["fire-js"]="fire-js",t1["firebase-wrapper"]="fire-js-all",t1),G1=new te.Yd("@firebase/app"),rt=function(){function je(Je,x1,pt){var W1=this;this.firebase_=pt,this.isDeleted_=!1,this.name_=x1.name,this.automaticDataCollectionEnabled_=x1.automaticDataCollectionEnabled||!1,this.options_=(0,ve.p$)(Je),this.container=new L.H0(x1.name),this._addComponent(new L.wA("app",function(){return W1},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(fn){return W1._addComponent(fn)})}return Object.defineProperty(je.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Je){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Je},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),je.prototype.delete=function(){var Je=this;return new Promise(function(x1){Je.checkDestroyed_(),x1()}).then(function(){return Je.firebase_.INTERNAL.removeApp(Je.name_),Promise.all(Je.container.getProviders().map(function(x1){return x1.delete()}))}).then(function(){Je.isDeleted_=!0})},je.prototype._getService=function(Je,x1){var pt;void 0===x1&&(x1=Q1),this.checkDestroyed_();var W1=this.container.getProvider(Je);return!W1.isInitialized()&&"EXPLICIT"===(null===(pt=W1.getComponent())||void 0===pt?void 0:pt.instantiationMode)&&W1.initialize(),W1.getImmediate({identifier:x1})},je.prototype._removeServiceInstance=function(Je,x1){void 0===x1&&(x1=Q1),this.container.getProvider(Je).clearInstance(x1)},je.prototype._addComponent=function(Je){try{this.container.addComponent(Je)}catch(x1){G1.debug("Component "+Je.name+" failed to register with FirebaseApp "+this.name,x1)}},je.prototype._addOrOverwriteComponent=function(Je){this.container.addOrOverwriteComponent(Je)},je.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},je.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ee.create("app-deleted",{appName:this.name_})},je}();rt.prototype.name&&rt.prototype.options||rt.prototype.delete||console.log("dc");var fe=function me(){var je=function(je){var Je={},x1=new Map,pt={__esModule:!0,initializeApp:function(Z1,L1){void 0===L1&&(L1={}),("object"!=typeof L1||null===L1)&&(L1={name:L1});var r2=L1;void 0===r2.name&&(r2.name=Q1);var We=r2.name;if("string"!=typeof We||!We)throw Ee.create("bad-app-name",{appName:String(We)});if((0,ve.r3)(Je,We))throw Ee.create("duplicate-app",{appName:We});var yt=new je(Z1,r2,pt);return Je[We]=yt,yt},app:fn,registerVersion:function(Z1,L1,n2){var r2,We=null!==(r2=Ct[Z1])&&void 0!==r2?r2:Z1;n2&&(We+="-"+n2);var yt=We.match(/\s|\//),Xt=L1.match(/\s|\//);if(yt||Xt){var Mt=['Unable to register library "'+We+'" with version "'+L1+'":'];return yt&&Mt.push('library name "'+We+'" contains illegal characters (whitespace or "/")'),yt&&Xt&&Mt.push("and"),Xt&&Mt.push('version name "'+L1+'" contains illegal characters (whitespace or "/")'),void G1.warn(Mt.join(" "))}An(new L.wA(We+"-version",function(){return{library:We,version:L1}},"VERSION"))},setLogLevel:te.Ub,onLog:function(Z1,L1){if(null!==Z1&&"function"!=typeof Z1)throw Ee.create("invalid-log-argument");(0,te.Am)(Z1,L1)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:An,removeApp:function(Z1){delete Je[Z1]},components:x1,useAsService:function(Z1,L1){return"serverAuth"===L1?null:L1}}};function fn(Z1){if(!(0,ve.r3)(Je,Z1=Z1||Q1))throw Ee.create("no-app",{appName:Z1});return Je[Z1]}function An(Z1){var L1=Z1.name;if(x1.has(L1))return G1.debug("There were multiple attempts to register component "+L1+"."),"PUBLIC"===Z1.type?pt[L1]:null;if(x1.set(L1,Z1),"PUBLIC"===Z1.type){var n2=function(Xt){if(void 0===Xt&&(Xt=fn()),"function"!=typeof Xt[L1])throw Ee.create("invalid-app-argument",{appName:L1});return Xt[L1]()};void 0!==Z1.serviceProps&&(0,ve.ZB)(n2,Z1.serviceProps),pt[L1]=n2,je.prototype[L1]=function(){for(var Xt=[],Mt=0;Mt<arguments.length;Mt++)Xt[Mt]=arguments[Mt];return this._getService.bind(this,L1).apply(this,Z1.multipleInstances?Xt:[])}}for(var r2=0,We=Object.keys(Je);r2<We.length;r2++)Je[We[r2]]._addComponent(Z1);return"PUBLIC"===Z1.type?pt[L1]:null}return pt.default=pt,Object.defineProperty(pt,"apps",{get:function(){return Object.keys(Je).map(function(Z1){return Je[Z1]})}}),fn.App=je,pt}(rt);return je.INTERNAL=(0,l.pi)((0,l.pi)({},je.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function(x1){(0,ve.ZB)(je,x1)},createSubscribe:ve.ne,ErrorFactory:ve.LL,deepExtend:ve.ZB}),je}(),De=function(){function je(Je){this.container=Je}return je.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(x1){if(function(je){var Je=je.getComponent();return"VERSION"===(null==Je?void 0:Je.type)}(x1)){var pt=x1.getImmediate();return pt.library+"/"+pt.version}return null}).filter(function(x1){return x1}).join(" ")},je}();if((0,ve.jU)()&&void 0!==self.firebase){G1.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var u1=self.firebase.SDK_VERSION;u1&&u1.indexOf("LITE")>=0&&G1.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var gt=fe.initializeApp;fe.initializeApp=function(){for(var je=[],Je=0;Je<arguments.length;Je++)je[Je]=arguments[Je];return(0,ve.UG)()&&G1.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),gt.apply(void 0,je)};var je,n1=fe;(je=n1).INTERNAL.registerComponent(new L.wA("platform-logger",function(x1){return new De(x1)},"PRIVATE")),je.registerVersion(oe,"0.6.30",undefined),je.registerVersion("fire-js","");const c1=n1},6034:(Ke,Ne,B)=>{"use strict";B.d(Ne,{wA:()=>L,H0:()=>oe,zt:()=>Me});var l=B(4762),ve=B(4685),L=function(){function re(j,ee,q){this.name=j,this.instanceFactory=ee,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return re.prototype.setInstantiationMode=function(j){return this.instantiationMode=j,this},re.prototype.setMultipleInstances=function(j){return this.multipleInstances=j,this},re.prototype.setServiceProps=function(j){return this.serviceProps=j,this},re.prototype.setInstanceCreatedCallback=function(j){return this.onInstanceCreated=j,this},re}(),te="[DEFAULT]",Me=function(){function re(j,ee){this.name=j,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return re.prototype.get=function(j){var ee=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(ee)){var q=new ve.BH;if(this.instancesDeferred.set(ee,q),this.isInitialized(ee)||this.shouldAutoInitialize())try{var K=this.getOrInitializeService({instanceIdentifier:ee});K&&q.resolve(K)}catch(ie){}}return this.instancesDeferred.get(ee).promise},re.prototype.getImmediate=function(j){var ee,q=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),K=null!==(ee=null==j?void 0:j.optional)&&void 0!==ee&&ee;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(K)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(ie){if(K)return null;throw ie}},re.prototype.getComponent=function(){return this.component},re.prototype.setComponent=function(j){var ee,q;if(j.name!==this.name)throw Error("Mismatching Component "+j.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=j,this.shouldAutoInitialize()){if(function(re){return"EAGER"===re.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:te})}catch(Xe){}try{for(var K=(0,l.XA)(this.instancesDeferred.entries()),ie=K.next();!ie.done;ie=K.next()){var be=(0,l.CR)(ie.value,2),Be=be[1],Ie=this.normalizeInstanceIdentifier(be[0]);try{var Se=this.getOrInitializeService({instanceIdentifier:Ie});Be.resolve(Se)}catch(Xe){}}}catch(Xe){ee={error:Xe}}finally{try{ie&&!ie.done&&(q=K.return)&&q.call(K)}finally{if(ee)throw ee.error}}}},re.prototype.clearInstance=function(j){void 0===j&&(j=te),this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)},re.prototype.delete=function(){return(0,l.mG)(this,void 0,void 0,function(){var j;return(0,l.Jh)(this,function(ee){switch(ee.label){case 0:return j=Array.from(this.instances.values()),[4,Promise.all((0,l.ev)((0,l.ev)([],(0,l.CR)(j.filter(function(q){return"INTERNAL"in q}).map(function(q){return q.INTERNAL.delete()}))),(0,l.CR)(j.filter(function(q){return"_delete"in q}).map(function(q){return q._delete()}))))];case 1:return ee.sent(),[2]}})})},re.prototype.isComponentSet=function(){return null!=this.component},re.prototype.isInitialized=function(j){return void 0===j&&(j=te),this.instances.has(j)},re.prototype.getOptions=function(j){return void 0===j&&(j=te),this.instancesOptions.get(j)||{}},re.prototype.initialize=function(j){var ee,q;void 0===j&&(j={});var K=j.options,ie=void 0===K?{}:K,be=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(be))throw Error(this.name+"("+be+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ze=this.getOrInitializeService({instanceIdentifier:be,options:ie});try{for(var Be=(0,l.XA)(this.instancesDeferred.entries()),Ie=Be.next();!Ie.done;Ie=Be.next()){var Se=(0,l.CR)(Ie.value,2),g1=Se[1];be===this.normalizeInstanceIdentifier(Se[0])&&g1.resolve(ze)}}catch(Q1){ee={error:Q1}}finally{try{Ie&&!Ie.done&&(q=Be.return)&&q.call(Be)}finally{if(ee)throw ee.error}}return ze},re.prototype.onInit=function(j,ee){var q,K=this.normalizeInstanceIdentifier(ee),ie=null!==(q=this.onInitCallbacks.get(K))&&void 0!==q?q:new Set;ie.add(j),this.onInitCallbacks.set(K,ie);var be=this.instances.get(K);return be&&j(be,K),function(){ie.delete(j)}},re.prototype.invokeOnInitCallbacks=function(j,ee){var q,K,ie=this.onInitCallbacks.get(ee);if(ie)try{for(var be=(0,l.XA)(ie),ze=be.next();!ze.done;ze=be.next()){var Be=ze.value;try{Be(j,ee)}catch(Ie){}}}catch(Ie){q={error:Ie}}finally{try{ze&&!ze.done&&(K=be.return)&&K.call(be)}finally{if(q)throw q.error}}},re.prototype.getOrInitializeService=function(j){var ee=j.instanceIdentifier,q=j.options,K=void 0===q?{}:q,ie=this.instances.get(ee);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:ne(ee),options:K}),this.instances.set(ee,ie),this.instancesOptions.set(ee,K),this.invokeOnInitCallbacks(ie,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,ie)}catch(be){}return ie||null},re.prototype.normalizeInstanceIdentifier=function(j){return void 0===j&&(j=te),this.component?this.component.multipleInstances?j:te:j},re.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},re}();function ne(re){return re===te?void 0:re}var oe=function(){function re(j){this.name=j,this.providers=new Map}return re.prototype.addComponent=function(j){var ee=this.getProvider(j.name);if(ee.isComponentSet())throw new Error("Component "+j.name+" has already been registered with "+this.name);ee.setComponent(j)},re.prototype.addOrOverwriteComponent=function(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)},re.prototype.getProvider=function(j){if(this.providers.has(j))return this.providers.get(j);var ee=new Me(j,this);return this.providers.set(j,ee),ee},re.prototype.getProviders=function(){return Array.from(this.providers.values())},re}()},9192:(Ke,Ne,B)=>{"use strict";var l=B(9759),ve=B(6034),L=B(4685),te=B(4762),Me=B(300);Ke=B.hmd(Ke);var oe="";function re(p){oe=p}var p,j=function(){function p(d){this.domStorage_=d,this.prefix_="firebase:"}return p.prototype.set=function(d,g){null==g?this.domStorage_.removeItem(this.prefixedName_(d)):this.domStorage_.setItem(this.prefixedName_(d),(0,L.Pz)(g))},p.prototype.get=function(d){var g=this.domStorage_.getItem(this.prefixedName_(d));return null==g?null:(0,L.cI)(g)},p.prototype.remove=function(d){this.domStorage_.removeItem(this.prefixedName_(d))},p.prototype.prefixedName_=function(d){return this.prefix_+d},p.prototype.toString=function(){return this.domStorage_.toString()},p}(),ee=function(){function p(){this.cache_={},this.isInMemoryStorage=!0}return p.prototype.set=function(d,g){null==g?delete this.cache_[d]:this.cache_[d]=g},p.prototype.get=function(d){return(0,L.r3)(this.cache_,d)?this.cache_[d]:null},p.prototype.remove=function(d){delete this.cache_[d]},p}(),q=function(p){try{if("undefined"!=typeof window&&void 0!==window[p]){var d=window[p];return d.setItem("firebase:sentinel","cache"),d.removeItem("firebase:sentinel"),new j(d)}}catch(g){}return new ee},K=q("localStorage"),ie=q("sessionStorage"),be=new Me.Yd("@firebase/database"),ze=(p=1,function(){return p++}),Be=function(p){var d=(0,L.dS)(p),g=new L.gQ;g.update(d);var b=g.digest();return L.US.encodeByteArray(b)},Ie=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];for(var g="",b=0;b<p.length;b++){var A=p[b];Array.isArray(A)||A&&"object"==typeof A&&"number"==typeof A.length?g+=Ie.apply(null,A):g+="object"==typeof A?(0,L.Pz)(A):A,g+=" "}return g},Se=null,Xe=!0,g1=function(p,d){(0,L.hu)(!d||!0===p||!1===p,"Can't turn on custom loggers persistently."),!0===p?(be.logLevel=Me.in.VERBOSE,Se=be.log.bind(be),d&&ie.set("logging_enabled",!0)):"function"==typeof p?Se=p:(Se=null,ie.remove("logging_enabled"))},t1=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];if(!0===Xe&&(Xe=!1,null===Se&&!0===ie.get("logging_enabled")&&g1(!0)),Se){var g=Ie.apply(null,p);Se(g)}},Q1=function(p){return function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];t1.apply(void 0,(0,te.ev)([p],(0,te.CR)(d)))}},Ct=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];var g="FIREBASE INTERNAL ERROR: "+Ie.apply(void 0,(0,te.ev)([],(0,te.CR)(p)));be.error(g)},G1=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];var g="FIREBASE FATAL ERROR: "+Ie.apply(void 0,(0,te.ev)([],(0,te.CR)(p)));throw be.error(g),new Error(g)},rt=function(){for(var p=[],d=0;d<arguments.length;d++)p[d]=arguments[d];var g="FIREBASE WARNING: "+Ie.apply(void 0,(0,te.ev)([],(0,te.CR)(p)));be.warn(g)},de=function(p){return"number"==typeof p&&(p!=p||p===Number.POSITIVE_INFINITY||p===Number.NEGATIVE_INFINITY)},fe="[MIN_NAME]",De="[MAX_NAME]",pe=function(p,d){if(p===d)return 0;if(p===fe||d===De)return-1;if(d===fe||p===De)return 1;var g=Kt(p),b=Kt(d);return null!==g?null!==b?g-b==0?p.length-d.length:g-b:-1:null!==b?1:p<d?-1:1},s1=function(p,d){return p===d?0:p<d?-1:1},u1=function(p,d){if(d&&p in d)return d[p];throw new Error("Missing required key ("+p+") in object: "+(0,L.Pz)(d))},gt=function(p){if("object"!=typeof p||null===p)return(0,L.Pz)(p);var d=[];for(var g in p)d.push(g);d.sort();for(var b="{",A=0;A<d.length;A++)0!==A&&(b+=","),b+=(0,L.Pz)(d[A]),b+=":",b+=gt(p[d[A]]);return b+"}"},n1=function(p,d){var g=p.length;if(g<=d)return[p];for(var b=[],A=0;A<g;A+=d)b.push(p.substring(A,A+d>g?g:A+d));return b};function c1(p,d){for(var g in p)p.hasOwnProperty(g)&&d(g,p[g])}var je=function(p){(0,L.hu)(!de(p),"Invalid JSON number");var A,x,N,V,P,b=1023;0===p?(x=0,N=0,A=1/p==-1/0?1:0):(A=p<0,(p=Math.abs(p))>=Math.pow(2,1-b)?(x=(V=Math.min(Math.floor(Math.log(p)/Math.LN2),b))+b,N=Math.round(p*Math.pow(2,52-V)-Math.pow(2,52))):(x=0,N=Math.round(p/Math.pow(2,-1074))));var Z=[];for(P=52;P;P-=1)Z.push(N%2?1:0),N=Math.floor(N/2);for(P=11;P;P-=1)Z.push(x%2?1:0),x=Math.floor(x/2);Z.push(A?1:0),Z.reverse();var G=Z.join(""),ue="";for(P=0;P<64;P+=8){var we=parseInt(G.substr(P,8),2).toString(16);1===we.length&&(we="0"+we),ue+=we}return ue.toLowerCase()},W1=new RegExp("^-?(0*)\\d{1,10}$"),fn=-2147483648,zt=2147483647,Kt=function(p){if(W1.test(p)){var d=Number(p);if(d>=fn&&d<=zt)return d}return null},An=function(p){try{p()}catch(d){setTimeout(function(){throw rt("Exception was thrown by user callback.",d.stack||""),d},Math.floor(0))}},dr=function(p,d){var g=setTimeout(p,d);return"object"==typeof g&&g.unref&&g.unref(),g},Ti=function(){function p(d,g){var b=this;this.appName_=d,this.appCheckProvider=g,this.appCheck=null==g?void 0:g.getImmediate({optional:!0}),this.appCheck||null==g||g.get().then(function(A){return b.appCheck=A})}return p.prototype.getToken=function(d){var g=this;return this.appCheck?this.appCheck.getToken(d):new Promise(function(b,A){setTimeout(function(){g.appCheck?g.getToken(d).then(b,A):b(null)},0)})},p.prototype.addTokenChangeListener=function(d){var g;null===(g=this.appCheckProvider)||void 0===g||g.get().then(function(b){return b.addTokenListener(d)})},p.prototype.notifyForInvalidToken=function(){rt('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},p}(),Z1=function(){function p(d,g,b){var A=this;this.appName_=d,this.firebaseOptions_=g,this.authProvider_=b,this.auth_=null,this.auth_=b.getImmediate({optional:!0}),this.auth_||b.onInit(function(x){return A.auth_=x})}return p.prototype.getToken=function(d){var g=this;return this.auth_?this.auth_.getToken(d).catch(function(b){return b&&"auth/token-not-initialized"===b.code?(t1("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(b)}):new Promise(function(b,A){setTimeout(function(){g.auth_?g.getToken(d).then(b,A):b(null)},0)})},p.prototype.addTokenChangeListener=function(d){this.auth_?this.auth_.addAuthTokenListener(d):this.authProvider_.get().then(function(g){return g.addAuthTokenListener(d)})},p.prototype.removeTokenChangeListener=function(d){this.authProvider_.get().then(function(g){return g.removeAuthTokenListener(d)})},p.prototype.notifyForInvalidToken=function(){var d='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';rt(d+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},p}(),L1=function(){function p(d){this.accessToken=d}return p.prototype.getToken=function(d){return Promise.resolve({accessToken:this.accessToken})},p.prototype.addTokenChangeListener=function(d){d(this.accessToken)},p.prototype.removeTokenChangeListener=function(d){},p.prototype.notifyForInvalidToken=function(){},p.OWNER="owner",p}(),Mt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Bt="websocket",Sa="long_polling",xt=function(){function p(d,g,b,A,x,N,V){void 0===x&&(x=!1),void 0===N&&(N=""),void 0===V&&(V=!1),this.secure=g,this.namespace=b,this.webSocketOnly=A,this.nodeAdmin=x,this.persistenceKey=N,this.includeNamespaceInQueryParams=V,this._host=d.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=K.get("host:"+d)||this._host}return p.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},p.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(p.prototype,"host",{get:function(){return this._host},set:function(d){d!==this.internalHost&&(this.internalHost=d,this.isCacheableHost()&&K.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),p.prototype.toString=function(){var d=this.toURLString();return this.persistenceKey&&(d+="<"+this.persistenceKey+">"),d},p.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},p}();function C1(p,d,g){var b;if((0,L.hu)("string"==typeof d,"typeof type must == string"),(0,L.hu)("object"==typeof g,"typeof params must == object"),d===Bt)b=(p.secure?"wss://":"ws://")+p.internalHost+"/.ws?";else{if(d!==Sa)throw new Error("Unknown connection type: "+d);b=(p.secure?"https://":"http://")+p.internalHost+"/.lp?"}(function(p){return p.host!==p.internalHost||p.isCustomHost()||p.includeNamespaceInQueryParams})(p)&&(g.ns=p.namespace);var A=[];return c1(g,function(x,N){A.push(x+"="+N)}),b+A.join("&")}var Ta=function(){function p(){this.counters_={}}return p.prototype.incrementCounter=function(d,g){void 0===g&&(g=1),(0,L.r3)(this.counters_,d)||(this.counters_[d]=0),this.counters_[d]+=g},p.prototype.get=function(){return(0,L.p$)(this.counters_)},p}(),Qr={},G2={};function it(p){var d=p.toString();return Qr[d]||(Qr[d]=new Ta),Qr[d]}var ws=function(){function p(d){this.onMessage_=d,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return p.prototype.closeAfter=function(d,g){this.closeAfterResponse=d,this.onClose=g,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},p.prototype.handleResponse=function(d,g){var b=this;this.pendingResponses[d]=g;for(var A=function(){var V=x.pendingResponses[x.currentResponseNum];delete x.pendingResponses[x.currentResponseNum];for(var P=function(G){V[G]&&An(function(){b.onMessage_(V[G])})},Z=0;Z<V.length;++Z)P(Z);if(x.currentResponseNum===x.closeAfterResponse)return x.onClose&&(x.onClose(),x.onClose=null),"break";x.currentResponseNum++},x=this;this.pendingResponses[this.currentResponseNum]&&"break"!==A(););},p}(),Y="close",T6=function(){function p(d,g,b,A,x,N,V){var P=this;this.connId=d,this.repoInfo=g,this.applicationId=b,this.appCheckToken=A,this.authToken=x,this.transportSessionId=N,this.lastSessionId=V,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Q1(d),this.stats_=it(g),this.urlFn=function(Z){return P.appCheckToken&&(Z.ac=P.appCheckToken),C1(g,Sa,Z)}}return p.prototype.open=function(d,g){var b=this;this.curSegmentNum=0,this.onDisconnect_=g,this.myPacketOrderer=new ws(d),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){b.log_("Timed out trying to connect."),b.onClosed_(),b.connectTimeoutTimer_=null},Math.floor(3e4)),function(p){if((0,L.Yr)()||"complete"===document.readyState)p();else{var d=!1,g=function(){document.body?d||(d=!0,p()):setTimeout(g,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",g,!1),window.addEventListener("load",g,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&g()}),window.attachEvent("onload",g))}}(function(){if(!b.isClosed_){b.scriptTagHolder=new Na(function(){for(var N=[],V=0;V<arguments.length;V++)N[V]=arguments[V];var P=(0,te.CR)(N,5),Z=P[0],G=P[1],ue=P[2];if(b.incrementIncomingBytes_(N),b.scriptTagHolder)if(b.connectTimeoutTimer_&&(clearTimeout(b.connectTimeoutTimer_),b.connectTimeoutTimer_=null),b.everConnected_=!0,"start"===Z)b.id=G,b.password=ue;else{if(Z!==Y)throw new Error("Unrecognized command received: "+Z);G?(b.scriptTagHolder.sendNewPolls=!1,b.myPacketOrderer.closeAfter(G,function(){b.onClosed_()})):b.onClosed_()}},function(){for(var N=[],V=0;V<arguments.length;V++)N[V]=arguments[V];var P=(0,te.CR)(N,2),Z=P[0],G=P[1];b.incrementIncomingBytes_(N),b.myPacketOrderer.handleResponse(Z,G)},function(){b.onClosed_()},b.urlFn);var A={start:"t"};A.ser=Math.floor(1e8*Math.random()),b.scriptTagHolder.uniqueCallbackIdentifier&&(A.cb=b.scriptTagHolder.uniqueCallbackIdentifier),A.v="5",b.transportSessionId&&(A.s=b.transportSessionId),b.lastSessionId&&(A.ls=b.lastSessionId),b.applicationId&&(A.p=b.applicationId),b.appCheckToken&&(A.ac=b.appCheckToken),"undefined"!=typeof location&&location.hostname&&Mt.test(location.hostname)&&(A.r="f");var x=b.urlFn(A);b.log_("Connecting via long-poll to "+x),b.scriptTagHolder.addTag(x,function(){})}})},p.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},p.forceAllow=function(){p.forceAllow_=!0},p.forceDisallow=function(){p.forceDisallow_=!0},p.isAvailable=function(){return!((0,L.Yr)()||!p.forceAllow_&&(p.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},p.prototype.markConnectionHealthy=function(){},p.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},p.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},p.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},p.prototype.send=function(d){var g=(0,L.Pz)(d);this.bytesSent+=g.length,this.stats_.incrementCounter("bytes_sent",g.length);for(var b=(0,L.h$)(g),A=n1(b,1840),x=0;x<A.length;x++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,A.length,A[x]),this.curSegmentNum++},p.prototype.addDisconnectPingFrame=function(d,g){if(!(0,L.Yr)()){this.myDisconnFrame=document.createElement("iframe");var b={dframe:"t"};b.id=d,b.pw=g,this.myDisconnFrame.src=this.urlFn(b),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},p.prototype.incrementIncomingBytes_=function(d){var g=(0,L.Pz)(d).length;this.bytesReceived+=g,this.stats_.incrementCounter("bytes_received",g)},p}(),Na=function(){function p(d,g,b,A){if(this.onDisconnect=b,this.urlFn=A,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.Yr)())this.commandCB=d,this.onMessageCB=g;else{this.uniqueCallbackIdentifier=ze(),window["pLPCommand"+this.uniqueCallbackIdentifier]=d,window["pRTLPCB"+this.uniqueCallbackIdentifier]=g,this.myIFrame=p.createIFrame_();var x="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(x='<script>document.domain="'+document.domain+'";<\/script>');var V="<html><body>"+x+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(V),this.myIFrame.doc.close()}catch(P){t1("frame writing exception"),P.stack&&t1(P.stack),t1(P)}}}return p.createIFrame_=function(){var d=document.createElement("iframe");if(d.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(d);try{d.contentWindow.document||t1("No IE domain setting required")}catch(A){var b=document.domain;d.src="javascript:void((function(){document.open();document.domain='"+b+"';document.close();})())"}return d.contentDocument?d.doc=d.contentDocument:d.contentWindow?d.doc=d.contentWindow.document:d.document&&(d.doc=d.document),d},p.prototype.close=function(){var d=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==d.myIFrame&&(document.body.removeChild(d.myIFrame),d.myIFrame=null)},Math.floor(0)));var g=this.onDisconnect;g&&(this.onDisconnect=null,g())},p.prototype.startLongPoll=function(d,g){for(this.myID=d,this.myPW=g,this.alive=!0;this.newRequest_(););},p.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var d={};d.id=this.myID,d.pw=this.myPW,d.ser=this.currentSerial;for(var g=this.urlFn(d),b="",A=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+b.length<=1870;){var N=this.pendingSegs.shift();b=b+"&seg"+A+"="+N.seg+"&ts"+A+"="+N.ts+"&d"+A+"="+N.d,A++}return this.addLongPollTag_(g+=b,this.currentSerial),!0}return!1},p.prototype.enqueueSegment=function(d,g,b){this.pendingSegs.push({seg:d,ts:g,d:b}),this.alive&&this.newRequest_()},p.prototype.addLongPollTag_=function(d,g){var b=this;this.outstandingRequests.add(g);var A=function(){b.outstandingRequests.delete(g),b.newRequest_()},x=setTimeout(A,Math.floor(25e3));this.addTag(d,function(){clearTimeout(x),A()})},p.prototype.addTag=function(d,g){var b=this;(0,L.Yr)()?this.doNodeLongPoll(d,g):setTimeout(function(){try{if(!b.sendNewPolls)return;var A=b.myIFrame.doc.createElement("script");A.type="text/javascript",A.async=!0,A.src=d,A.onload=A.onreadystatechange=function(){var x=A.readyState;(!x||"loaded"===x||"complete"===x)&&(A.onload=A.onreadystatechange=null,A.parentNode&&A.parentNode.removeChild(A),g())},A.onerror=function(){t1("Long-poll script failed to load: "+d),b.sendNewPolls=!1,b.close()},b.myIFrame.doc.body.appendChild(A)}catch(x){}},Math.floor(1))},p}(),S2=null;"undefined"!=typeof MozWebSocket?S2=MozWebSocket:"undefined"!=typeof WebSocket&&(S2=WebSocket);var i2=function(){function p(d,g,b,A,x,N,V){this.connId=d,this.applicationId=b,this.appCheckToken=A,this.authToken=x,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Q1(this.connId),this.stats_=it(g),this.connURL=p.connectionURL_(g,N,V,A),this.nodeAdmin=g.nodeAdmin}return p.connectionURL_=function(d,g,b,A){var x={v:"5"};return!(0,L.Yr)()&&"undefined"!=typeof location&&location.hostname&&Mt.test(location.hostname)&&(x.r="f"),g&&(x.s=g),b&&(x.ls=b),A&&(x.ac=A),C1(d,Bt,x)},p.prototype.open=function(d,g){var b=this;this.onDisconnect=g,this.onMessage=d,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,K.set("previous_websocket_failure",!0);try{if((0,L.Yr)()){var x={headers:{"User-Agent":"Firebase/5/"+oe+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(x.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(x.headers["X-Firebase-AppCheck"]=this.appCheckToken);var N=process.env,V=0===this.connURL.indexOf("wss://")?N.HTTPS_PROXY||N.https_proxy:N.HTTP_PROXY||N.http_proxy;V&&(x.proxy={origin:V}),this.mySock=new S2(this.connURL,[],x)}else this.mySock=new S2(this.connURL,[],x={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(Z){this.log_("Error instantiating WebSocket.");var P=Z.message||Z.data;return P&&this.log_(P),void this.onClosed_()}this.mySock.onopen=function(){b.log_("Websocket connected."),b.everConnected_=!0},this.mySock.onclose=function(){b.log_("Websocket connection was disconnected."),b.mySock=null,b.onClosed_()},this.mySock.onmessage=function(Z){b.handleIncomingFrame(Z)},this.mySock.onerror=function(Z){b.log_("WebSocket error.  Closing connection.");var G=Z.message||Z.data;G&&b.log_(G),b.onClosed_()}},p.prototype.start=function(){},p.forceDisallow=function(){p.forceDisallow_=!0},p.isAvailable=function(){var d=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&b.length>1&&parseFloat(b[1])<4.4&&(d=!0)}return!d&&null!==S2&&!p.forceDisallow_},p.previouslyFailed=function(){return K.isInMemoryStorage||!0===K.get("previous_websocket_failure")},p.prototype.markConnectionHealthy=function(){K.remove("previous_websocket_failure")},p.prototype.appendFrame_=function(d){if(this.frames.push(d),this.frames.length===this.totalFrames){var g=this.frames.join("");this.frames=null;var b=(0,L.cI)(g);this.onMessage(b)}},p.prototype.handleNewFrameCount_=function(d){this.totalFrames=d,this.frames=[]},p.prototype.extractFrameCount_=function(d){if((0,L.hu)(null===this.frames,"We already have a frame buffer"),d.length<=6){var g=Number(d);if(!isNaN(g))return this.handleNewFrameCount_(g),null}return this.handleNewFrameCount_(1),d},p.prototype.handleIncomingFrame=function(d){if(null!==this.mySock){var g=d.data;if(this.bytesReceived+=g.length,this.stats_.incrementCounter("bytes_received",g.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(g);else{var b=this.extractFrameCount_(g);null!==b&&this.appendFrame_(b)}}},p.prototype.send=function(d){this.resetKeepAlive();var g=(0,L.Pz)(d);this.bytesSent+=g.length,this.stats_.incrementCounter("bytes_sent",g.length);var b=n1(g,16384);b.length>1&&this.sendString_(String(b.length));for(var A=0;A<b.length;A++)this.sendString_(b[A])},p.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},p.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},p.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},p.prototype.resetKeepAlive=function(){var d=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){d.mySock&&d.sendString_("0"),d.resetKeepAlive()},Math.floor(45e3))},p.prototype.sendString_=function(d){try{this.mySock.send(d)}catch(g){this.log_("Exception thrown from WebSocket.send():",g.message||g.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},p.responsesRequiredToBeHealthy=2,p.healthyTimeout=3e4,p}(),hn=function(){function p(d){this.initTransports_(d)}return Object.defineProperty(p,"ALL_TRANSPORTS",{get:function(){return[T6,i2]},enumerable:!1,configurable:!0}),p.prototype.initTransports_=function(d){var g,b,A=i2&&i2.isAvailable(),x=A&&!i2.previouslyFailed();if(d.webSocketOnly&&(A||rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),x=!0),x)this.transports_=[i2];else{var N=this.transports_=[];try{for(var V=(0,te.XA)(p.ALL_TRANSPORTS),P=V.next();!P.done;P=V.next()){var Z=P.value;Z&&Z.isAvailable()&&N.push(Z)}}catch(G){g={error:G}}finally{try{P&&!P.done&&(b=V.return)&&b.call(V)}finally{if(g)throw g.error}}}},p.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},p.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},p}(),Yr=function(){function p(d,g,b,A,x,N,V,P,Z,G){this.id=d,this.repoInfo_=g,this.applicationId_=b,this.appCheckToken_=A,this.authToken_=x,this.onMessage_=N,this.onReady_=V,this.onDisconnect_=P,this.onKill_=Z,this.lastSessionId=G,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Q1("c:"+this.id+":"),this.transportManager_=new hn(g),this.log_("Connection created"),this.start_()}return p.prototype.start_=function(){var d=this,g=this.transportManager_.initialTransport();this.conn_=new g(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=g.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.conn_),A=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){d.conn_&&d.conn_.open(b,A)},Math.floor(0));var x=g.healthyTimeout||0;x>0&&(this.healthyTimeout_=dr(function(){d.healthyTimeout_=null,d.isHealthy_||(d.conn_&&d.conn_.bytesReceived>102400?(d.log_("Connection exceeded healthy timeout but has received "+d.conn_.bytesReceived+" bytes.  Marking connection healthy."),d.isHealthy_=!0,d.conn_.markConnectionHealthy()):d.conn_&&d.conn_.bytesSent>10240?d.log_("Connection exceeded healthy timeout but has sent "+d.conn_.bytesSent+" bytes.  Leaving connection alive."):(d.log_("Closing unhealthy connection after timeout."),d.close()))},Math.floor(x)))},p.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},p.prototype.disconnReceiver_=function(d){var g=this;return function(b){d===g.conn_?g.onConnectionLost_(b):d===g.secondaryConn_?(g.log_("Secondary connection lost."),g.onSecondaryConnectionLost_()):g.log_("closing an old connection")}},p.prototype.connReceiver_=function(d){var g=this;return function(b){2!==g.state_&&(d===g.rx_?g.onPrimaryMessageReceived_(b):d===g.secondaryConn_?g.onSecondaryMessageReceived_(b):g.log_("message on old connection"))}},p.prototype.sendRequest=function(d){this.sendData_({t:"d",d})},p.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},p.prototype.onSecondaryControl_=function(d){if("t"in d){var g=d.t;"a"===g?this.upgradeIfSecondaryHealthy_():"r"===g?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===g&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},p.prototype.onSecondaryMessageReceived_=function(d){var g=u1("t",d),b=u1("d",d);if("c"===g)this.onSecondaryControl_(b);else{if("d"!==g)throw new Error("Unknown protocol layer: "+g);this.pendingDataMessages.push(b)}},p.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},p.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},p.prototype.onPrimaryMessageReceived_=function(d){var g=u1("t",d),b=u1("d",d);"c"===g?this.onControl_(b):"d"===g&&this.onDataMessage_(b)},p.prototype.onDataMessage_=function(d){this.onPrimaryResponse_(),this.onMessage_(d)},p.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},p.prototype.onControl_=function(d){var g=u1("t",d);if("d"in d){var b=d.d;if("h"===g)this.onHandshake_(b);else if("n"===g){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var A=0;A<this.pendingDataMessages.length;++A)this.onDataMessage_(this.pendingDataMessages[A]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===g?this.onConnectionShutdown_(b):"r"===g?this.onReset_(b):"e"===g?Ct("Server Error: "+b):"o"===g?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ct("Unknown control packet command: "+g)}},p.prototype.onHandshake_=function(d){var g=d.ts,b=d.v,A=d.h;this.sessionId=d.s,this.repoInfo_.host=A,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,g),"5"!==b&&rt("Protocol version mismatch detected"),this.tryStartUpgrade_())},p.prototype.tryStartUpgrade_=function(){var d=this.transportManager_.upgradeTransport();d&&this.startUpgrade_(d)},p.prototype.startUpgrade_=function(d){var g=this;this.secondaryConn_=new d(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=d.responsesRequiredToBeHealthy||0;var b=this.connReceiver_(this.secondaryConn_),A=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(b,A),dr(function(){g.secondaryConn_&&(g.log_("Timed out trying to upgrade."),g.secondaryConn_.close())},Math.floor(6e4))},p.prototype.onReset_=function(d){this.log_("Reset packet received.  New host: "+d),this.repoInfo_.host=d,1===this.state_?this.close():(this.closeConnections_(),this.start_())},p.prototype.onConnectionEstablished_=function(d,g){var b=this;this.log_("Realtime connection established."),this.conn_=d,this.state_=1,this.onReady_&&(this.onReady_(g,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dr(function(){b.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},p.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},p.prototype.onSecondaryConnectionLost_=function(){var d=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===d||this.rx_===d)&&this.close()},p.prototype.onConnectionLost_=function(d){this.conn_=null,d||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(K.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},p.prototype.onConnectionShutdown_=function(d){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(d),this.onKill_=null),this.onDisconnect_=null,this.close()},p.prototype.sendData_=function(d){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(d)},p.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},p.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},p}(),N6=function(){function p(){}return p.prototype.put=function(d,g,b,A){},p.prototype.merge=function(d,g,b,A){},p.prototype.refreshAuthToken=function(d){},p.prototype.refreshAppCheckToken=function(d){},p.prototype.onDisconnectPut=function(d,g,b){},p.prototype.onDisconnectMerge=function(d,g,b){},p.prototype.onDisconnectCancel=function(d,g){},p.prototype.reportStats=function(d){},p}(),B4=function(){function p(d){this.allowedEvents_=d,this.listeners_={},(0,L.hu)(Array.isArray(d)&&d.length>0,"Requires a non-empty array")}return p.prototype.trigger=function(d){for(var g=[],b=1;b<arguments.length;b++)g[b-1]=arguments[b];if(Array.isArray(this.listeners_[d]))for(var A=(0,te.ev)([],(0,te.CR)(this.listeners_[d])),x=0;x<A.length;x++)A[x].callback.apply(A[x].context,g)},p.prototype.on=function(d,g,b){this.validateEventType_(d),this.listeners_[d]=this.listeners_[d]||[],this.listeners_[d].push({callback:g,context:b});var A=this.getInitialEvent(d);A&&g.apply(b,A)},p.prototype.off=function(d,g,b){this.validateEventType_(d);for(var A=this.listeners_[d]||[],x=0;x<A.length;x++)if(A[x].callback===g&&(!b||b===A[x].context))return void A.splice(x,1)},p.prototype.validateEventType_=function(d){(0,L.hu)(this.allowedEvents_.find(function(g){return g===d}),"Unknown event: "+d)},p}(),h2=function(p){function d(){var g=p.call(this,["online"])||this;return g.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,L.uI)()&&(window.addEventListener("online",function(){g.online_||(g.online_=!0,g.trigger("online",!0))},!1),window.addEventListener("offline",function(){g.online_&&(g.online_=!1,g.trigger("online",!1))},!1)),g}return(0,te.ZT)(d,p),d.getInstance=function(){return new d},d.prototype.getInitialEvent=function(g){return(0,L.hu)("online"===g,"Unknown event type: "+g),[this.online_]},d.prototype.currentlyOnline=function(){return this.online_},d}(B4),I1=function(){function p(d,g){if(void 0===g){this.pieces_=d.split("/");for(var b=0,A=0;A<this.pieces_.length;A++)this.pieces_[A].length>0&&(this.pieces_[b]=this.pieces_[A],b++);this.pieces_.length=b,this.pieceNum_=0}else this.pieces_=d,this.pieceNum_=g}return p.prototype.toString=function(){for(var d="",g=this.pieceNum_;g<this.pieces_.length;g++)""!==this.pieces_[g]&&(d+="/"+this.pieces_[g]);return d||"/"},p}();function Ye(){return new I1("")}function D1(p){return p.pieceNum_>=p.pieces_.length?null:p.pieces_[p.pieceNum_]}function Jr(p){return p.pieces_.length-p.pieceNum_}function S1(p){var d=p.pieceNum_;return d<p.pieces_.length&&d++,new I1(p.pieces_,d)}function M3(p){return p.pieceNum_<p.pieces_.length?p.pieces_[p.pieces_.length-1]:null}function Wn(p,d){return void 0===d&&(d=0),p.pieces_.slice(p.pieceNum_+d)}function $n(p){if(p.pieceNum_>=p.pieces_.length)return null;for(var d=[],g=p.pieceNum_;g<p.pieces_.length-1;g++)d.push(p.pieces_[g]);return new I1(d,0)}function R1(p,d){for(var g=[],b=p.pieceNum_;b<p.pieces_.length;b++)g.push(p.pieces_[b]);if(d instanceof I1)for(b=d.pieceNum_;b<d.pieces_.length;b++)g.push(d.pieces_[b]);else{var A=d.split("/");for(b=0;b<A.length;b++)A[b].length>0&&g.push(A[b])}return new I1(g,0)}function V1(p){return p.pieceNum_>=p.pieces_.length}function wt(p,d){var g=D1(p),b=D1(d);if(null===g)return d;if(g===b)return wt(S1(p),S1(d));throw new Error("INTERNAL ERROR: innerPath ("+d+") is not within outerPath ("+p+")")}function dn(p,d){for(var g=Wn(p,0),b=Wn(d,0),A=0;A<g.length&&A<b.length;A++){var x=pe(g[A],b[A]);if(0!==x)return x}return g.length===b.length?0:g.length<b.length?-1:1}function w3(p,d){if(Jr(p)!==Jr(d))return!1;for(var g=p.pieceNum_,b=d.pieceNum_;g<=p.pieces_.length;g++,b++)if(p.pieces_[g]!==d.pieces_[b])return!1;return!0}function T2(p,d){var g=p.pieceNum_,b=d.pieceNum_;if(Jr(p)>Jr(d))return!1;for(;g<p.pieces_.length;){if(p.pieces_[g]!==d.pieces_[b])return!1;++g,++b}return!0}var I6=function(d,g){this.errorPrefix_=g,this.parts_=Wn(d,0),this.byteLength_=Math.max(1,this.parts_.length);for(var b=0;b<this.parts_.length;b++)this.byteLength_+=(0,L.ug)(this.parts_[b]);f5(this)};function f5(p){if(p.byteLength_>768)throw new Error(p.errorPrefix_+"has a key path longer than 768 bytes ("+p.byteLength_+").");if(p.parts_.length>32)throw new Error(p.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+q4(p))}function q4(p){return 0===p.parts_.length?"":"in property '"+p.parts_.join(".")+"'"}var Da,La,h5=function(p){function d(){var b,A,g=p.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(A="visibilitychange",b="hidden"):void 0!==document.mozHidden?(A="mozvisibilitychange",b="mozHidden"):void 0!==document.msHidden?(A="msvisibilitychange",b="msHidden"):void 0!==document.webkitHidden&&(A="webkitvisibilitychange",b="webkitHidden")),g.visible_=!0,A&&document.addEventListener(A,function(){var x=!document[b];x!==g.visible_&&(g.visible_=x,g.trigger("visible",x))},!1),g}return(0,te.ZT)(d,p),d.getInstance=function(){return new d},d.prototype.getInitialEvent=function(g){return(0,L.hu)("visible"===g,"Unknown event type: "+g),[this.visible_]},d}(B4),D6=1e3,Li=function(p){function d(g,b,A,x,N,V,P,Z){var G=p.call(this)||this;if(G.repoInfo_=g,G.applicationId_=b,G.onDataUpdate_=A,G.onConnectStatus_=x,G.onServerInfoUpdate_=N,G.authTokenProvider_=V,G.appCheckTokenProvider_=P,G.authOverride_=Z,G.id=d.nextPersistentConnectionId_++,G.log_=Q1("p:"+G.id+":"),G.interruptReasons_={},G.listens=new Map,G.outstandingPuts_=[],G.outstandingGets_=[],G.outstandingPutCount_=0,G.outstandingGetCount_=0,G.onDisconnectRequestQueue_=[],G.connected_=!1,G.reconnectDelay_=D6,G.maxReconnectDelay_=3e5,G.securityDebugCallback_=null,G.lastSessionId=null,G.establishConnectionTimer_=null,G.visible_=!1,G.requestCBHash_={},G.requestNumber_=0,G.realtime_=null,G.authToken_=null,G.appCheckToken_=null,G.forceTokenRefresh_=!1,G.invalidAuthTokenCount_=0,G.invalidAppCheckTokenCount_=0,G.firstConnection_=!0,G.lastConnectionAttemptTime_=null,G.lastConnectionEstablishedTime_=null,Z&&!(0,L.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return h5.getInstance().on("visible",G.onVisible_,G),-1===g.host.indexOf("fblocal")&&h2.getInstance().on("online",G.onOnline_,G),G}return(0,te.ZT)(d,p),d.prototype.sendRequest=function(g,b,A){var x=++this.requestNumber_,N={r:x,a:g,b};this.log_((0,L.Pz)(N)),(0,L.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(N),A&&(this.requestCBHash_[x]=A)},d.prototype.get=function(g){var b=this;this.initConnection_();var A=new L.BH,x={p:g._path.toString(),q:g._queryObject},N={action:"g",request:x,onComplete:function(P){var Z=P.d;"ok"===P.s?(b.onDataUpdate_(x.p,Z,!1,null),A.resolve(Z)):A.reject(Z)}};this.outstandingGets_.push(N),this.outstandingGetCount_++;var V=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var P=b.outstandingGets_[V];void 0===P||N!==P||(delete b.outstandingGets_[V],b.outstandingGetCount_--,0===b.outstandingGetCount_&&(b.outstandingGets_=[]),b.log_("get "+V+" timed out on connection"),A.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(V),A.promise},d.prototype.listen=function(g,b,A,x){this.initConnection_();var N=g._queryIdentifier,V=g._path.toString();this.log_("Listen called for "+V+" "+N),this.listens.has(V)||this.listens.set(V,new Map),(0,L.hu)(g._queryParams.isDefault()||!g._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.hu)(!this.listens.get(V).has(N),"listen() called twice for same path/queryId.");var P={onComplete:x,hashFn:b,query:g,tag:A};this.listens.get(V).set(N,P),this.connected_&&this.sendListen_(P)},d.prototype.sendGet_=function(g){var b=this,A=this.outstandingGets_[g];this.sendRequest("g",A.request,function(x){delete b.outstandingGets_[g],b.outstandingGetCount_--,0===b.outstandingGetCount_&&(b.outstandingGets_=[]),A.onComplete&&A.onComplete(x)})},d.prototype.sendListen_=function(g){var b=this,A=g.query,x=A._path.toString(),N=A._queryIdentifier;this.log_("Listen on "+x+" for "+N);var V={p:x};g.tag&&(V.q=A._queryObject,V.t=g.tag),V.h=g.hashFn(),this.sendRequest("q",V,function(Z){var G=Z.d,ue=Z.s;d.warnOnListenWarnings_(G,A),(b.listens.get(x)&&b.listens.get(x).get(N))===g&&(b.log_("listen response",Z),"ok"!==ue&&b.removeListen_(x,N),g.onComplete&&g.onComplete(ue,G))})},d.warnOnListenWarnings_=function(g,b){if(g&&"object"==typeof g&&(0,L.r3)(g,"w")){var A=(0,L.DV)(g,"w");if(Array.isArray(A)&&~A.indexOf("no_index")){var x='".indexOn": "'+b._queryParams.getIndex().toString()+'"',N=b._path.toString();rt("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+x+" at "+N+" to your security rules for better performance.")}}},d.prototype.refreshAuthToken=function(g){this.authToken_=g,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(g)},d.prototype.reduceReconnectDelayIfAdminCredential_=function(g){(g&&40===g.length||(0,L.GJ)(g))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},d.prototype.refreshAppCheckToken=function(g){this.appCheckToken_=g,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},d.prototype.tryAuth=function(){var g=this;if(this.connected_&&this.authToken_){var b=this.authToken_,A=(0,L.w9)(b)?"auth":"gauth",x={cred:b};null===this.authOverride_?x.noauth=!0:"object"==typeof this.authOverride_&&(x.authvar=this.authOverride_),this.sendRequest(A,x,function(N){var V=N.s,P=N.d||"error";g.authToken_===b&&("ok"===V?g.invalidAuthTokenCount_=0:g.onAuthRevoked_(V,P))})}},d.prototype.tryAppCheck=function(){var g=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(b){var A=b.s,x=b.d||"error";"ok"===A?g.invalidAppCheckTokenCount_=0:g.onAppCheckRevoked_(A,x)})},d.prototype.unlisten=function(g,b){var A=g._path.toString(),x=g._queryIdentifier;this.log_("Unlisten called for "+A+" "+x),(0,L.hu)(g._queryParams.isDefault()||!g._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(A,x)&&this.connected_&&this.sendUnlisten_(A,x,g._queryObject,b)},d.prototype.sendUnlisten_=function(g,b,A,x){this.log_("Unlisten on "+g+" for "+b);var N={p:g};x&&(N.q=A,N.t=x),this.sendRequest("n",N)},d.prototype.onDisconnectPut=function(g,b,A){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",g,b,A):this.onDisconnectRequestQueue_.push({pathString:g,action:"o",data:b,onComplete:A})},d.prototype.onDisconnectMerge=function(g,b,A){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",g,b,A):this.onDisconnectRequestQueue_.push({pathString:g,action:"om",data:b,onComplete:A})},d.prototype.onDisconnectCancel=function(g,b){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",g,null,b):this.onDisconnectRequestQueue_.push({pathString:g,action:"oc",data:null,onComplete:b})},d.prototype.sendOnDisconnect_=function(g,b,A,x){var N={p:b,d:A};this.log_("onDisconnect "+g,N),this.sendRequest(g,N,function(V){x&&setTimeout(function(){x(V.s,V.d)},Math.floor(0))})},d.prototype.put=function(g,b,A,x){this.putInternal("p",g,b,A,x)},d.prototype.merge=function(g,b,A,x){this.putInternal("m",g,b,A,x)},d.prototype.putInternal=function(g,b,A,x,N){this.initConnection_();var V={p:b,d:A};void 0!==N&&(V.h=N),this.outstandingPuts_.push({action:g,request:V,onComplete:x}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+b)},d.prototype.sendPut_=function(g){var b=this,A=this.outstandingPuts_[g].action,x=this.outstandingPuts_[g].request,N=this.outstandingPuts_[g].onComplete;this.outstandingPuts_[g].queued=this.connected_,this.sendRequest(A,x,function(V){b.log_(A+" response",V),delete b.outstandingPuts_[g],b.outstandingPutCount_--,0===b.outstandingPutCount_&&(b.outstandingPuts_=[]),N&&N(V.s,V.d)})},d.prototype.reportStats=function(g){var b=this;if(this.connected_){var A={c:g};this.log_("reportStats",A),this.sendRequest("s",A,function(x){"ok"!==x.s&&b.log_("reportStats","Error sending stats: "+x.d)})}},d.prototype.onDataMessage_=function(g){if("r"in g){this.log_("from server: "+(0,L.Pz)(g));var b=g.r,A=this.requestCBHash_[b];A&&(delete this.requestCBHash_[b],A(g.b))}else{if("error"in g)throw"A server-side error has occurred: "+g.error;"a"in g&&this.onDataPush_(g.a,g.b)}},d.prototype.onDataPush_=function(g,b){this.log_("handleServerMessage",g,b),"d"===g?this.onDataUpdate_(b.p,b.d,!1,b.t):"m"===g?this.onDataUpdate_(b.p,b.d,!0,b.t):"c"===g?this.onListenRevoked_(b.p,b.q):"ac"===g?this.onAuthRevoked_(b.s,b.d):"apc"===g?this.onAppCheckRevoked_(b.s,b.d):"sd"===g?this.onSecurityDebugPacket_(b):Ct("Unrecognized action received from server: "+(0,L.Pz)(g)+"\nAre you using the latest client?")},d.prototype.onReady_=function(g,b){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(g),this.lastSessionId=b,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},d.prototype.scheduleConnect_=function(g){var b=this;(0,L.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){b.establishConnectionTimer_=null,b.establishConnection_()},Math.floor(g))},d.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},d.prototype.onVisible_=function(g){g&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=D6,this.realtime_||this.scheduleConnect_(0)),this.visible_=g},d.prototype.onOnline_=function(g){g?(this.log_("Browser went online."),this.reconnectDelay_=D6,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},d.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=D6),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var b=(new Date).getTime()-this.lastConnectionAttemptTime_,A=Math.max(0,this.reconnectDelay_-b);A=Math.random()*A,this.log_("Trying to reconnect in "+A+"ms"),this.scheduleConnect_(A),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},d.prototype.establishConnection_=function(){return(0,te.mG)(this,void 0,void 0,function(){var g,b,A,x,N,V,P,Z,ue,we,ke,Fe,p1,o1=this;return(0,te.Jh)(this,function(v1){switch(v1.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,g=this.onDataMessage_.bind(this),b=this.onReady_.bind(this),A=this.onRealtimeDisconnect_.bind(this),x=this.id+":"+d.nextConnectionId_++,N=this.lastSessionId,V=!1,P=null,this.realtime_={close:Z=function(){P?P.close():(V=!0,A())},sendRequest:function(Dt){(0,L.hu)(P,"sendRequest call when we're not connected not allowed."),P.sendRequest(Dt)}},ue=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,v1.label=1;case 1:return v1.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(ue),this.appCheckTokenProvider_.getToken(ue)])];case 2:return we=te.CR.apply(void 0,[v1.sent(),2]),ke=we[0],Fe=we[1],V?t1("getToken() completed but was canceled"):(t1("getToken() completed. Creating connection."),this.authToken_=ke&&ke.accessToken,this.appCheckToken_=Fe&&Fe.token,P=new Yr(x,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,g,b,A,function(Dt){rt(Dt+" ("+o1.repoInfo_.toString()+")"),o1.interrupt("server_kill")},N)),[3,4];case 3:return p1=v1.sent(),this.log_("Failed to get token: "+p1),V||(this.repoInfo_.nodeAdmin&&rt(p1),Z()),[3,4];case 4:return[2]}})})},d.prototype.interrupt=function(g){t1("Interrupting connection for reason: "+g),this.interruptReasons_[g]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},d.prototype.resume=function(g){t1("Resuming connection for reason: "+g),delete this.interruptReasons_[g],(0,L.xb)(this.interruptReasons_)&&(this.reconnectDelay_=D6,this.realtime_||this.scheduleConnect_(0))},d.prototype.handleTimestamp_=function(g){var b=g-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:b})},d.prototype.cancelSentTransactions_=function(){for(var g=0;g<this.outstandingPuts_.length;g++){var b=this.outstandingPuts_[g];b&&"h"in b.request&&b.queued&&(b.onComplete&&b.onComplete("disconnect"),delete this.outstandingPuts_[g],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},d.prototype.onListenRevoked_=function(g,b){var A;A=b?b.map(function(N){return gt(N)}).join("$"):"default";var x=this.removeListen_(g,A);x&&x.onComplete&&x.onComplete("permission_denied")},d.prototype.removeListen_=function(g,b){var x,A=new I1(g).toString();if(this.listens.has(A)){var N=this.listens.get(A);x=N.get(b),N.delete(b),0===N.size&&this.listens.delete(A)}else x=void 0;return x},d.prototype.onAuthRevoked_=function(g,b){t1("Auth token revoked: "+g+"/"+b),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===g||"permission_denied"===g)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},d.prototype.onAppCheckRevoked_=function(g,b){t1("App check token revoked: "+g+"/"+b),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===g||"permission_denied"===g)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},d.prototype.onSecurityDebugPacket_=function(g){this.securityDebugCallback_?this.securityDebugCallback_(g):"msg"in g&&console.log("FIREBASE: "+g.msg.replace("\n","\nFIREBASE: "))},d.prototype.restoreState_=function(){var g,b,A,x;this.tryAuth(),this.tryAppCheck();try{for(var N=(0,te.XA)(this.listens.values()),V=N.next();!V.done;V=N.next()){var P=V.value;try{for(var Z=(A=void 0,(0,te.XA)(P.values())),G=Z.next();!G.done;G=Z.next())this.sendListen_(G.value)}catch(Fe){A={error:Fe}}finally{try{G&&!G.done&&(x=Z.return)&&x.call(Z)}finally{if(A)throw A.error}}}}catch(Fe){g={error:Fe}}finally{try{V&&!V.done&&(b=N.return)&&b.call(N)}finally{if(g)throw g.error}}for(var we=0;we<this.outstandingPuts_.length;we++)this.outstandingPuts_[we]&&this.sendPut_(we);for(;this.onDisconnectRequestQueue_.length;){var ke=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(ke.action,ke.pathString,ke.data,ke.onComplete)}for(we=0;we<this.outstandingGets_.length;we++)this.outstandingGets_[we]&&this.sendGet_(we)},d.prototype.sendConnectStats_=function(){var g={},b="js";(0,L.Yr)()&&(b=this.repoInfo_.nodeAdmin?"admin_node":"node"),g["sdk."+b+"."+oe.replace(/\./g,"-")]=1,(0,L.uI)()?g["framework.cordova"]=1:(0,L.b$)()&&(g["framework.reactnative"]=1),this.reportStats(g)},d.prototype.shouldReconnect_=function(){var g=h2.getInstance().currentlyOnline();return(0,L.xb)(this.interruptReasons_)&&g},d.nextPersistentConnectionId_=0,d.nextConnectionId_=0,d}(N6),B1=function(){function p(d,g){this.name=d,this.node=g}return p.Wrap=function(d,g){return new p(d,g)},p}(),Ia=function(){function p(){}return p.prototype.getCompare=function(){return this.compare.bind(this)},p.prototype.indexedValueChanged=function(d,g){var b=new B1(fe,d),A=new B1(fe,g);return 0!==this.compare(b,A)},p.prototype.minPost=function(){return B1.MIN},p}(),g5=function(p){function d(){return null!==p&&p.apply(this,arguments)||this}return(0,te.ZT)(d,p),Object.defineProperty(d,"__EMPTY_NODE",{get:function(){return Da},set:function(g){Da=g},enumerable:!1,configurable:!0}),d.prototype.compare=function(g,b){return pe(g.name,b.name)},d.prototype.isDefinedOn=function(g){throw(0,L.g5)("KeyIndex.isDefinedOn not expected to be called.")},d.prototype.indexedValueChanged=function(g,b){return!1},d.prototype.minPost=function(){return B1.MIN},d.prototype.maxPost=function(){return new B1(De,Da)},d.prototype.makePost=function(g,b){return(0,L.hu)("string"==typeof g,"KeyIndex indexValue must always be a string."),new B1(g,Da)},d.prototype.toString=function(){return".key"},d}(Ia),Yn=new g5,E3=function(){function p(d,g,b,A,x){void 0===x&&(x=null),this.isReverse_=A,this.resultGenerator_=x,this.nodeStack_=[];for(var N=1;!d.isEmpty();)if(d=d,N=g?b(d.key,g):1,A&&(N*=-1),N<0)d=this.isReverse_?d.left:d.right;else{if(0===N){this.nodeStack_.push(d);break}this.nodeStack_.push(d),d=this.isReverse_?d.right:d.left}}return p.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var g,d=this.nodeStack_.pop();if(g=this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value},this.isReverse_)for(d=d.left;!d.isEmpty();)this.nodeStack_.push(d),d=d.right;else for(d=d.right;!d.isEmpty();)this.nodeStack_.push(d),d=d.left;return g},p.prototype.hasNext=function(){return this.nodeStack_.length>0},p.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var d=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(d.key,d.value):{key:d.key,value:d.value}},p}(),W2=function(){function p(d,g,b,A,x){this.key=d,this.value=g,this.color=null!=b?b:p.RED,this.left=null!=A?A:Jn.EMPTY_NODE,this.right=null!=x?x:Jn.EMPTY_NODE}return p.prototype.copy=function(d,g,b,A,x){return new p(null!=d?d:this.key,null!=g?g:this.value,null!=b?b:this.color,null!=A?A:this.left,null!=x?x:this.right)},p.prototype.count=function(){return this.left.count()+1+this.right.count()},p.prototype.isEmpty=function(){return!1},p.prototype.inorderTraversal=function(d){return this.left.inorderTraversal(d)||!!d(this.key,this.value)||this.right.inorderTraversal(d)},p.prototype.reverseTraversal=function(d){return this.right.reverseTraversal(d)||d(this.key,this.value)||this.left.reverseTraversal(d)},p.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},p.prototype.minKey=function(){return this.min_().key},p.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},p.prototype.insert=function(d,g,b){var A=this,x=b(d,A.key);return(A=x<0?A.copy(null,null,null,A.left.insert(d,g,b),null):0===x?A.copy(null,g,null,null,null):A.copy(null,null,null,null,A.right.insert(d,g,b))).fixUp_()},p.prototype.removeMin_=function(){if(this.left.isEmpty())return Jn.EMPTY_NODE;var d=this;return!d.left.isRed_()&&!d.left.left.isRed_()&&(d=d.moveRedLeft_()),(d=d.copy(null,null,null,d.left.removeMin_(),null)).fixUp_()},p.prototype.remove=function(d,g){var b,A;if(g(d,(b=this).key)<0)!b.left.isEmpty()&&!b.left.isRed_()&&!b.left.left.isRed_()&&(b=b.moveRedLeft_()),b=b.copy(null,null,null,b.left.remove(d,g),null);else{if(b.left.isRed_()&&(b=b.rotateRight_()),!b.right.isEmpty()&&!b.right.isRed_()&&!b.right.left.isRed_()&&(b=b.moveRedRight_()),0===g(d,b.key)){if(b.right.isEmpty())return Jn.EMPTY_NODE;A=b.right.min_(),b=b.copy(A.key,A.value,null,null,b.right.removeMin_())}b=b.copy(null,null,null,null,b.right.remove(d,g))}return b.fixUp_()},p.prototype.isRed_=function(){return this.color},p.prototype.fixUp_=function(){var d=this;return d.right.isRed_()&&!d.left.isRed_()&&(d=d.rotateLeft_()),d.left.isRed_()&&d.left.left.isRed_()&&(d=d.rotateRight_()),d.left.isRed_()&&d.right.isRed_()&&(d=d.colorFlip_()),d},p.prototype.moveRedLeft_=function(){var d=this.colorFlip_();return d.right.left.isRed_()&&(d=(d=(d=d.copy(null,null,null,null,d.right.rotateRight_())).rotateLeft_()).colorFlip_()),d},p.prototype.moveRedRight_=function(){var d=this.colorFlip_();return d.left.left.isRed_()&&(d=(d=d.rotateRight_()).colorFlip_()),d},p.prototype.rotateLeft_=function(){var d=this.copy(null,null,p.RED,null,this.right.left);return this.right.copy(null,null,this.color,d,null)},p.prototype.rotateRight_=function(){var d=this.copy(null,null,p.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,d)},p.prototype.colorFlip_=function(){var d=this.left.copy(null,null,!this.left.color,null,null),g=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,d,g)},p.prototype.checkMaxDepth_=function(){var d=this.check_();return Math.pow(2,d)<=this.count()+1},p.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var d=this.left.check_();if(d!==this.right.check_())throw new Error("Black depths differ");return d+(this.isRed_()?0:1)},p.RED=!0,p.BLACK=!1,p}(),Hu=function(){function p(){}return p.prototype.copy=function(d,g,b,A,x){return this},p.prototype.insert=function(d,g,b){return new W2(d,g,null)},p.prototype.remove=function(d,g){return this},p.prototype.count=function(){return 0},p.prototype.isEmpty=function(){return!0},p.prototype.inorderTraversal=function(d){return!1},p.prototype.reverseTraversal=function(d){return!1},p.prototype.minKey=function(){return null},p.prototype.maxKey=function(){return null},p.prototype.check_=function(){return 0},p.prototype.isRed_=function(){return!1},p}(),Jn=function(){function p(d,g){void 0===g&&(g=p.EMPTY_NODE),this.comparator_=d,this.root_=g}return p.prototype.insert=function(d,g){return new p(this.comparator_,this.root_.insert(d,g,this.comparator_).copy(null,null,W2.BLACK,null,null))},p.prototype.remove=function(d){return new p(this.comparator_,this.root_.remove(d,this.comparator_).copy(null,null,W2.BLACK,null,null))},p.prototype.get=function(d){for(var g,b=this.root_;!b.isEmpty();){if(0===(g=this.comparator_(d,b.key)))return b.value;g<0?b=b.left:g>0&&(b=b.right)}return null},p.prototype.getPredecessorKey=function(d){for(var g,b=this.root_,A=null;!b.isEmpty();){if(0===(g=this.comparator_(d,b.key))){if(b.left.isEmpty())return A?A.key:null;for(b=b.left;!b.right.isEmpty();)b=b.right;return b.key}g<0?b=b.left:g>0&&(A=b,b=b.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},p.prototype.isEmpty=function(){return this.root_.isEmpty()},p.prototype.count=function(){return this.root_.count()},p.prototype.minKey=function(){return this.root_.minKey()},p.prototype.maxKey=function(){return this.root_.maxKey()},p.prototype.inorderTraversal=function(d){return this.root_.inorderTraversal(d)},p.prototype.reverseTraversal=function(d){return this.root_.reverseTraversal(d)},p.prototype.getIterator=function(d){return new E3(this.root_,null,this.comparator_,!1,d)},p.prototype.getIteratorFrom=function(d,g){return new E3(this.root_,d,this.comparator_,!1,g)},p.prototype.getReverseIteratorFrom=function(d,g){return new E3(this.root_,d,this.comparator_,!0,g)},p.prototype.getReverseIterator=function(d){return new E3(this.root_,null,this.comparator_,!0,d)},p.EMPTY_NODE=new Hu,p}();function zs(p,d){return pe(p.name,d.name)}function mr(p,d){return pe(p,d)}var Ss,W4,x3,k6,Vi,L6=function(p){return"number"==typeof p?"number:"+je(p):"string:"+p},xs=function(p){if(p.isLeafNode()){var d=p.val();(0,L.hu)("string"==typeof d||"number"==typeof d||"object"==typeof d&&(0,L.r3)(d,".sv"),"Priority must be a string or number.")}else(0,L.hu)(p===La||p.isEmpty(),"priority of unexpected type.");(0,L.hu)(p===La||p.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},G4=function(){function p(d,g){void 0===g&&(g=p.__childrenNodeConstructor.EMPTY_NODE),this.value_=d,this.priorityNode_=g,this.lazyHash_=null,(0,L.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),xs(this.priorityNode_)}return Object.defineProperty(p,"__childrenNodeConstructor",{get:function(){return Ss},set:function(d){Ss=d},enumerable:!1,configurable:!0}),p.prototype.isLeafNode=function(){return!0},p.prototype.getPriority=function(){return this.priorityNode_},p.prototype.updatePriority=function(d){return new p(this.value_,d)},p.prototype.getImmediateChild=function(d){return".priority"===d?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE},p.prototype.getChild=function(d){return V1(d)?this:".priority"===D1(d)?this.priorityNode_:p.__childrenNodeConstructor.EMPTY_NODE},p.prototype.hasChild=function(){return!1},p.prototype.getPredecessorChildName=function(d,g){return null},p.prototype.updateImmediateChild=function(d,g){return".priority"===d?this.updatePriority(g):g.isEmpty()&&".priority"!==d?this:p.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(d,g).updatePriority(this.priorityNode_)},p.prototype.updateChild=function(d,g){var b=D1(d);return null===b?g:g.isEmpty()&&".priority"!==b?this:((0,L.hu)(".priority"!==b||1===Jr(d),".priority must be the last token in a path"),this.updateImmediateChild(b,p.__childrenNodeConstructor.EMPTY_NODE.updateChild(S1(d),g)))},p.prototype.isEmpty=function(){return!1},p.prototype.numChildren=function(){return 0},p.prototype.forEachChild=function(d,g){return!1},p.prototype.val=function(d){return d&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},p.prototype.hash=function(){if(null===this.lazyHash_){var d="";this.priorityNode_.isEmpty()||(d+="priority:"+L6(this.priorityNode_.val())+":");var g=typeof this.value_;d+=g+":",d+="number"===g?je(this.value_):this.value_,this.lazyHash_=Be(d)}return this.lazyHash_},p.prototype.getValue=function(){return this.value_},p.prototype.compareTo=function(d){return d===p.__childrenNodeConstructor.EMPTY_NODE?1:d instanceof p.__childrenNodeConstructor?-1:((0,L.hu)(d.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(d))},p.prototype.compareToLeafNode_=function(d){var g=typeof d.value_,b=typeof this.value_,A=p.VALUE_TYPE_ORDER.indexOf(g),x=p.VALUE_TYPE_ORDER.indexOf(b);return(0,L.hu)(A>=0,"Unknown leaf type: "+g),(0,L.hu)(x>=0,"Unknown leaf type: "+b),A===x?"object"===b?0:this.value_<d.value_?-1:this.value_===d.value_?0:1:x-A},p.prototype.withIndex=function(){return this},p.prototype.isIndexed=function(){return!0},p.prototype.equals=function(d){return d===this||!!d.isLeafNode()&&(this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_))},p.VALUE_TYPE_ORDER=["object","boolean","number","string"],p}(),lt=new(function(p){function d(){return null!==p&&p.apply(this,arguments)||this}return(0,te.ZT)(d,p),d.prototype.compare=function(g,b){var A=g.node.getPriority(),x=b.node.getPriority(),N=A.compareTo(x);return 0===N?pe(g.name,b.name):N},d.prototype.isDefinedOn=function(g){return!g.getPriority().isEmpty()},d.prototype.indexedValueChanged=function(g,b){return!g.getPriority().equals(b.getPriority())},d.prototype.minPost=function(){return B1.MIN},d.prototype.maxPost=function(){return new B1(De,new G4("[PRIORITY-POST]",x3))},d.prototype.makePost=function(g,b){var A=W4(g);return new B1(b,new G4("[PRIORITY-POST]",A))},d.prototype.toString=function(){return".priority"},d}(Ia)),Ns=Math.log(2),R6=function(){function p(d){this.count=parseInt(Math.log(d+1)/Ns,10),this.current_=this.count-1;var A=parseInt(Array(this.count+1).join("1"),2);this.bits_=d+1&A}return p.prototype.nextBitIsOne=function(){var d=!(this.bits_&1<<this.current_);return this.current_--,d},p}(),V6=function(p,d,g,b){p.sort(d);var A=function(P,Z){var ue,we,G=Z-P;if(0===G)return null;if(1===G)return ue=p[P],we=g?g(ue):ue,new W2(we,ue.node,W2.BLACK,null,null);var ke=parseInt(G/2,10)+P,Fe=A(P,ke),p1=A(ke+1,Z);return ue=p[ke],we=g?g(ue):ue,new W2(we,ue.node,W2.BLACK,Fe,p1)},V=function(P){for(var Z=null,G=null,ue=p.length,we=function(v1,Dt){var yn=ue-v1,o3=ue;ue-=v1;var i6=A(yn+1,o3),a3=p[yn],gi=g?g(a3):a3;ke(new W2(gi,a3.node,Dt,null,i6))},ke=function(v1){Z?(Z.left=v1,Z=v1):(G=v1,Z=v1)},Fe=0;Fe<P.count;++Fe){var p1=P.nextBitIsOne(),o1=Math.pow(2,P.count-(Fe+1));p1?we(o1,W2.BLACK):(we(o1,W2.BLACK),we(o1,W2.RED))}return G}(new R6(p.length));return new Jn(b||d,V)},Ri={},_t=function(){function p(d,g){this.indexes_=d,this.indexSet_=g}return Object.defineProperty(p,"Default",{get:function(){return(0,L.hu)(Ri&&lt,"ChildrenNode.ts has not been loaded"),k6=k6||new p({".priority":Ri},{".priority":lt})},enumerable:!1,configurable:!0}),p.prototype.get=function(d){var g=(0,L.DV)(this.indexes_,d);if(!g)throw new Error("No index defined for "+d);return g instanceof Jn?g:null},p.prototype.hasIndex=function(d){return(0,L.r3)(this.indexSet_,d.toString())},p.prototype.addIndex=function(d,g){(0,L.hu)(d!==Yn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var b=[],A=!1,x=g.getIterator(B1.Wrap),N=x.getNext();N;)A=A||d.isDefinedOn(N.node),b.push(N),N=x.getNext();var V;V=A?V6(b,d.getCompare()):Ri;var P=d.toString(),Z=(0,te.pi)({},this.indexSet_);Z[P]=d;var G=(0,te.pi)({},this.indexes_);return G[P]=V,new p(G,Z)},p.prototype.addToIndexes=function(d,g){var b=this;return new p((0,L.UI)(this.indexes_,function(x,N){var V=(0,L.DV)(b.indexSet_,N);if((0,L.hu)(V,"Missing index implementation for "+N),x===Ri){if(V.isDefinedOn(d.node)){for(var P=[],Z=g.getIterator(B1.Wrap),G=Z.getNext();G;)G.name!==d.name&&P.push(G),G=Z.getNext();return P.push(d),V6(P,V.getCompare())}return Ri}var ue=g.get(d.name),we=x;return ue&&(we=we.remove(new B1(d.name,ue))),we.insert(d,d.node)}),this.indexSet_)},p.prototype.removeFromIndexes=function(d,g){return new p((0,L.UI)(this.indexes_,function(A){if(A===Ri)return A;var x=g.get(d.name);return x?A.remove(new B1(d.name,x)):A}),this.indexSet_)},p}(),y1=function(){function p(d,g,b){this.children_=d,this.priorityNode_=g,this.indexMap_=b,this.lazyHash_=null,this.priorityNode_&&xs(this.priorityNode_),this.children_.isEmpty()&&(0,L.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(p,"EMPTY_NODE",{get:function(){return Vi||(Vi=new p(new Jn(mr),null,_t.Default))},enumerable:!1,configurable:!0}),p.prototype.isLeafNode=function(){return!1},p.prototype.getPriority=function(){return this.priorityNode_||Vi},p.prototype.updatePriority=function(d){return this.children_.isEmpty()?this:new p(this.children_,d,this.indexMap_)},p.prototype.getImmediateChild=function(d){if(".priority"===d)return this.getPriority();var g=this.children_.get(d);return null===g?Vi:g},p.prototype.getChild=function(d){var g=D1(d);return null===g?this:this.getImmediateChild(g).getChild(S1(d))},p.prototype.hasChild=function(d){return null!==this.children_.get(d)},p.prototype.updateImmediateChild=function(d,g){if((0,L.hu)(g,"We should always be passing snapshot nodes"),".priority"===d)return this.updatePriority(g);var b=new B1(d,g),A=void 0,x=void 0;g.isEmpty()?(A=this.children_.remove(d),x=this.indexMap_.removeFromIndexes(b,this.children_)):(A=this.children_.insert(d,g),x=this.indexMap_.addToIndexes(b,this.children_));var N=A.isEmpty()?Vi:this.priorityNode_;return new p(A,N,x)},p.prototype.updateChild=function(d,g){var b=D1(d);if(null===b)return g;(0,L.hu)(".priority"!==D1(d)||1===Jr(d),".priority must be the last token in a path");var A=this.getImmediateChild(b).updateChild(S1(d),g);return this.updateImmediateChild(b,A)},p.prototype.isEmpty=function(){return this.children_.isEmpty()},p.prototype.numChildren=function(){return this.children_.count()},p.prototype.val=function(d){if(this.isEmpty())return null;var g={},b=0,A=0,x=!0;if(this.forEachChild(lt,function(P,Z){g[P]=Z.val(d),b++,x&&p.INTEGER_REGEXP_.test(P)?A=Math.max(A,Number(P)):x=!1}),!d&&x&&A<2*b){var N=[];for(var V in g)N[V]=g[V];return N}return d&&!this.getPriority().isEmpty()&&(g[".priority"]=this.getPriority().val()),g},p.prototype.hash=function(){if(null===this.lazyHash_){var d="";this.getPriority().isEmpty()||(d+="priority:"+L6(this.getPriority().val())+":"),this.forEachChild(lt,function(g,b){var A=b.hash();""!==A&&(d+=":"+g+":"+A)}),this.lazyHash_=""===d?"":Be(d)}return this.lazyHash_},p.prototype.getPredecessorChildName=function(d,g,b){var A=this.resolveIndex_(b);if(A){var x=A.getPredecessorKey(new B1(d,g));return x?x.name:null}return this.children_.getPredecessorKey(d)},p.prototype.getFirstChildName=function(d){var g=this.resolveIndex_(d);if(g){var b=g.minKey();return b&&b.name}return this.children_.minKey()},p.prototype.getFirstChild=function(d){var g=this.getFirstChildName(d);return g?new B1(g,this.children_.get(g)):null},p.prototype.getLastChildName=function(d){var g=this.resolveIndex_(d);if(g){var b=g.maxKey();return b&&b.name}return this.children_.maxKey()},p.prototype.getLastChild=function(d){var g=this.getLastChildName(d);return g?new B1(g,this.children_.get(g)):null},p.prototype.forEachChild=function(d,g){var b=this.resolveIndex_(d);return b?b.inorderTraversal(function(A){return g(A.name,A.node)}):this.children_.inorderTraversal(g)},p.prototype.getIterator=function(d){return this.getIteratorFrom(d.minPost(),d)},p.prototype.getIteratorFrom=function(d,g){var b=this.resolveIndex_(g);if(b)return b.getIteratorFrom(d,function(N){return N});for(var A=this.children_.getIteratorFrom(d.name,B1.Wrap),x=A.peek();null!=x&&g.compare(x,d)<0;)A.getNext(),x=A.peek();return A},p.prototype.getReverseIterator=function(d){return this.getReverseIteratorFrom(d.maxPost(),d)},p.prototype.getReverseIteratorFrom=function(d,g){var b=this.resolveIndex_(g);if(b)return b.getReverseIteratorFrom(d,function(N){return N});for(var A=this.children_.getReverseIteratorFrom(d.name,B1.Wrap),x=A.peek();null!=x&&g.compare(x,d)>0;)A.getNext(),x=A.peek();return A},p.prototype.compareTo=function(d){return this.isEmpty()?d.isEmpty()?0:-1:d.isLeafNode()||d.isEmpty()?1:d===mt?-1:0},p.prototype.withIndex=function(d){if(d===Yn||this.indexMap_.hasIndex(d))return this;var g=this.indexMap_.addIndex(d,this.children_);return new p(this.children_,this.priorityNode_,g)},p.prototype.isIndexed=function(d){return d===Yn||this.indexMap_.hasIndex(d)},p.prototype.equals=function(d){if(d===this)return!0;if(d.isLeafNode())return!1;var g=d;if(this.getPriority().equals(g.getPriority())){if(this.children_.count()===g.children_.count()){for(var b=this.getIterator(lt),A=g.getIterator(lt),x=b.getNext(),N=A.getNext();x&&N;){if(x.name!==N.name||!x.node.equals(N.node))return!1;x=b.getNext(),N=A.getNext()}return null===x&&null===N}return!1}return!1},p.prototype.resolveIndex_=function(d){return d===Yn?null:this.indexMap_.get(d.toString())},p.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,p}(),mt=new(function(p){function d(){return p.call(this,new Jn(mr),y1.EMPTY_NODE,_t.Default)||this}return(0,te.ZT)(d,p),d.prototype.compareTo=function(g){return g===this?0:1},d.prototype.equals=function(g){return g===this},d.prototype.getPriority=function(){return this},d.prototype.getImmediateChild=function(g){return y1.EMPTY_NODE},d.prototype.isEmpty=function(){return!1},d}(y1));function At(p,d){if(void 0===d&&(d=null),null===p)return y1.EMPTY_NODE;if("object"==typeof p&&".priority"in p&&(d=p[".priority"]),(0,L.hu)(null===d||"string"==typeof d||"number"==typeof d||"object"==typeof d&&".sv"in d,"Invalid priority type found: "+typeof d),"object"==typeof p&&".value"in p&&null!==p[".value"]&&(p=p[".value"]),"object"!=typeof p||".sv"in p)return new G4(p,At(d));if(p instanceof Array){var P=y1.EMPTY_NODE;return c1(p,function(Z,G){if((0,L.r3)(p,Z)&&"."!==Z.substring(0,1)){var ue=At(G);(ue.isLeafNode()||!ue.isEmpty())&&(P=P.updateImmediateChild(Z,ue))}}),P.updatePriority(At(d))}var b=[],A=!1;if(c1(p,function(Z,G){if("."!==Z.substring(0,1)){var ue=At(G);ue.isEmpty()||(A=A||!ue.getPriority().isEmpty(),b.push(new B1(Z,ue)))}}),0===b.length)return y1.EMPTY_NODE;var N=V6(b,zs,function(Z){return Z.name},mr);if(A){var V=V6(b,lt.getCompare());return new y1(N,At(d),new _t({".priority":V},{".priority":lt}))}return new y1(N,At(d),_t.Default)}Object.defineProperties(B1,{MIN:{value:new B1(fe,y1.EMPTY_NODE)},MAX:{value:new B1(De,mt)}}),g5.__EMPTY_NODE=y1.EMPTY_NODE,G4.__childrenNodeConstructor=y1,function(p){La=p}(mt),function(p){x3=p}(mt),function(p){W4=p}(At);var ki=function(p){function d(g){var b=p.call(this)||this;return b.indexPath_=g,(0,L.hu)(!V1(g)&&".priority"!==D1(g),"Can't create PathIndex with empty path or .priority key"),b}return(0,te.ZT)(d,p),d.prototype.extractChild=function(g){return g.getChild(this.indexPath_)},d.prototype.isDefinedOn=function(g){return!g.getChild(this.indexPath_).isEmpty()},d.prototype.compare=function(g,b){var A=this.extractChild(g.node),x=this.extractChild(b.node),N=A.compareTo(x);return 0===N?pe(g.name,b.name):N},d.prototype.makePost=function(g,b){var A=At(g),x=y1.EMPTY_NODE.updateChild(this.indexPath_,A);return new B1(b,x)},d.prototype.maxPost=function(){var g=y1.EMPTY_NODE.updateChild(this.indexPath_,mt);return new B1(De,g)},d.prototype.toString=function(){return Wn(this.indexPath_,0).join("/")},d}(Ia),S3=new(function(p){function d(){return null!==p&&p.apply(this,arguments)||this}return(0,te.ZT)(d,p),d.prototype.compare=function(g,b){var A=g.node.compareTo(b.node);return 0===A?pe(g.name,b.name):A},d.prototype.isDefinedOn=function(g){return!0},d.prototype.indexedValueChanged=function(g,b){return!g.equals(b)},d.prototype.minPost=function(){return B1.MIN},d.prototype.maxPost=function(){return B1.MAX},d.prototype.makePost=function(g,b){var A=At(g);return new B1(b,A)},d.prototype.toString=function(){return".value"},d}(Ia)),Kr="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ds=function(){var p=0,d=[];return function(g){var b=g===p;p=g;var A,x=new Array(8);for(A=7;A>=0;A--)x[A]=Kr.charAt(g%64),g=Math.floor(g/64);(0,L.hu)(0===g,"Cannot push at time == 0");var N=x.join("");if(b){for(A=11;A>=0&&63===d[A];A--)d[A]=0;d[A]++}else for(A=0;A<12;A++)d[A]=Math.floor(64*Math.random());for(A=0;A<12;A++)N+=Kr.charAt(d[A]);return(0,L.hu)(20===N.length,"nextPushId: Length should be 20."),N}}(),T3=function(p){if(p===""+zt)return"-";var d=Kt(p);if(null!=d)return""+(d+1);for(var g=new Array(p.length),b=0;b<g.length;b++)g[b]=p.charAt(b);if(g.length<786)return g.push("-"),g.join("");for(var A=g.length-1;A>=0&&"z"===g[A];)A--;if(-1===A)return De;var N=Kr.charAt(Kr.indexOf(g[A])+1);return g[A]=N,g.slice(0,A+1).join("")},e4=function(p){if(p===""+fn)return fe;var d=Kt(p);if(null!=d)return""+(d-1);for(var g=new Array(p.length),b=0;b<g.length;b++)g[b]=p.charAt(b);return"-"===g[g.length-1]?1===g.length?""+zt:(delete g[g.length-1],g.join("")):(g[g.length-1]=Kr.charAt(Kr.indexOf(g[g.length-1])-1),g.join("")+"z".repeat(786-g.length))};function Ra(p){return{type:"value",snapshotNode:p}}function t4(p,d){return{type:"child_added",snapshotNode:d,childName:p}}function d1(p,d){return{type:"child_removed",snapshotNode:d,childName:p}}function N3(p,d,g){return{type:"child_changed",snapshotNode:d,childName:p,oldSnap:g}}var Va=function(){function p(d){this.index_=d}return p.prototype.updateChild=function(d,g,b,A,x,N){(0,L.hu)(d.isIndexed(this.index_),"A node must be indexed if only a child is updated");var V=d.getImmediateChild(g);return V.getChild(A).equals(b.getChild(A))&&V.isEmpty()===b.isEmpty()||(null!=N&&(b.isEmpty()?d.hasChild(g)?N.trackChildChange(d1(g,V)):(0,L.hu)(d.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):V.isEmpty()?N.trackChildChange(t4(g,b)):N.trackChildChange(N3(g,b,V))),d.isLeafNode()&&b.isEmpty())?d:d.updateImmediateChild(g,b).withIndex(this.index_)},p.prototype.updateFullNode=function(d,g,b){return null!=b&&(d.isLeafNode()||d.forEachChild(lt,function(A,x){g.hasChild(A)||b.trackChildChange(d1(A,x))}),g.isLeafNode()||g.forEachChild(lt,function(A,x){if(d.hasChild(A)){var N=d.getImmediateChild(A);N.equals(x)||b.trackChildChange(N3(A,x,N))}else b.trackChildChange(t4(A,x))})),g.withIndex(this.index_)},p.prototype.updatePriority=function(d,g){return d.isEmpty()?y1.EMPTY_NODE:d.updatePriority(g)},p.prototype.filtersNodes=function(){return!1},p.prototype.getIndexedFilter=function(){return this},p.prototype.getIndex=function(){return this.index_},p}(),Ls=function(){function p(d){this.indexedFilter_=new Va(d.getIndex()),this.index_=d.getIndex(),this.startPost_=p.getStartPost_(d),this.endPost_=p.getEndPost_(d)}return p.prototype.getStartPost=function(){return this.startPost_},p.prototype.getEndPost=function(){return this.endPost_},p.prototype.matches=function(d){return this.index_.compare(this.getStartPost(),d)<=0&&this.index_.compare(d,this.getEndPost())<=0},p.prototype.updateChild=function(d,g,b,A,x,N){return this.matches(new B1(g,b))||(b=y1.EMPTY_NODE),this.indexedFilter_.updateChild(d,g,b,A,x,N)},p.prototype.updateFullNode=function(d,g,b){g.isLeafNode()&&(g=y1.EMPTY_NODE);var A=g.withIndex(this.index_);A=A.updatePriority(y1.EMPTY_NODE);var x=this;return g.forEachChild(lt,function(N,V){x.matches(new B1(N,V))||(A=A.updateImmediateChild(N,y1.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(d,A,b)},p.prototype.updatePriority=function(d,g){return d},p.prototype.filtersNodes=function(){return!0},p.prototype.getIndexedFilter=function(){return this.indexedFilter_},p.prototype.getIndex=function(){return this.index_},p.getStartPost_=function(d){if(d.hasStart()){var g=d.getIndexStartName();return d.getIndex().makePost(d.getIndexStartValue(),g)}return d.getIndex().minPost()},p.getEndPost_=function(d){if(d.hasEnd()){var g=d.getIndexEndName();return d.getIndex().makePost(d.getIndexEndValue(),g)}return d.getIndex().maxPost()},p}(),C5=function(){function p(d){this.rangedFilter_=new Ls(d),this.index_=d.getIndex(),this.limit_=d.getLimit(),this.reverse_=!d.isViewFromLeft()}return p.prototype.updateChild=function(d,g,b,A,x,N){return this.rangedFilter_.matches(new B1(g,b))||(b=y1.EMPTY_NODE),d.getImmediateChild(g).equals(b)?d:d.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(d,g,b,A,x,N):this.fullLimitUpdateChild_(d,g,b,x,N)},p.prototype.updateFullNode=function(d,g,b){var A;if(g.isLeafNode()||g.isEmpty())A=y1.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<g.numChildren()&&g.isIndexed(this.index_)){A=y1.EMPTY_NODE.withIndex(this.index_);var x=void 0;x=this.reverse_?g.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):g.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var N=0;x.hasNext()&&N<this.limit_;){var V=x.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),V)<=0:this.index_.compare(V,this.rangedFilter_.getEndPost())<=0))break;A=A.updateImmediateChild(V.name,V.node),N++}}else{A=(A=g.withIndex(this.index_)).updatePriority(y1.EMPTY_NODE);var Z=void 0,G=void 0,ue=void 0;if(x=void 0,this.reverse_){x=A.getReverseIterator(this.index_),Z=this.rangedFilter_.getEndPost(),G=this.rangedFilter_.getStartPost();var we=this.index_.getCompare();ue=function(o1,v1){return we(v1,o1)}}else x=A.getIterator(this.index_),Z=this.rangedFilter_.getStartPost(),G=this.rangedFilter_.getEndPost(),ue=this.index_.getCompare();N=0;for(var ke=!1;x.hasNext();)V=x.getNext(),!ke&&ue(Z,V)<=0&&(ke=!0),ke&&N<this.limit_&&ue(V,G)<=0?N++:A=A.updateImmediateChild(V.name,y1.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(d,A,b)},p.prototype.updatePriority=function(d,g){return d},p.prototype.filtersNodes=function(){return!0},p.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},p.prototype.getIndex=function(){return this.index_},p.prototype.fullLimitUpdateChild_=function(d,g,b,A,x){var N;if(this.reverse_){var V=this.index_.getCompare();N=function(Dt,yn){return V(yn,Dt)}}else N=this.index_.getCompare();var P=d;(0,L.hu)(P.numChildren()===this.limit_,"");var Z=new B1(g,b),G=this.reverse_?P.getFirstChild(this.index_):P.getLastChild(this.index_),ue=this.rangedFilter_.matches(Z);if(P.hasChild(g)){for(var we=P.getImmediateChild(g),ke=A.getChildAfterChild(this.index_,G,this.reverse_);null!=ke&&(ke.name===g||P.hasChild(ke.name));)ke=A.getChildAfterChild(this.index_,ke,this.reverse_);var Fe=null==ke?1:N(ke,Z);if(ue&&!b.isEmpty()&&Fe>=0)return null!=x&&x.trackChildChange(N3(g,b,we)),P.updateImmediateChild(g,b);null!=x&&x.trackChildChange(d1(g,we));var o1=P.updateImmediateChild(g,y1.EMPTY_NODE);return null!=ke&&this.rangedFilter_.matches(ke)?(null!=x&&x.trackChildChange(t4(ke.name,ke.node)),o1.updateImmediateChild(ke.name,ke.node)):o1}return b.isEmpty()?d:ue&&N(G,Z)>=0?(null!=x&&(x.trackChildChange(d1(G.name,G.node)),x.trackChildChange(t4(g,b))),P.updateImmediateChild(g,b).updateImmediateChild(G.name,y1.EMPTY_NODE)):d},p}(),Rs=function(){function p(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=lt}return p.prototype.hasStart=function(){return this.startSet_},p.prototype.hasStartAfter=function(){return this.startAfterSet_},p.prototype.hasEndBefore=function(){return this.endBeforeSet_},p.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},p.prototype.getIndexStartValue=function(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},p.prototype.getIndexStartName=function(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fe},p.prototype.hasEnd=function(){return this.endSet_},p.prototype.getIndexEndValue=function(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},p.prototype.getIndexEndName=function(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:De},p.prototype.hasLimit=function(){return this.limitSet_},p.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},p.prototype.getLimit=function(){return(0,L.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},p.prototype.getIndex=function(){return this.index_},p.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},p.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===lt},p.prototype.copy=function(){var d=new p;return d.limitSet_=this.limitSet_,d.limit_=this.limit_,d.startSet_=this.startSet_,d.indexStartValue_=this.indexStartValue_,d.startNameSet_=this.startNameSet_,d.indexStartName_=this.indexStartName_,d.endSet_=this.endSet_,d.indexEndValue_=this.indexEndValue_,d.endNameSet_=this.endNameSet_,d.indexEndName_=this.indexEndName_,d.index_=this.index_,d.viewFrom_=this.viewFrom_,d},p}();function D3(p,d,g){var b=p.copy();return b.startSet_=!0,void 0===d&&(d=null),b.indexStartValue_=d,null!=g?(b.startNameSet_=!0,b.indexStartName_=g):(b.startNameSet_=!1,b.indexStartName_=""),b}function L3(p,d,g){var b=p.copy();return b.endSet_=!0,void 0===d&&(d=null),b.indexEndValue_=d,void 0!==g?(b.endNameSet_=!0,b.indexEndName_=g):(b.endNameSet_=!1,b.indexEndName_=""),b}function N2(p,d){var g=p.copy();return g.index_=d,g}function R3(p){var g,d={};return p.isDefault()||(p.index_===lt?g="$priority":p.index_===S3?g="$value":p.index_===Yn?g="$key":((0,L.hu)(p.index_ instanceof ki,"Unrecognized index type!"),g=p.index_.toString()),d.orderBy=(0,L.Pz)(g),p.startSet_&&(d.startAt=(0,L.Pz)(p.indexStartValue_),p.startNameSet_&&(d.startAt+=","+(0,L.Pz)(p.indexStartName_))),p.endSet_&&(d.endAt=(0,L.Pz)(p.indexEndValue_),p.endNameSet_&&(d.endAt+=","+(0,L.Pz)(p.indexEndName_))),p.limitSet_&&(p.isViewFromLeft()?d.limitToFirst=p.limit_:d.limitToLast=p.limit_)),d}function V3(p){var d={};if(p.startSet_&&(d.sp=p.indexStartValue_,p.startNameSet_&&(d.sn=p.indexStartName_)),p.endSet_&&(d.ep=p.indexEndValue_,p.endNameSet_&&(d.en=p.indexEndName_)),p.limitSet_){d.l=p.limit_;var g=p.viewFrom_;""===g&&(g=p.isViewFromLeft()?"l":"r"),d.vf=g}return p.index_!==lt&&(d.i=p.index_.toString()),d}var Fu=function(p){function d(g,b,A,x){var N=p.call(this)||this;return N.repoInfo_=g,N.onDataUpdate_=b,N.authTokenProvider_=A,N.appCheckTokenProvider_=x,N.log_=Q1("p:rest:"),N.listens_={},N}return(0,te.ZT)(d,p),d.prototype.reportStats=function(g){throw new Error("Method not implemented.")},d.getListenId_=function(g,b){return void 0!==b?"tag$"+b:((0,L.hu)(g._queryParams.isDefault(),"should have a tag if it's not a default query."),g._path.toString())},d.prototype.listen=function(g,b,A,x){var N=this,V=g._path.toString();this.log_("Listen called for "+V+" "+g._queryIdentifier);var P=d.getListenId_(g,A),Z={};this.listens_[P]=Z;var G=R3(g._queryParams);this.restRequest_(V+".json",G,function(ue,we){var ke=we;404===ue&&(ke=null,ue=null),null===ue&&N.onDataUpdate_(V,ke,!1,A),(0,L.DV)(N.listens_,P)===Z&&x(ue?401===ue?"permission_denied":"rest_error:"+ue:"ok",null)})},d.prototype.unlisten=function(g,b){var A=d.getListenId_(g,b);delete this.listens_[A]},d.prototype.get=function(g){var b=this,A=R3(g._queryParams),x=g._path.toString(),N=new L.BH;return this.restRequest_(x+".json",A,function(V,P){var Z=P;404===V&&(Z=null,V=null),null===V?(b.onDataUpdate_(x,Z,!1,null),N.resolve(Z)):N.reject(new Error(Z))}),N.promise},d.prototype.refreshAuthToken=function(g){},d.prototype.restRequest_=function(g,b,A){var x=this;return void 0===b&&(b={}),b.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(N){var V=(0,te.CR)(N,2),P=V[0],Z=V[1];P&&P.accessToken&&(b.auth=P.accessToken),Z&&Z.token&&(b.ac=Z.token);var G=(x.repoInfo_.secure?"https://":"http://")+x.repoInfo_.host+g+"?ns="+x.repoInfo_.namespace+(0,L.xO)(b);x.log_("Sending REST request for "+G);var ue=new XMLHttpRequest;ue.onreadystatechange=function(){if(A&&4===ue.readyState){x.log_("REST Response for "+G+" received. status:",ue.status,"response:",ue.responseText);var we=null;if(ue.status>=200&&ue.status<300){try{we=(0,L.cI)(ue.responseText)}catch(ke){rt("Failed to parse JSON response for "+G+": "+ue.responseText)}A(null,we)}else 401!==ue.status&&404!==ue.status&&rt("Got unsuccessful REST response for "+G+" Status: "+ue.status),A(ue.status);A=null}},ue.open("GET",G,!0),ue.send()})},d}(N6),M5=function(){function p(){this.rootNode_=y1.EMPTY_NODE}return p.prototype.getNode=function(d){return this.rootNode_.getChild(d)},p.prototype.updateSnapshot=function(d,g){this.rootNode_=this.rootNode_.updateChild(d,g)},p}();function Q4(){return{value:null,children:new Map}}function vr(p,d,g){if(V1(d))p.value=g,p.children.clear();else if(null!==p.value)p.value=p.value.updateChild(d,g);else{var b=D1(d);p.children.has(b)||p.children.set(b,Q4()),vr(p.children.get(b),d=S1(d),g)}}function kt(p,d){if(V1(d))return p.value=null,p.children.clear(),!0;if(null!==p.value){if(p.value.isLeafNode())return!1;var g=p.value;return p.value=null,g.forEachChild(lt,function(x,N){vr(p,new I1(x),N)}),kt(p,d)}if(p.children.size>0){var b=D1(d);return d=S1(d),p.children.has(b)&&kt(p.children.get(b),d)&&p.children.delete(b),0===p.children.size}return!0}function $2(p,d,g){null!==p.value?g(d,p.value):function(p,d){p.children.forEach(function(g,b){d(b,g)})}(p,function(b,A){$2(A,new I1(d.toString()+"/"+b),g)})}var gr=function(){function p(d){this.collection_=d,this.last_=null}return p.prototype.get=function(){var d=this.collection_.get(),g=(0,te.pi)({},d);return this.last_&&c1(this.last_,function(b,A){g[b]=g[b]-A}),this.last_=d,g},p}(),ks=function(){function p(d,g){this.server_=g,this.statsToReport_={},this.statsListener_=new gr(d);var b=1e4+2e4*Math.random();dr(this.reportStats_.bind(this),Math.floor(b))}return p.prototype.reportStats_=function(){var d=this,g=this.statsListener_.get(),b={},A=!1;c1(g,function(x,N){N>0&&(0,L.r3)(d.statsToReport_,x)&&(b[x]=N,A=!0)}),A&&this.server_.reportStats(b),dr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},p}(),O2=(()=>(function(p){p[p.OVERWRITE=0]="OVERWRITE",p[p.MERGE=1]="MERGE",p[p.ACK_USER_WRITE=2]="ACK_USER_WRITE",p[p.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(O2||(O2={})),O2))();function Y4(p){return{fromUser:!1,fromServer:!0,queryId:p,tagged:!0}}var Os=function(){function p(d,g,b){this.path=d,this.affectedTree=g,this.revert=b,this.type=O2.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return p.prototype.operationForChild=function(d){if(V1(this.path)){if(null!=this.affectedTree.value)return(0,L.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var g=this.affectedTree.subtree(new I1(d));return new p(Ye(),g,this.revert)}return(0,L.hu)(D1(this.path)===d,"operationForChild called for unrelated child."),new p(S1(this.path),this.affectedTree,this.revert)},p}(),ka=function(){function p(d,g){this.source=d,this.path=g,this.type=O2.LISTEN_COMPLETE}return p.prototype.operationForChild=function(d){return V1(this.path)?new p(this.source,Ye()):new p(this.source,S1(this.path))},p}(),J4=function(){function p(d,g,b){this.source=d,this.path=g,this.snap=b,this.type=O2.OVERWRITE}return p.prototype.operationForChild=function(d){return V1(this.path)?new p(this.source,Ye(),this.snap.getImmediateChild(d)):new p(this.source,S1(this.path),this.snap)},p}(),H6=function(){function p(d,g,b){this.source=d,this.path=g,this.children=b,this.type=O2.MERGE}return p.prototype.operationForChild=function(d){if(V1(this.path)){var g=this.children.subtree(new I1(d));return g.isEmpty()?null:g.value?new J4(this.source,Ye(),g.value):new p(this.source,Ye(),g)}return(0,L.hu)(D1(this.path)===d,"Can't get a merge for a child not on the path of the operation"),new p(this.source,S1(this.path),this.children)},p.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},p}(),n4=function(){function p(d,g,b){this.node_=d,this.fullyInitialized_=g,this.filtered_=b}return p.prototype.isFullyInitialized=function(){return this.fullyInitialized_},p.prototype.isFiltered=function(){return this.filtered_},p.prototype.isCompleteForPath=function(d){if(V1(d))return this.isFullyInitialized()&&!this.filtered_;var g=D1(d);return this.isCompleteForChild(g)},p.prototype.isCompleteForChild=function(d){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(d)},p.prototype.getNode=function(){return this.node_},p}(),Hs=function(d){this.query_=d,this.index_=this.query_._queryParams.getIndex()};function yr(p,d,g,b,A,x){var N=b.filter(function(V){return V.type===g});N.sort(function(V,P){return function(p,d,g){if(null==d.childName||null==g.childName)throw(0,L.g5)("Should only compare child_ events.");var b=new B1(d.childName,d.snapshotNode),A=new B1(g.childName,g.snapshotNode);return p.index_.compare(b,A)}(p,V,P)}),N.forEach(function(V){var P=function(p,d,g){return"value"===d.type||"child_removed"===d.type||(d.prevName=g.getPredecessorChildName(d.childName,d.snapshotNode,p.index_)),d}(p,V,x);A.forEach(function(Z){Z.respondsTo(V.type)&&d.push(Z.createEvent(P,p.query_))})})}function qt(p,d){return{eventCache:p,serverCache:d}}function Tn(p,d,g,b){return qt(new n4(d,g,b),p.serverCache)}function Tt(p,d,g,b){return qt(p.eventCache,new n4(d,g,b))}function P6(p){return p.eventCache.isFullyInitialized()?p.eventCache.getNode():null}function Oi(p){return p.serverCache.isFullyInitialized()?p.serverCache.getNode():null}var F6,Q2=function(){function p(d,g){void 0===g&&(F6||(F6=new Jn(s1)),g=F6),this.value=d,this.children=g}return p.fromObject=function(d){var g=new p(null);return c1(d,function(b,A){g=g.set(new I1(b),A)}),g},p.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},p.prototype.findRootMostMatchingPathAndValue=function(d,g){if(null!=this.value&&g(this.value))return{path:Ye(),value:this.value};if(V1(d))return null;var b=D1(d),A=this.children.get(b);if(null!==A){var x=A.findRootMostMatchingPathAndValue(S1(d),g);return null!=x?{path:R1(new I1(b),x.path),value:x.value}:null}return null},p.prototype.findRootMostValueAndPath=function(d){return this.findRootMostMatchingPathAndValue(d,function(){return!0})},p.prototype.subtree=function(d){if(V1(d))return this;var g=D1(d),b=this.children.get(g);return null!==b?b.subtree(S1(d)):new p(null)},p.prototype.set=function(d,g){if(V1(d))return new p(g,this.children);var b=D1(d),x=(this.children.get(b)||new p(null)).set(S1(d),g),N=this.children.insert(b,x);return new p(this.value,N)},p.prototype.remove=function(d){if(V1(d))return this.children.isEmpty()?new p(null):new p(null,this.children);var g=D1(d),b=this.children.get(g);if(b){var A=b.remove(S1(d)),x=void 0;return x=A.isEmpty()?this.children.remove(g):this.children.insert(g,A),null===this.value&&x.isEmpty()?new p(null):new p(this.value,x)}return this},p.prototype.get=function(d){if(V1(d))return this.value;var g=D1(d),b=this.children.get(g);return b?b.get(S1(d)):null},p.prototype.setTree=function(d,g){if(V1(d))return g;var N,b=D1(d),x=(this.children.get(b)||new p(null)).setTree(S1(d),g);return N=x.isEmpty()?this.children.remove(b):this.children.insert(b,x),new p(this.value,N)},p.prototype.fold=function(d){return this.fold_(Ye(),d)},p.prototype.fold_=function(d,g){var b={};return this.children.inorderTraversal(function(A,x){b[A]=x.fold_(R1(d,A),g)}),g(d,this.value,b)},p.prototype.findOnPath=function(d,g){return this.findOnPath_(d,Ye(),g)},p.prototype.findOnPath_=function(d,g,b){var A=!!this.value&&b(g,this.value);if(A)return A;if(V1(d))return null;var x=D1(d),N=this.children.get(x);return N?N.findOnPath_(S1(d),R1(g,x),b):null},p.prototype.foreachOnPath=function(d,g){return this.foreachOnPath_(d,Ye(),g)},p.prototype.foreachOnPath_=function(d,g,b){if(V1(d))return this;this.value&&b(g,this.value);var A=D1(d),x=this.children.get(A);return x?x.foreachOnPath_(S1(d),R1(g,A),b):new p(null)},p.prototype.foreach=function(d){this.foreach_(Ye(),d)},p.prototype.foreach_=function(d,g){this.children.inorderTraversal(function(b,A){A.foreach_(R1(d,b),g)}),this.value&&g(d,this.value)},p.prototype.foreachChild=function(d){this.children.inorderTraversal(function(g,b){b.value&&d(g,b.value)})},p}(),d2=function(){function p(d){this.writeTree_=d}return p.empty=function(){return new p(new Q2(null))},p}();function r4(p,d,g){if(V1(d))return new d2(new Q2(g));var b=p.writeTree_.findRootMostValueAndPath(d);if(null!=b){var A=b.path,x=b.value,N=wt(A,d);return x=x.updateChild(N,g),new d2(p.writeTree_.set(A,x))}var V=new Q2(g),P=p.writeTree_.setTree(d,V);return new d2(P)}function i4(p,d,g){var b=p;return c1(g,function(A,x){b=r4(b,R1(d,A),x)}),b}function O3(p,d){if(V1(d))return d2.empty();var g=p.writeTree_.setTree(d,new Q2(null));return new d2(g)}function H3(p,d){return null!=o4(p,d)}function o4(p,d){var g=p.writeTree_.findRootMostValueAndPath(d);return null!=g?p.writeTree_.get(g.path).getChild(wt(g.path,d)):null}function Ps(p){var d=[],g=p.writeTree_.value;return null!=g?g.isLeafNode()||g.forEachChild(lt,function(b,A){d.push(new B1(b,A))}):p.writeTree_.children.inorderTraversal(function(b,A){null!=A.value&&d.push(new B1(b,A.value))}),d}function I2(p,d){if(V1(d))return p;var g=o4(p,d);return new d2(null!=g?new Q2(g):p.writeTree_.subtree(d))}function Hi(p){return p.writeTree_.isEmpty()}function P3(p,d){return Fs(Ye(),p.writeTree_,d)}function Fs(p,d,g){if(null!=d.value)return g.updateChild(p,d.value);var b=null;return d.children.inorderTraversal(function(A,x){".priority"===A?((0,L.hu)(null!==x.value,"Priority writes must always be leaf nodes"),b=x.value):g=Fs(R1(p,A),x,g)}),!g.getChild(p).isEmpty()&&null!==b&&(g=g.updateChild(R1(p,".priority"),b)),g}function a4(p,d){return Fa(d,p)}function uy(p,d){if(p.snap)return T2(p.path,d);for(var g in p.children)if(p.children.hasOwnProperty(g)&&T2(R1(p.path,g),d))return!0;return!1}function Ha(p){return p.visible}function Nn(p,d,g){for(var b=d2.empty(),A=0;A<p.length;++A){var x=p[A];if(d(x)){var N=x.path,V=void 0;if(x.snap)T2(g,N)?b=r4(b,V=wt(g,N),x.snap):T2(N,g)&&(V=wt(N,g),b=r4(b,Ye(),x.snap.getChild(V)));else{if(!x.children)throw(0,L.g5)("WriteRecord should have .snap or .children");if(T2(g,N))b=i4(b,V=wt(g,N),x.children);else if(T2(N,g))if(V1(V=wt(N,g)))b=i4(b,Ye(),x.children);else{var P=(0,L.DV)(x.children,D1(V));if(P){var Z=P.getChild(S1(V));b=r4(b,Ye(),Z)}}}}}return b}function F3(p,d,g,b,A){if(b||A){var P=I2(p.visibleWrites,d);return!A&&Hi(P)?g:A||null!=g||H3(P,Ye())?P3(Nn(p.allWrites,function(we){return(we.visible||A)&&(!b||!~b.indexOf(we.writeId))&&(T2(we.path,d)||T2(d,we.path))},d),g||y1.EMPTY_NODE):null}var x=o4(p.visibleWrites,d);if(null!=x)return x;var N=I2(p.visibleWrites,d);return Hi(N)?g:null!=g||H3(N,Ye())?P3(N,g||y1.EMPTY_NODE):null}function X4(p,d,g,b){return F3(p.writeTree,p.treePath,d,g,b)}function N5(p,d){return function(p,d,g){var b=y1.EMPTY_NODE,A=o4(p.visibleWrites,d);if(A)return A.isLeafNode()||A.forEachChild(lt,function(V,P){b=b.updateImmediateChild(V,P)}),b;if(g){var x=I2(p.visibleWrites,d);return g.forEachChild(lt,function(V,P){var Z=P3(I2(x,new I1(V)),P);b=b.updateImmediateChild(V,Z)}),Ps(x).forEach(function(V){b=b.updateImmediateChild(V.name,V.node)}),b}return Ps(I2(p.visibleWrites,d)).forEach(function(V){b=b.updateImmediateChild(V.name,V.node)}),b}(p.writeTree,p.treePath,d)}function Pa(p,d,g,b){return function(p,d,g,b,A){(0,L.hu)(b||A,"Either existingEventSnap or existingServerSnap must exist");var x=R1(d,g);if(H3(p.visibleWrites,x))return null;var N=I2(p.visibleWrites,x);return Hi(N)?A.getChild(g):P3(N,A.getChild(g))}(p.writeTree,p.treePath,d,g,b)}function B6(p,d){return function(p,d){return o4(p.visibleWrites,d)}(p.writeTree,R1(p.treePath,d))}function Bs(p,d,g){return function(p,d,g,b){var A=R1(d,g),x=o4(p.visibleWrites,A);return null!=x?x:b.isCompleteForChild(g)?P3(I2(p.visibleWrites,A),b.getNode().getImmediateChild(g)):null}(p.writeTree,p.treePath,d,g)}function Pi(p,d){return Fa(R1(p.treePath,d),p.writeTree)}function Fa(p,d){return{treePath:p,writeTree:d}}var ut=function(){function p(){this.changeMap=new Map}return p.prototype.trackChildChange=function(d){var g=d.type,b=d.childName;(0,L.hu)("child_added"===g||"child_changed"===g||"child_removed"===g,"Only child changes supported for tracking"),(0,L.hu)(".priority"!==b,"Only non-priority child changes can be tracked.");var A=this.changeMap.get(b);if(A){var x=A.type;if("child_added"===g&&"child_removed"===x)this.changeMap.set(b,N3(b,d.snapshotNode,A.snapshotNode));else if("child_removed"===g&&"child_added"===x)this.changeMap.delete(b);else if("child_removed"===g&&"child_changed"===x)this.changeMap.set(b,d1(b,A.oldSnap));else if("child_changed"===g&&"child_added"===x)this.changeMap.set(b,t4(b,d.snapshotNode));else{if("child_changed"!==g||"child_changed"!==x)throw(0,L.g5)("Illegal combination of changes: "+d+" occurred after "+A);this.changeMap.set(b,N3(b,d.snapshotNode,A.oldSnap))}}else this.changeMap.set(b,d)},p.prototype.getChanges=function(){return Array.from(this.changeMap.values())},p}(),Nt=new(function(){function p(){}return p.prototype.getCompleteChild=function(d){return null},p.prototype.getChildAfterChild=function(d,g,b){return null},p}()),j6=function(){function p(d,g,b){void 0===b&&(b=null),this.writes_=d,this.viewCache_=g,this.optCompleteServerCache_=b}return p.prototype.getCompleteChild=function(d){var g=this.viewCache_.eventCache;if(g.isCompleteForChild(d))return g.getNode().getImmediateChild(d);var b=null!=this.optCompleteServerCache_?new n4(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bs(this.writes_,d,b)},p.prototype.getChildAfterChild=function(d,g,b){var A=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Oi(this.viewCache_),x=function(p,d,g,b,A,x){return function(p,d,g,b,A,x,N){var V,P=I2(p.visibleWrites,d),Z=o4(P,Ye());if(null!=Z)V=Z;else{if(null==g)return[];V=P3(P,g)}if((V=V.withIndex(N)).isEmpty()||V.isLeafNode())return[];for(var G=[],ue=N.getCompare(),we=x?V.getReverseIteratorFrom(b,N):V.getIteratorFrom(b,N),ke=we.getNext();ke&&G.length<A;)0!==ue(ke,b)&&G.push(ke),ke=we.getNext();return G}(p.writeTree,p.treePath,d,g,b,A,x)}(this.writes_,A,g,1,b,d);return 0===x.length?null:x[0]},p}();function Za(p,d,g,b,A,x){var N=d.eventCache;if(null!=B6(b,g))return d;var V=void 0,P=void 0;if(V1(g))if((0,L.hu)(d.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),d.serverCache.isFiltered()){var Z=Oi(d),ue=N5(b,Z instanceof y1?Z:y1.EMPTY_NODE);V=p.filter.updateFullNode(d.eventCache.getNode(),ue,x)}else{var we=X4(b,Oi(d));V=p.filter.updateFullNode(d.eventCache.getNode(),we,x)}else{var ke=D1(g);if(".priority"===ke){(0,L.hu)(1===Jr(g),"Can't have a priority with additional path components");var Fe=N.getNode(),p1=Pa(b,g,Fe,P=d.serverCache.getNode());V=null!=p1?p.filter.updatePriority(Fe,p1):N.getNode()}else{var o1=S1(g),v1=void 0;if(N.isCompleteForChild(ke)){P=d.serverCache.getNode();var Dt=Pa(b,g,N.getNode(),P);v1=null!=Dt?N.getNode().getImmediateChild(ke).updateChild(o1,Dt):N.getNode().getImmediateChild(ke)}else v1=Bs(b,ke,d.serverCache);V=null!=v1?p.filter.updateChild(N.getNode(),ke,v1,o1,A,x):N.getNode()}}return Tn(d,V,N.isFullyInitialized()||V1(g),p.filter.filtersNodes())}function G6(p,d,g,b,A,x,N,V){var Z,P=d.serverCache,G=N?p.filter:p.filter.getIndexedFilter();if(V1(g))Z=G.updateFullNode(P.getNode(),b,null);else if(G.filtersNodes()&&!P.isFiltered()){var ue=P.getNode().updateChild(g,b);Z=G.updateFullNode(P.getNode(),ue,null)}else{var we=D1(g);if(!P.isCompleteForPath(g)&&Jr(g)>1)return d;var ke=S1(g),p1=P.getNode().getImmediateChild(we).updateChild(ke,b);Z=".priority"===we?G.updatePriority(P.getNode(),p1):G.updateChild(P.getNode(),we,p1,ke,Nt,null)}var o1=Tt(d,Z,P.isFullyInitialized()||V1(g),G.filtersNodes());return Za(p,o1,g,A,new j6(A,o1,x),V)}function Fi(p,d,g,b,A,x,N){var P,Z,V=d.eventCache,G=new j6(A,d,x);if(V1(g))Z=p.filter.updateFullNode(d.eventCache.getNode(),b,N),P=Tn(d,Z,!0,p.filter.filtersNodes());else{var ue=D1(g);if(".priority"===ue)Z=p.filter.updatePriority(d.eventCache.getNode(),b),P=Tn(d,Z,V.isFullyInitialized(),V.isFiltered());else{var we=S1(g),ke=V.getNode().getImmediateChild(ue),Fe=void 0;if(V1(we))Fe=b;else{var p1=G.getCompleteChild(ue);Fe=null!=p1?".priority"===M3(we)&&p1.getChild($n(we)).isEmpty()?p1:p1.updateChild(we,b):y1.EMPTY_NODE}P=ke.equals(Fe)?d:Tn(d,p.filter.updateChild(V.getNode(),ue,Fe,we,G,N),V.isFullyInitialized(),p.filter.filtersNodes())}}return P}function Ot(p,d){return p.eventCache.isCompleteForChild(d)}function Ba(p,d,g){return g.foreach(function(b,A){d=d.updateChild(b,A)}),d}function Z3(p,d,g,b,A,x,N,V){if(d.serverCache.getNode().isEmpty()&&!d.serverCache.isFullyInitialized())return d;var Z,P=d;Z=V1(g)?b:new Q2(null).setTree(g,b);var G=d.serverCache.getNode();return Z.children.inorderTraversal(function(ue,we){if(G.hasChild(ue)){var Fe=Ba(0,d.serverCache.getNode().getImmediateChild(ue),we);P=G6(p,P,new I1(ue),Fe,A,x,N,V)}}),Z.children.inorderTraversal(function(ue,we){var ke=!d.serverCache.isCompleteForChild(ue)&&void 0===we.value;if(!G.hasChild(ue)&&!ke){var p1=Ba(0,d.serverCache.getNode().getImmediateChild(ue),we);P=G6(p,P,new I1(ue),p1,A,x,N,V)}}),P}var Gs=function(){function p(d,g){this.query_=d,this.eventRegistrations_=[];var b=this.query_._queryParams,A=new Va(b.getIndex()),x=function(p){return p.loadsAllData()?new Va(p.getIndex()):p.hasLimit()?new C5(p):new Ls(p)}(b);this.processor_=function(p){return{filter:p}}(x);var N=g.serverCache,V=g.eventCache,P=A.updateFullNode(y1.EMPTY_NODE,N.getNode(),null),Z=x.updateFullNode(y1.EMPTY_NODE,V.getNode(),null),G=new n4(P,N.isFullyInitialized(),A.filtersNodes()),ue=new n4(Z,V.isFullyInitialized(),x.filtersNodes());this.viewCache_=qt(ue,G),this.eventGenerator_=new Hs(this.query_)}return Object.defineProperty(p.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),p}();function Zi(p,d){var g=Oi(p.viewCache_);return g&&(p.query._queryParams.loadsAllData()||!V1(d)&&!g.getImmediateChild(D1(d)).isEmpty())?g.getChild(d):null}function s4(p){return 0===p.eventRegistrations_.length}function Cr(p,d,g){var b=[];if(g){(0,L.hu)(null==d,"A cancel should cancel all event registrations.");var A=p.query._path;p.eventRegistrations_.forEach(function(P){var Z=P.createCancelEvent(g,A);Z&&b.push(Z)})}if(d){for(var x=[],N=0;N<p.eventRegistrations_.length;++N){var V=p.eventRegistrations_[N];if(V.matches(d)){if(d.hasAnyCallback()){x=x.concat(p.eventRegistrations_.slice(N+1));break}}else x.push(V)}p.eventRegistrations_=x}else p.eventRegistrations_=[];return b}function I5(p,d,g,b){d.type===O2.MERGE&&null!==d.source.queryId&&((0,L.hu)(Oi(p.viewCache_),"We should always have a full cache before handling merges"),(0,L.hu)(P6(p.viewCache_),"Missing event cache, even though we have a server cache"));var A=p.viewCache_,x=function(p,d,g,b,A){var N,V,x=new ut;if(g.type===O2.OVERWRITE){var P=g;P.source.fromUser?N=Fi(p,d,P.path,P.snap,b,A,x):((0,L.hu)(P.source.fromServer,"Unknown source."),V=P.source.tagged||d.serverCache.isFiltered()&&!V1(P.path),N=G6(p,d,P.path,P.snap,b,A,V,x))}else if(g.type===O2.MERGE){var Z=g;Z.source.fromUser?N=function(p,d,g,b,A,x,N){var V=d;return b.foreach(function(P,Z){var G=R1(g,P);Ot(d,D1(G))&&(V=Fi(p,V,G,Z,A,x,N))}),b.foreach(function(P,Z){var G=R1(g,P);Ot(d,D1(G))||(V=Fi(p,V,G,Z,A,x,N))}),V}(p,d,Z.path,Z.children,b,A,x):((0,L.hu)(Z.source.fromServer,"Unknown source."),V=Z.source.tagged||d.serverCache.isFiltered(),N=Z3(p,d,Z.path,Z.children,b,A,V,x))}else if(g.type===O2.ACK_USER_WRITE){var G=g;N=G.revert?function(p,d,g,b,A,x){var N;if(null!=B6(b,g))return d;var V=new j6(b,d,A),P=d.eventCache.getNode(),Z=void 0;if(V1(g)||".priority"===D1(g)){var G=void 0;if(d.serverCache.isFullyInitialized())G=X4(b,Oi(d));else{var ue=d.serverCache.getNode();(0,L.hu)(ue instanceof y1,"serverChildren would be complete if leaf node"),G=N5(b,ue)}Z=p.filter.updateFullNode(P,G=G,x)}else{var we=D1(g),ke=Bs(b,we,d.serverCache);null==ke&&d.serverCache.isCompleteForChild(we)&&(ke=P.getImmediateChild(we)),(Z=null!=ke?p.filter.updateChild(P,we,ke,S1(g),V,x):d.eventCache.getNode().hasChild(we)?p.filter.updateChild(P,we,y1.EMPTY_NODE,S1(g),V,x):P).isEmpty()&&d.serverCache.isFullyInitialized()&&(N=X4(b,Oi(d))).isLeafNode()&&(Z=p.filter.updateFullNode(Z,N,x))}return N=d.serverCache.isFullyInitialized()||null!=B6(b,Ye()),Tn(d,Z,N,p.filter.filtersNodes())}(p,d,G.path,b,A,x):function(p,d,g,b,A,x,N){if(null!=B6(A,g))return d;var V=d.serverCache.isFiltered(),P=d.serverCache;if(null!=b.value){if(V1(g)&&P.isFullyInitialized()||P.isCompleteForPath(g))return G6(p,d,g,P.getNode().getChild(g),A,x,V,N);if(V1(g)){var Z=new Q2(null);return P.getNode().forEachChild(Yn,function(ue,we){Z=Z.set(new I1(ue),we)}),Z3(p,d,g,Z,A,x,V,N)}return d}var G=new Q2(null);return b.foreach(function(ue,we){var ke=R1(g,ue);P.isCompleteForPath(ke)&&(G=G.set(ue,P.getNode().getChild(ke)))}),Z3(p,d,g,G,A,x,V,N)}(p,d,G.path,G.affectedTree,b,A,x)}else{if(g.type!==O2.LISTEN_COMPLETE)throw(0,L.g5)("Unknown operation type: "+g.type);N=function(p,d,g,b,A){var x=d.serverCache;return Za(p,Tt(d,x.getNode(),x.isFullyInitialized()||V1(g),x.isFiltered()),g,b,Nt,A)}(p,d,g.path,b,x)}var ue=x.getChanges();return function(p,d,g){var b=d.eventCache;if(b.isFullyInitialized()){var A=b.getNode().isLeafNode()||b.getNode().isEmpty(),x=P6(p);(g.length>0||!p.eventCache.isFullyInitialized()||A&&!b.getNode().equals(x)||!b.getNode().getPriority().equals(x.getPriority()))&&g.push(Ra(P6(d)))}}(d,N,ue),{viewCache:N,changes:ue}}(p.processor_,A,d,g,b);return function(p,d){(0,L.hu)(d.eventCache.getNode().isIndexed(p.filter.getIndex()),"Event snap not indexed"),(0,L.hu)(d.serverCache.getNode().isIndexed(p.filter.getIndex()),"Server snap not indexed")}(p.processor_,x.viewCache),(0,L.hu)(x.viewCache.serverCache.isFullyInitialized()||!A.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),p.viewCache_=x.viewCache,Kn(p,x.changes,x.viewCache.eventCache.getNode(),null)}function Kn(p,d,g,b){return function(p,d,g,b){var A=[],x=[];return d.forEach(function(N){"child_changed"===N.type&&p.index_.indexedValueChanged(N.oldSnap,N.snapshotNode)&&x.push(function(p,d){return{type:"child_moved",snapshotNode:d,childName:p}}(N.childName,N.snapshotNode))}),yr(p,A,"child_removed",d,b,g),yr(p,A,"child_added",d,b,g),yr(p,A,"child_moved",x,b,g),yr(p,A,"child_changed",d,b,g),yr(p,A,"value",d,b,g),A}(p.eventGenerator_,d,g,b?[b]:p.eventRegistrations_)}var at,J2,Ws=function(){this.views=new Map};function Mr(p,d,g,b){var A,x,N=d.source.queryId;if(null!==N){var V=p.views.get(N);return(0,L.hu)(null!=V,"SyncTree gave us an op for an invalid query."),I5(V,d,g,b)}var P=[];try{for(var Z=(0,te.XA)(p.views.values()),G=Z.next();!G.done;G=Z.next())P=P.concat(I5(V=G.value,d,g,b))}catch(ue){A={error:ue}}finally{try{G&&!G.done&&(x=Z.return)&&x.call(Z)}finally{if(A)throw A.error}}return P}function D5(p,d,g,b,A){var N=p.views.get(d._queryIdentifier);if(!N){var V=X4(g,A?b:null),P=!1;V?P=!0:b instanceof y1?(V=N5(g,b),P=!1):(V=y1.EMPTY_NODE,P=!1);var Z=qt(new n4(V,P,!1),new n4(b,A,!1));return new Gs(d,Z)}return N}function ei(p){var d,g,b=[];try{for(var A=(0,te.XA)(p.views.values()),x=A.next();!x.done;x=A.next()){var N=x.value;N.query._queryParams.loadsAllData()||b.push(N)}}catch(V){d={error:V}}finally{try{x&&!x.done&&(g=A.return)&&g.call(A)}finally{if(d)throw d.error}}return b}function ti(p,d){var g,b,A=null;try{for(var x=(0,te.XA)(p.views.values()),N=x.next();!N.done;N=x.next())A=A||Zi(N.value,d)}catch(P){g={error:P}}finally{try{N&&!N.done&&(b=x.return)&&b.call(x)}finally{if(g)throw g.error}}return A}function L5(p,d){return d._queryParams.loadsAllData()?c4(p):p.views.get(d._queryIdentifier)}function vn(p,d){return null!=L5(p,d)}function ni(p){return null!=c4(p)}function c4(p){var d,g;try{for(var b=(0,te.XA)(p.views.values()),A=b.next();!A.done;A=b.next()){var x=A.value;if(x.query._queryParams.loadsAllData())return x}}catch(N){d={error:N}}finally{try{A&&!A.done&&(g=b.return)&&g.call(b)}finally{if(d)throw d.error}}return null}var Wt=1,Bi=function(d){this.listenProvider_=d,this.syncPointTree_=new Q2(null),this.pendingWriteTree_={visibleWrites:d2.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function B3(p,d,g,b,A){return function(p,d,g,b,A){(0,L.hu)(b>p.lastWriteId,"Stacking an older write on top of newer ones"),void 0===A&&(A=!0),p.allWrites.push({path:d,snap:g,writeId:b,visible:A}),A&&(p.visibleWrites=r4(p.visibleWrites,d,g)),p.lastWriteId=b}(p.pendingWriteTree_,d,g,b,A),A?Ht(p,new J4({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,g)):[]}function o2(p,d,g){void 0===g&&(g=!1);var b=function(p,d){for(var g=0;g<p.allWrites.length;g++){var b=p.allWrites[g];if(b.writeId===d)return b}return null}(p.pendingWriteTree_,d);if(function(p,d){var g=p.allWrites.findIndex(function(Z){return Z.writeId===d});(0,L.hu)(g>=0,"removeWrite called with nonexistent writeId.");var b=p.allWrites[g];p.allWrites.splice(g,1);for(var A=b.visible,x=!1,N=p.allWrites.length-1;A&&N>=0;){var V=p.allWrites[N];V.visible&&(N>=g&&uy(V,b.path)?A=!1:T2(b.path,V.path)&&(x=!0)),N--}return!!A&&(x?(function(p){p.visibleWrites=Nn(p.allWrites,Ha,Ye()),p.lastWriteId=p.allWrites.length>0?p.allWrites[p.allWrites.length-1].writeId:-1}(p),!0):(b.snap?p.visibleWrites=O3(p.visibleWrites,b.path):c1(b.children,function(Z){p.visibleWrites=O3(p.visibleWrites,R1(b.path,Z))}),!0))}(p.pendingWriteTree_,d)){var x=new Q2(null);return null!=b.snap?x=x.set(Ye(),!0):c1(b.children,function(N){x=x.set(new I1(N),!0)}),Ht(p,new Os(b.path,x,g))}return[]}function wr(p,d,g){return Ht(p,new J4({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,g))}function Q6(p,d,g,b){var A=d._path,x=p.syncPointTree_.get(A),N=[];if(x&&("default"===d._queryIdentifier||vn(x,d))){var V=function(p,d,g,b){var A,x,N=d._queryIdentifier,V=[],P=[],Z=ni(p);if("default"===N)try{for(var G=(0,te.XA)(p.views.entries()),ue=G.next();!ue.done;ue=G.next()){var Fe,we=(0,te.CR)(ue.value,2),ke=we[0];P=P.concat(Cr(Fe=we[1],g,b)),s4(Fe)&&(p.views.delete(ke),Fe.query._queryParams.loadsAllData()||V.push(Fe.query))}}catch(p1){A={error:p1}}finally{try{ue&&!ue.done&&(x=G.return)&&x.call(G)}finally{if(A)throw A.error}}else(Fe=p.views.get(N))&&(P=P.concat(Cr(Fe,g,b)),s4(Fe)&&(p.views.delete(N),Fe.query._queryParams.loadsAllData()||V.push(Fe.query)));return Z&&!ni(p)&&V.push(new((0,L.hu)(at,"Reference.ts has not been loaded"),at)(d._repo,d._path)),{removed:V,events:P}}(x,d,g,b);(function(p){return 0===p.views.size})(x)&&(p.syncPointTree_=p.syncPointTree_.remove(A));var P=V.removed;N=V.events;var Z=-1!==P.findIndex(function(Dt){return Dt._queryParams.loadsAllData()}),G=p.syncPointTree_.findOnPath(A,function(Dt,yn){return ni(yn)});if(Z&&!G){var ue=p.syncPointTree_.subtree(A);if(!ue.isEmpty())for(var we=function(p){return p.fold(function(d,g,b){if(g&&ni(g))return[c4(g)];var x=[];return g&&(x=ei(g)),c1(b,function(N,V){x=x.concat(V)}),x})}(ue),ke=0;ke<we.length;++ke){var Fe=we[ke],p1=Fe.query,o1=Ga(p,Fe);p.listenProvider_.startListening(ai(p1),J6(p,p1),o1.hashFn,o1.onComplete)}}!G&&P.length>0&&!b&&(Z?p.listenProvider_.stopListening(ai(d),null):P.forEach(function(Dt){var yn=p.queryToTagMap.get(K6(Dt));p.listenProvider_.stopListening(ai(Dt),yn)})),function(p,d){for(var g=0;g<d.length;++g){var b=d[g];if(!b._queryParams.loadsAllData()){var A=K6(b),x=p.queryToTagMap.get(A);p.queryToTagMap.delete(A),p.tagToQueryMap.delete(x)}}}(p,P)}return N}function Qs(p,d,g){var b=d._path,A=null,x=!1;p.syncPointTree_.foreachOnPath(b,function(p1,o1){var v1=wt(p1,b);A=A||ti(o1,v1),x=x||ni(o1)});var V,N=p.syncPointTree_.get(b);N?(x=x||ni(N),A=A||ti(N,Ye())):(N=new Ws,p.syncPointTree_=p.syncPointTree_.set(b,N)),null!=A?V=!0:(V=!1,A=y1.EMPTY_NODE,p.syncPointTree_.subtree(b).foreachChild(function(p1,o1){var v1=ti(o1,Ye());v1&&(A=A.updateImmediateChild(p1,v1))}));var Z=vn(N,d);if(!Z&&!d._queryParams.loadsAllData()){var G=K6(d);(0,L.hu)(!p.queryToTagMap.has(G),"View does not exist, but we have a tag");var ue=Wt++;p.queryToTagMap.set(G,ue),p.tagToQueryMap.set(ue,G)}var ke=function(p,d,g,b,A,x){var N=D5(p,d,b,A,x);return p.views.has(d._queryIdentifier)||p.views.set(d._queryIdentifier,N),function(p,d){p.eventRegistrations_.push(d)}(N,g),function(p,d){var g=p.viewCache_.eventCache,b=[];return g.getNode().isLeafNode()||g.getNode().forEachChild(lt,function(x,N){b.push(t4(x,N))}),g.isFullyInitialized()&&b.push(Ra(g.getNode())),Kn(p,b,g.getNode(),d)}(N,g)}(N,d,g,a4(p.pendingWriteTree_,b),A,V);if(!Z&&!x){var Fe=L5(N,d);ke=ke.concat(function(p,d,g){var b=d._path,A=J6(p,d),x=Ga(p,g),N=p.listenProvider_.startListening(ai(d),A,x.hashFn,x.onComplete),V=p.syncPointTree_.subtree(b);if(A)(0,L.hu)(!ni(V.value),"If we're adding a query, it shouldn't be shadowed");else for(var P=V.fold(function(ue,we,ke){if(!V1(ue)&&we&&ni(we))return[c4(we).query];var Fe=[];return we&&(Fe=Fe.concat(ei(we).map(function(p1){return p1.query}))),c1(ke,function(p1,o1){Fe=Fe.concat(o1)}),Fe}),Z=0;Z<P.length;++Z){var G=P[Z];p.listenProvider_.stopListening(ai(G),J6(p,G))}return N}(p,d,Fe))}return ke}function j3(p,d,g){var A=p.pendingWriteTree_,x=p.syncPointTree_.findOnPath(d,function(N,V){var Z=ti(V,wt(N,d));if(Z)return Z});return F3(A,d,x,g,!0)}function Ht(p,d){return ii(d,p.syncPointTree_,null,a4(p.pendingWriteTree_,Ye()))}function ii(p,d,g,b){if(V1(p.path))return Y6(p,d,g,b);var A=d.get(Ye());null==g&&null!=A&&(g=ti(A,Ye()));var x=[],N=D1(p.path),V=p.operationForChild(N),P=d.children.get(N);if(P&&V){var Z=g?g.getImmediateChild(N):null,G=Pi(b,N);x=x.concat(ii(V,P,Z,G))}return A&&(x=x.concat(Mr(A,p,b,g))),x}function Y6(p,d,g,b){var A=d.get(Ye());null==g&&null!=A&&(g=ti(A,Ye()));var x=[];return d.children.inorderTraversal(function(N,V){var P=g?g.getImmediateChild(N):null,Z=Pi(b,N),G=p.operationForChild(N);G&&(x=x.concat(Y6(G,V,P,Z)))}),A&&(x=x.concat(Mr(A,p,b,g))),x}function Ga(p,d){var g=d.query,b=J6(p,g);return{hashFn:function(){return(function(p){return p.viewCache_.serverCache.getNode()}(d)||y1.EMPTY_NODE).hash()},onComplete:function(A){if("ok"===A)return b?function(p,d,g){var b=Dn(p,g);if(b){var A=q3(b),x=A.path,N=A.queryId,V=wt(x,d);return oi(p,x,new ka(Y4(N),V))}return[]}(p,g._path,b):function(p,d){return Ht(p,new ka({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d))}(p,g._path);var x=function(p,d){var g="Unknown Error";"too_big"===p?g="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===p?g="Client doesn't have permission to access the desired data.":"unavailable"===p&&(g="The service is unavailable");var b=new Error(p+" at "+d._path.toString()+": "+g);return b.code=p.toUpperCase(),b}(A,g);return Q6(p,g,null,x)}}}function J6(p,d){var g=K6(d);return p.queryToTagMap.get(g)}function K6(p){return p._path.toString()+"$"+p._queryIdentifier}function Dn(p,d){return p.tagToQueryMap.get(d)}function q3(p){var d=p.indexOf("$");return(0,L.hu)(-1!==d&&d<p.length-1,"Bad queryKey."),{queryId:p.substr(d+1),path:new I1(p.substr(0,d))}}function oi(p,d,g){var b=p.syncPointTree_.get(d);return(0,L.hu)(b,"Missing sync point for query tag that we're tracking"),Mr(b,g,a4(p.pendingWriteTree_,d),null)}function ai(p){return p._queryParams.loadsAllData()&&!p._queryParams.isDefault()?new((0,L.hu)(J2,"Reference.ts has not been loaded"),J2)(p._repo,p._path):p}var Wa=function(){function p(d){this.node_=d}return p.prototype.getImmediateChild=function(d){return new p(this.node_.getImmediateChild(d))},p.prototype.node=function(){return this.node_},p}(),qi=function(){function p(d,g){this.syncTree_=d,this.path_=g}return p.prototype.getImmediateChild=function(d){var g=R1(this.path_,d);return new p(this.syncTree_,g)},p.prototype.node=function(){return j3(this.syncTree_,this.path_)},p}(),$a=function(p,d,g){return p&&"object"==typeof p?((0,L.hu)(".sv"in p,"Unexpected leaf node or priority contents"),"string"==typeof p[".sv"]?V5(p[".sv"],d,g):"object"==typeof p[".sv"]?Qa(p[".sv"],d):void(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(p,null,2))):p},V5=function(p,d,g){switch(p){case"timestamp":return g.timestamp;default:(0,L.hu)(!1,"Unexpected server value: "+p)}},Qa=function(p,d,g){p.hasOwnProperty("increment")||(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(p,null,2));var b=p.increment;"number"!=typeof b&&(0,L.hu)(!1,"Unexpected increment value: "+b);var A=d.node();if((0,L.hu)(null!=A,"Expected ChildrenNode.EMPTY_NODE for nulls"),!A.isLeafNode())return b;var N=A.getValue();return"number"!=typeof N?b:N+b},k5=function(p,d,g,b){return u4(d,new qi(g,p),b)},Gi=function(p,d,g){return u4(p,new Wa(d),g)};function u4(p,d,g){var x,b=p.getPriority().val(),A=$a(b,d.getImmediateChild(".priority"),g);if(p.isLeafNode()){var N=p,V=$a(N.getValue(),d,g);return V!==N.getValue()||A!==N.getPriority().val()?new G4(V,At(A)):p}var P=p;return x=P,A!==P.getPriority().val()&&(x=x.updatePriority(new G4(A))),P.forEachChild(lt,function(Z,G){var ue=u4(G,d.getImmediateChild(Z),g);ue!==G&&(x=x.updateImmediateChild(Z,ue))}),x}var b1=function(d,g,b){void 0===d&&(d=""),void 0===g&&(g=null),void 0===b&&(b={children:{},childCount:0}),this.name=d,this.parent=g,this.node=b};function eo(p,d){for(var g=d instanceof I1?d:new I1(d),b=p,A=D1(g);null!==A;){var x=(0,L.DV)(b.node.children,A)||{children:{},childCount:0};b=new b1(A,b,x),A=D1(g=S1(g))}return b}function X1(p){return p.node.value}function W3(p,d){p.node.value=d,Ja(p)}function Ya(p){return p.node.childCount>0}function f4(p,d){c1(p.node.children,function(g,b){d(new b1(g,p,b))})}function Js(p,d,g,b){g&&!b&&d(p),f4(p,function(A){Js(A,d,!0,b)}),g&&b&&d(p)}function ci(p){return new I1(null===p.parent?p.name:ci(p.parent)+"/"+p.name)}function Ja(p){null!==p.parent&&function(p,d,g){var b=function(p){return void 0===X1(p)&&!Ya(p)}(g),A=(0,L.r3)(p.node.children,d);b&&A?(delete p.node.children[d],p.node.childCount--,Ja(p)):!b&&!A&&(p.node.children[d]=g.node,p.node.childCount++,Ja(p))}(p.parent,p.name,p)}var h4=/[\[\].#$\/\u0000-\u001F\u007F]/,Pt=/[\[\].#$\u0000-\u001F\u007F]/,Qt=10485760,to=function(p){return"string"==typeof p&&0!==p.length&&!h4.test(p)},Ka=function(p){return"string"==typeof p&&0!==p.length&&!Pt.test(p)},Ar=function(p){return null===p||"string"==typeof p||"number"==typeof p&&!de(p)||p&&"object"==typeof p&&(0,L.r3)(p,".sv")},Rn=function(p,d,g,b){b&&void 0===d||Wi((0,L.gK)(p,"value"),d,g)},Wi=function(p,d,g){var b=g instanceof I1?new I6(g,p):g;if(void 0===d)throw new Error(p+"contains undefined "+q4(b));if("function"==typeof d)throw new Error(p+"contains a function "+q4(b)+" with contents = "+d.toString());if(de(d))throw new Error(p+"contains "+d.toString()+" "+q4(b));if("string"==typeof d&&d.length>Qt/3&&(0,L.ug)(d)>Qt)throw new Error(p+"contains a string greater than "+Qt+" utf8 bytes "+q4(b)+" ('"+d.substring(0,50)+"...')");if(d&&"object"==typeof d){var A=!1,x=!1;if(c1(d,function(N,V){if(".value"===N)A=!0;else if(".priority"!==N&&".sv"!==N&&(x=!0,!to(N)))throw new Error(p+" contains an invalid key ("+N+") "+q4(b)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(p,d){p.parts_.length>0&&(p.byteLength_+=1),p.parts_.push(d),p.byteLength_+=(0,L.ug)(d),f5(p)})(b,N),Wi(p,V,b),function(p){var d=p.parts_.pop();p.byteLength_-=(0,L.ug)(d),p.parts_.length>0&&(p.byteLength_-=1)}(b)}),A&&x)throw new Error(p+' contains ".value" child '+q4(b)+" in addition to actual children.")}},d4=function(p,d,g,b){if(!b||void 0!==d){var A=(0,L.gK)(p,"values");if(!d||"object"!=typeof d||Array.isArray(d))throw new Error(A+" must be an object containing the children to replace.");var x=[];c1(d,function(N,V){var P=new I1(N);if(Wi(A,V,R1(g,P)),".priority"===M3(P)&&!Ar(V))throw new Error(A+"contains an invalid value for '"+P.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");x.push(P)}),function(p,d){var g,b;for(g=0;g<d.length;g++)for(var A=Wn(b=d[g]),x=0;x<A.length;x++)if((".priority"!==A[x]||x!==A.length-1)&&!to(A[x]))throw new Error(p+"contains an invalid key ("+A[x]+") in path "+b.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');d.sort(dn);var N=null;for(g=0;g<d.length;g++){if(b=d[g],null!==N&&T2(N,b))throw new Error(p+"contains a path "+N.toString()+" that is ancestor of another path "+b.toString());N=b}}(A,x)}},p4=function(p,d,g){if(!g||void 0!==d){if(de(d))throw new Error((0,L.gK)(p,"priority")+"is "+d.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ar(d))throw new Error((0,L.gK)(p,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ro=function(p,d,g){if(!g||void 0!==d)switch(d){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.gK)(p,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Xn=function(p,d,g,b){if(!(b&&void 0===g||to(g)))throw new Error((0,L.gK)(p,d)+'was an invalid key = "'+g+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},T1=function(p,d,g,b){if(!(b&&void 0===g||Ka(g)))throw new Error((0,L.gK)(p,d)+'was an invalid path = "'+g+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Vn=function(p,d){if(".info"===D1(d))throw new Error(p+" failed = Can't modify data under /.info/")},m4=function(p,d){var g=d.path.toString();if("string"!=typeof d.repoInfo.host||0===d.repoInfo.host.length||!to(d.repoInfo.namespace)&&"localhost"!==d.repoInfo.host.split(":")[0]||0!==g.length&&!function(p){return p&&(p=p.replace(/^\/*\.info(\/|$)/,"/")),Ka(p)}(g))throw new Error((0,L.gK)(p,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},H5=function(p,d,g,b){if((!b||void 0!==g)&&"boolean"!=typeof g)throw new Error((0,L.gK)(p,d)+"must be a boolean.")},Xa=function(){this.eventLists_=[],this.recursionDepth_=0};function v4(p,d){for(var g=null,b=0;b<d.length;b++){var A=d[b],x=A.getPath();null!==g&&!w3(x,g.path)&&(p.eventLists_.push(g),g=null),null===g&&(g={events:[],path:x}),g.events.push(A)}g&&p.eventLists_.push(g)}function Q3(p,d,g){v4(p,g),$i(p,function(b){return w3(b,d)})}function Ft(p,d,g){v4(p,g),$i(p,function(b){return T2(b,d)||T2(d,b)})}function $i(p,d){p.recursionDepth_++;for(var g=!0,b=0;b<p.eventLists_.length;b++){var A=p.eventLists_[b];A&&(d(A.path)?(Ks(p.eventLists_[b]),p.eventLists_[b]=null):g=!1)}g&&(p.eventLists_=[]),p.recursionDepth_--}function Ks(p){for(var d=0;d<p.events.length;d++){var g=p.events[d];if(null!==g){p.events[d]=null;var b=g.getEventRunner();Se&&t1("event: "+g.toString()),An(b)}}}var io="repo_interrupt",Y3=function(){function p(d,g,b,A){this.repoInfo_=d,this.forceRestClient_=g,this.authTokenProvider_=b,this.appCheckProvider_=A,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Xa,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Q4(),this.transactionQueueTree_=new b1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return p.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},p}();function ao(p){var g=p.infoData_.getNode(new I1(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+g}function ui(p){return function(p){return(p=p||{}).timestamp=p.timestamp||(new Date).getTime(),p}({timestamp:ao(p)})}function g4(p,d,g,b,A){p.dataUpdateCount++;var x=new I1(d);g=p.interceptServerDataCallback_?p.interceptServerDataCallback_(d,g):g;var N=[];if(A)if(b){var V=(0,L.UI)(g,function(we){return At(we)});N=function(p,d,g,b){var A=Dn(p,b);if(A){var x=q3(A),N=x.path,V=x.queryId,P=wt(N,d),Z=Q2.fromObject(g);return oi(p,N,new H6(Y4(V),P,Z))}return[]}(p.serverSyncTree_,x,V,A)}else{var P=At(g);N=function(p,d,g,b){var A=Dn(p,b);if(null!=A){var x=q3(A),N=x.path,V=x.queryId,P=wt(N,d);return oi(p,N,new J4(Y4(V),P,g))}return[]}(p.serverSyncTree_,x,P,A)}else if(b){var Z=(0,L.UI)(g,function(we){return At(we)});N=function(p,d,g){var b=Q2.fromObject(g);return Ht(p,new H6({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},d,b))}(p.serverSyncTree_,x,Z)}else{var G=At(g);N=wr(p.serverSyncTree_,x,G)}var ue=x;N.length>0&&(ue=fi(p,x)),Ft(p.eventQueue_,ue,N)}function Xs(p,d){e0(p,"connected",d),!1===d&&function(p){xr(p,"onDisconnectEvents");var d=ui(p),g=Q4();$2(p.onDisconnect_,Ye(),function(A,x){var N=k5(A,x,p.serverSyncTree_,d);vr(g,A,N)});var b=[];$2(g,Ye(),function(A,x){b=b.concat(wr(p.serverSyncTree_,A,x));var N=b4(p,A);fi(p,N)}),p.onDisconnect_=Q4(),Ft(p.eventQueue_,Ye(),b)}(p)}function e0(p,d,g){var b=new I1("/.info/"+d),A=At(g);p.infoData_.updateSnapshot(b,A);var x=wr(p.infoSyncTree_,b,A);Ft(p.eventQueue_,b,x)}function co(p){return p.nextWriteId_++}function y4(p,d,g,b,A){xr(p,"set",{path:d.toString(),value:g,priority:b});var x=ui(p),N=At(g,b),V=j3(p.serverSyncTree_,d),P=Gi(N,V,x),Z=co(p),G=B3(p.serverSyncTree_,d,P,Z,!0);v4(p.eventQueue_,G),p.server_.put(d.toString(),N.val(!0),function(we,ke){var Fe="ok"===we;Fe||rt("set at "+d+" failed: "+we);var p1=o2(p.serverSyncTree_,Z,!Fe);Ft(p.eventQueue_,d,p1),K2(0,A,we,ke)});var ue=b4(p,d);fi(p,ue),Ft(p.eventQueue_,ue,[])}function t0(p,d,g){p.server_.onDisconnectCancel(d.toString(),function(b,A){"ok"===b&&kt(p.onDisconnect_,d),K2(0,g,b,A)})}function lo(p,d,g,b){var A=At(g);p.server_.onDisconnectPut(d.toString(),A.val(!0),function(x,N){"ok"===x&&vr(p.onDisconnect_,d,A),K2(0,b,x,N)})}function uo(p,d,g){var b;b=".info"===D1(d._path)?Q6(p.infoSyncTree_,d,g):Q6(p.serverSyncTree_,d,g),Q3(p.eventQueue_,d._path,b)}function n8(p){p.persistentConnection_&&p.persistentConnection_.interrupt(io)}function xr(p){for(var d=[],g=1;g<arguments.length;g++)d[g-1]=arguments[g];var b="";p.persistentConnection_&&(b=p.persistentConnection_.id+":"),t1.apply(void 0,(0,te.ev)([b],(0,te.CR)(d)))}function K2(p,d,g,b){d&&An(function(){if("ok"===g)d(null);else{var A=(g||"error").toUpperCase(),x=A;b&&(x+=": "+b);var N=new Error(x);N.code=A,d(N)}})}function X2(p,d,g){return j3(p.serverSyncTree_,d,g)||y1.EMPTY_NODE}function er(p,d){if(void 0===d&&(d=p.transactionQueueTree_),d||Qi(p,d),X1(d)){var g=F5(p,d);(0,L.hu)(g.length>0,"Sending zero length transaction queue"),g.every(function(A){return 0===A.status})&&function(p,d,g){for(var b=g.map(function(we){return we.currentWriteId}),A=X2(p,d,b),x=A,N=A.hash(),V=0;V<g.length;V++){var P=g[V];(0,L.hu)(0===P.status,"tryToSendTransactionQueue_: items in queue should all be run."),P.status=1,P.retryCount++;var Z=wt(d,P.path);x=x.updateChild(Z,P.currentOutputSnapshotRaw)}var G=x.val(!0),ue=d;p.server_.put(ue.toString(),G,function(we){xr(p,"transaction put response",{path:ue.toString(),status:we});var ke=[];if("ok"===we){for(var Fe=[],p1=function(v1){g[v1].status=2,ke=ke.concat(o2(p.serverSyncTree_,g[v1].currentWriteId)),g[v1].onComplete&&Fe.push(function(){return g[v1].onComplete(null,!0,g[v1].currentOutputSnapshotResolved)}),g[v1].unwatcher()},o1=0;o1<g.length;o1++)p1(o1);for(Qi(p,eo(p.transactionQueueTree_,d)),er(p,p.transactionQueueTree_),Ft(p.eventQueue_,d,ke),o1=0;o1<Fe.length;o1++)An(Fe[o1])}else{if("datastale"===we)for(o1=0;o1<g.length;o1++)g[o1].status=3===g[o1].status?4:0;else for(rt("transaction at "+ue.toString()+" failed: "+we),o1=0;o1<g.length;o1++)g[o1].status=4,g[o1].abortReason=we;fi(p,d)}},N)}(p,ci(d),g)}else Ya(d)&&f4(d,function(A){er(p,A)})}function fi(p,d){var g=i8(p,d),b=ci(g);return function(p,d,g){if(0!==d.length){for(var b=[],A=[],N=d.filter(function(Z){return 0===Z.status}).map(function(Z){return Z.currentWriteId}),V=function(Z){var ke,G=d[Z],ue=wt(g,G.path),we=!1;if((0,L.hu)(null!==ue,"rerunTransactionsUnderNode_: relativePath should not be null."),4===G.status)we=!0,ke=G.abortReason,A=A.concat(o2(p.serverSyncTree_,G.currentWriteId,!0));else if(0===G.status)if(G.retryCount>=25)we=!0,ke="maxretry",A=A.concat(o2(p.serverSyncTree_,G.currentWriteId,!0));else{var Fe=X2(p,G.path,N);G.currentInputSnapshot=Fe;var p1=d[Z].update(Fe.val());if(void 0!==p1){Wi("transaction failed: Data returned ",p1,G.path);var o1=At(p1);"object"==typeof p1&&null!=p1&&(0,L.r3)(p1,".priority")||(o1=o1.updatePriority(Fe.getPriority()));var Dt=G.currentWriteId,yn=ui(p),o3=Gi(o1,Fe,yn);G.currentOutputSnapshotRaw=o1,G.currentOutputSnapshotResolved=o3,G.currentWriteId=co(p),N.splice(N.indexOf(Dt),1),A=(A=A.concat(B3(p.serverSyncTree_,G.path,o3,G.currentWriteId,G.applyLocally))).concat(o2(p.serverSyncTree_,Dt,!0))}else we=!0,ke="nodata",A=A.concat(o2(p.serverSyncTree_,G.currentWriteId,!0))}Ft(p.eventQueue_,g,A),A=[],we&&(d[Z].status=2,setTimeout(d[Z].unwatcher,Math.floor(0)),d[Z].onComplete&&b.push("nodata"===ke?function(){return d[Z].onComplete(null,!1,d[Z].currentInputSnapshot)}:function(){return d[Z].onComplete(new Error(ke),!1,null)}))},P=0;P<d.length;P++)V(P);for(Qi(p,p.transactionQueueTree_),P=0;P<b.length;P++)An(b[P]);er(p,p.transactionQueueTree_)}}(p,F5(p,g),b),b}function i8(p,d){var g,b=p.transactionQueueTree_;for(g=D1(d);null!==g&&void 0===X1(b);)b=eo(b,g),g=D1(d=S1(d));return b}function F5(p,d){var g=[];return U5(p,d,g),g.sort(function(b,A){return b.order-A.order}),g}function U5(p,d,g){var b=X1(d);if(b)for(var A=0;A<b.length;A++)g.push(b[A]);f4(d,function(x){U5(p,x,g)})}function Qi(p,d){var g=X1(d);if(g){for(var b=0,A=0;A<g.length;A++)2!==g[A].status&&(g[b]=g[A],b++);g.length=b,W3(d,g.length>0?g:void 0)}f4(d,function(x){Qi(p,x)})}function b4(p,d){var g=ci(i8(p,d)),b=eo(p.transactionQueueTree_,d);return function(p,d,g){for(var b=p.parent;null!==b;){if(d(b))return!0;b=b.parent}}(b,function(A){Sr(p,A)}),Sr(p,b),Js(b,function(A){Sr(p,A)}),g}function Sr(p,d){var g=X1(d);if(g){for(var b=[],A=[],x=-1,N=0;N<g.length;N++)3===g[N].status||(1===g[N].status?((0,L.hu)(x===N-1,"All SENT items should be at beginning of queue."),x=N,g[N].status=3,g[N].abortReason="set"):((0,L.hu)(0===g[N].status,"Unexpected transaction status in abort"),g[N].unwatcher(),A=A.concat(o2(p.serverSyncTree_,g[N].currentWriteId,!0)),g[N].onComplete&&b.push(g[N].onComplete.bind(null,new Error("set"),!1,null))));for(-1===x?W3(d,void 0):g.length=x+1,Ft(p.eventQueue_,ci(d),A),N=0;N<b.length;N++)An(b[N])}}var e6=function(p,d){var g=B5(p),b=g.namespace;return"firebase.com"===g.domain&&G1(g.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!b||"undefined"===b)&&"localhost"!==g.domain&&G1("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),g.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new xt(g.host,g.secure,b,d,"ws"===g.scheme||"wss"===g.scheme,"",b!==g.subdomain),path:new I1(g.pathString)}},B5=function(p){var d="",g="",b="",A="",x="",N=!0,V="https",P=443;if("string"==typeof p){var Z=p.indexOf("//");Z>=0&&(V=p.substring(0,Z-1),p=p.substring(Z+2));var G=p.indexOf("/");-1===G&&(G=p.length);var ue=p.indexOf("?");-1===ue&&(ue=p.length),d=p.substring(0,Math.min(G,ue)),G<ue&&(A=function(p){for(var d="",g=p.split("/"),b=0;b<g.length;b++)if(g[b].length>0){var A=g[b];try{A=decodeURIComponent(A.replace(/\+/g," "))}catch(x){}d+="/"+A}return d}(p.substring(G,ue)));var we=function(p){var d,g,b={};"?"===p.charAt(0)&&(p=p.substring(1));try{for(var A=(0,te.XA)(p.split("&")),x=A.next();!x.done;x=A.next()){var N=x.value;if(0!==N.length){var V=N.split("=");2===V.length?b[decodeURIComponent(V[0])]=decodeURIComponent(V[1]):rt("Invalid query segment '"+N+"' in query '"+p+"'")}}}catch(P){d={error:P}}finally{try{x&&!x.done&&(g=A.return)&&g.call(A)}finally{if(d)throw d.error}}return b}(p.substring(Math.min(p.length,ue)));(Z=d.indexOf(":"))>=0?(N="https"===V||"wss"===V,P=parseInt(d.substring(Z+1),10)):Z=d.length;var ke=d.slice(0,Z);if("localhost"===ke.toLowerCase())g="localhost";else if(ke.split(".").length<=2)g=ke;else{var Fe=d.indexOf(".");b=d.substring(0,Fe).toLowerCase(),g=d.substring(Fe+1),x=b}"ns"in we&&(x=we.ns)}return{host:d,port:P,domain:g,subdomain:b,secure:N,scheme:V,pathString:A,namespace:x}},po=function(){function p(d,g,b,A){this.eventType=d,this.eventRegistration=g,this.snapshot=b,this.prevName=A}return p.prototype.getPath=function(){var d=this.snapshot.ref;return"value"===this.eventType?d._path:d.parent._path},p.prototype.getEventType=function(){return this.eventType},p.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},p.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.Pz)(this.snapshot.exportVal())},p}(),a8=function(){function p(d,g,b){this.eventRegistration=d,this.error=g,this.path=b}return p.prototype.getPath=function(){return this.path},p.prototype.getEventType=function(){return"cancel"},p.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},p.prototype.toString=function(){return this.path.toString()+":cancel"},p}(),s8=function(){function p(d,g){this.snapshotCallback=d,this.cancelCallback=g}return p.prototype.onValue=function(d,g){this.snapshotCallback.call(null,d,g)},p.prototype.onCancel=function(d){return(0,L.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,d)},Object.defineProperty(p.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),p.prototype.matches=function(d){return this.snapshotCallback===d.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===d.snapshotCallback.userCallback&&this.snapshotCallback.context===d.snapshotCallback.context},p}(),c8=function(){function p(d,g){this._repo=d,this._path=g}return p.prototype.cancel=function(){var d=new L.BH;return t0(this._repo,this._path,d.wrapCallback(function(){})),d.promise},p.prototype.remove=function(){Vn("OnDisconnect.remove",this._path);var d=new L.BH;return lo(this._repo,this._path,null,d.wrapCallback(function(){})),d.promise},p.prototype.set=function(d){Vn("OnDisconnect.set",this._path),Rn("OnDisconnect.set",d,this._path,!1);var g=new L.BH;return lo(this._repo,this._path,d,g.wrapCallback(function(){})),g.promise},p.prototype.setWithPriority=function(d,g){Vn("OnDisconnect.setWithPriority",this._path),Rn("OnDisconnect.setWithPriority",d,this._path,!1),p4("OnDisconnect.setWithPriority",g,!1);var b=new L.BH;return function(p,d,g,b,A){var x=At(g,b);p.server_.onDisconnectPut(d.toString(),x.val(!0),function(N,V){"ok"===N&&vr(p.onDisconnect_,d,x),K2(0,A,N,V)})}(this._repo,this._path,d,g,b.wrapCallback(function(){})),b.promise},p.prototype.update=function(d){Vn("OnDisconnect.update",this._path),d4("OnDisconnect.update",d,this._path,!1);var g=new L.BH;return function(p,d,g,b){if((0,L.xb)(g))return t1("onDisconnect().update() called with empty data.  Don't do anything."),void K2(0,b,"ok",void 0);p.server_.onDisconnectMerge(d.toString(),g,function(A,x){"ok"===A&&c1(g,function(N,V){var P=At(V);vr(p.onDisconnect_,R1(d,N),P)}),K2(0,b,A,x)})}(this._repo,this._path,d,g.wrapCallback(function(){})),g.promise},p}(),m2=function(){function p(d,g,b,A){this._repo=d,this._path=g,this._queryParams=b,this._orderByCalled=A}return Object.defineProperty(p.prototype,"key",{get:function(){return V1(this._path)?null:M3(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"ref",{get:function(){return new et(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"_queryIdentifier",{get:function(){var d=V3(this._queryParams),g=gt(d);return"{}"===g?"default":g},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"_queryObject",{get:function(){return V3(this._queryParams)},enumerable:!1,configurable:!0}),p.prototype.isEqual=function(d){if(!((d=(0,L.m9)(d))instanceof p))return!1;var g=this._repo===d._repo,b=w3(this._path,d._path);return g&&b&&this._queryIdentifier===d._queryIdentifier},p.prototype.toJSON=function(){return this.toString()},p.prototype.toString=function(){return this._repo.toString()+function(p){for(var d="",g=p.pieceNum_;g<p.pieces_.length;g++)""!==p.pieces_[g]&&(d+="/"+encodeURIComponent(String(p.pieces_[g])));return d||"/"}(this._path)},p}();function C4(p,d){if(!0===p._orderByCalled)throw new Error(d+": You can't combine multiple orderBy calls.")}function tr(p){var d=null,g=null;if(p.hasStart()&&(d=p.getIndexStartValue()),p.hasEnd()&&(g=p.getIndexEndValue()),p.getIndex()===Yn){var b="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",A="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(p.hasStart()){if(p.getIndexStartName()!==fe)throw new Error(b);if("string"!=typeof d)throw new Error(A)}if(p.hasEnd()){if(p.getIndexEndName()!==De)throw new Error(b);if("string"!=typeof g)throw new Error(A)}}else if(p.getIndex()===lt){if(null!=d&&!Ar(d)||null!=g&&!Ar(g))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.hu)(p.getIndex()instanceof ki||p.getIndex()===S3,"unknown index type."),null!=d&&"object"==typeof d||null!=g&&"object"==typeof g)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Yi(p){if(p.hasStart()&&p.hasEnd()&&p.hasLimit()&&!p.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var et=function(p){function d(g,b){return p.call(this,g,b,new Rs,!1)||this}return(0,te.ZT)(d,p),Object.defineProperty(d.prototype,"parent",{get:function(){var g=$n(this._path);return null===g?null:new d(this._repo,g)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"root",{get:function(){for(var g=this;null!==g.parent;)g=g.parent;return g},enumerable:!1,configurable:!0}),d}(m2),Ji=function(){function p(d,g,b){this._node=d,this.ref=g,this._index=b}return Object.defineProperty(p.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),p.prototype.child=function(d){var g=new I1(d),b=Tr(this.ref,d);return new p(this._node.getChild(g),b,lt)},p.prototype.exists=function(){return!this._node.isEmpty()},p.prototype.exportVal=function(){return this._node.val(!0)},p.prototype.forEach=function(d){var g=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(A,x){return d(new p(x,Tr(g.ref,A),lt))})},p.prototype.hasChild=function(d){var g=new I1(d);return!this._node.getChild(g).isEmpty()},p.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},p.prototype.toJSON=function(){return this.exportVal()},p.prototype.val=function(){return this._node.val()},p}();function r0(p,d){return(p=(0,L.m9)(p))._checkNotDeleted("ref"),void 0!==d?Tr(p._root,d):p._root}function mo(p,d){(p=(0,L.m9)(p))._checkNotDeleted("refFromURL");var g=e6(d,p._repo.repoInfo_.nodeAdmin);m4("refFromURL",g);var b=g.repoInfo;return!p._repo.repoInfo_.isCustomHost()&&b.host!==p._repo.repoInfo_.host&&G1("refFromURL: Host name does not match the current database: (found "+b.host+" but expected "+p._repo.repoInfo_.host+")"),r0(p,g.path.toString())}function Tr(p,d){return null===D1((p=(0,L.m9)(p))._path)?((g=d)&&(g=g.replace(/^\/*\.info(\/|$)/,"/")),T1("child","path",g,!1)):T1("child","path",d,!1),new et(p._repo,R1(p._path,d));var g}function l8(p,d){p=(0,L.m9)(p),Vn("push",p._path),Rn("push",d,p._path,!0);var N,g=ao(p._repo),b=Ds(g),A=Tr(p,b),x=Tr(p,b);return N=null!=d?t6(x,d).then(function(){return x}):Promise.resolve(x),A.then=N.then.bind(N),A.catch=N.then.bind(N,void 0),A}function j5(p){return Vn("remove",p._path),t6(p,null)}function t6(p,d){p=(0,L.m9)(p),Vn("set",p._path),Rn("set",d,p._path,!1);var g=new L.BH;return y4(p._repo,p._path,d,null,g.wrapCallback(function(){})),g.promise}function M4(p,d){p=(0,L.m9)(p),Vn("setPriority",p._path),p4("setPriority",d,!1);var g=new L.BH;return y4(p._repo,R1(p._path,".priority"),d,null,g.wrapCallback(function(){})),g.promise}function q5(p,d,g){if(Vn("setWithPriority",p._path),Rn("setWithPriority",d,p._path,!1),p4("setWithPriority",g,!1),".length"===p.key||".keys"===p.key)throw"setWithPriority failed: "+p.key+" is a read-only object.";var b=new L.BH;return y4(p._repo,p._path,d,g,b.wrapCallback(function(){})),b.promise}function Ki(p,d){d4("update",d,p._path,!1);var g=new L.BH;return function(p,d,g,b){xr(p,"update",{path:d.toString(),value:g});var A=!0,x=ui(p),N={};if(c1(g,function(Z,G){A=!1,N[Z]=k5(R1(d,Z),At(G),p.serverSyncTree_,x)}),A)t1("update() called with empty data.  Don't do anything."),K2(0,b,"ok",void 0);else{var V=co(p),P=function(p,d,g,b){!function(p,d,g,b){(0,L.hu)(b>p.lastWriteId,"Stacking an older merge on top of newer ones"),p.allWrites.push({path:d,children:g,writeId:b,visible:!0}),p.visibleWrites=i4(p.visibleWrites,d,g),p.lastWriteId=b}(p.pendingWriteTree_,d,g,b);var A=Q2.fromObject(g);return Ht(p,new H6({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},d,A))}(p.serverSyncTree_,d,N,V);v4(p.eventQueue_,P),p.server_.merge(d.toString(),g,function(Z,G){var ue="ok"===Z;ue||rt("update at "+d+" failed: "+Z);var we=o2(p.serverSyncTree_,V,!ue),ke=we.length>0?fi(p,d):d;Ft(p.eventQueue_,ke,we),K2(0,b,Z,G)}),c1(g,function(Z){var G=b4(p,R1(d,Z));fi(p,G)}),Ft(p.eventQueue_,d,[])}}(p._repo,p._path,d,g.wrapCallback(function(){})),g.promise}function Ju(p){return function(p,d){var g=function(p,d){var g=d._path,b=null;p.syncPointTree_.foreachOnPath(g,function(Z,G){var ue=wt(Z,g);b=b||ti(G,ue)});var A=p.syncPointTree_.get(g);A?b=b||ti(A,Ye()):(A=new Ws,p.syncPointTree_=p.syncPointTree_.set(g,A));var x=null!=b,N=x?new n4(b,!0,!1):null;return function(p){return P6(p.viewCache_)}(D5(A,d,a4(p.pendingWriteTree_,d._path),x?N.getNode():y1.EMPTY_NODE,x))}(p.serverSyncTree_,d);return null!=g?Promise.resolve(g):p.server_.get(d).then(function(b){var A=At(b).withIndex(d._queryParams.getIndex()),x=wr(p.serverSyncTree_,d._path,A);return Q3(p.eventQueue_,d._path,x),Promise.resolve(A)},function(b){return xr(p,"get for query "+(0,L.Pz)(d)+" failed: "+b),Promise.reject(new Error(b))})}((p=(0,L.m9)(p))._repo,p).then(function(d){return new Ji(d,new et(p._repo,p._path),p._queryParams.getIndex())})}var Xi=function(){function p(d){this.callbackContext=d}return p.prototype.respondsTo=function(d){return"value"===d},p.prototype.createEvent=function(d,g){var b=g._queryParams.getIndex();return new po("value",this,new Ji(d.snapshotNode,new et(g._repo,g._path),b))},p.prototype.getEventRunner=function(d){var g=this;return"cancel"===d.getEventType()?function(){return g.callbackContext.onCancel(d.error)}:function(){return g.callbackContext.onValue(d.snapshot,null)}},p.prototype.createCancelEvent=function(d,g){return this.callbackContext.hasCancelCallback?new a8(this,d,g):null},p.prototype.matches=function(d){return d instanceof p&&(!d.callbackContext||!this.callbackContext||d.callbackContext.matches(this.callbackContext))},p.prototype.hasAnyCallback=function(){return null!==this.callbackContext},p}(),v2=function(){function p(d,g){this.eventType=d,this.callbackContext=g}return p.prototype.respondsTo=function(d){var g="children_added"===d?"child_added":d;return this.eventType===("children_removed"===g?"child_removed":g)},p.prototype.createCancelEvent=function(d,g){return this.callbackContext.hasCancelCallback?new a8(this,d,g):null},p.prototype.createEvent=function(d,g){(0,L.hu)(null!=d.childName,"Child events should have a childName.");var b=Tr(new et(g._repo,g._path),d.childName),A=g._queryParams.getIndex();return new po(d.type,this,new Ji(d.snapshotNode,b,A),d.prevName)},p.prototype.getEventRunner=function(d){var g=this;return"cancel"===d.getEventType()?function(){return g.callbackContext.onCancel(d.error)}:function(){return g.callbackContext.onValue(d.snapshot,d.prevName)}},p.prototype.matches=function(d){return d instanceof p&&this.eventType===d.eventType&&(!this.callbackContext||!d.callbackContext||this.callbackContext.matches(d.callbackContext))},p.prototype.hasAnyCallback=function(){return!!this.callbackContext},p}();function hi(p,d,g,b,A){var x;if("object"==typeof b&&(x=void 0,A=b),"function"==typeof b&&(x=b),A&&A.onlyOnce){var N=g,V=function(G,ue){uo(p._repo,p,Z),N(G,ue)};V.userCallback=g.userCallback,V.context=g.context,g=V}var P=new s8(g,x||void 0),Z="value"===d?new Xi(P):new v2(d,P);return function(p,d,g){var b;b=".info"===D1(d._path)?Qs(p.infoSyncTree_,d,g):Qs(p.serverSyncTree_,d,g),Q3(p.eventQueue_,d._path,b)}(p._repo,p,Z),function(){return uo(p._repo,p,Z)}}function w4(p,d,g,b){return hi(p,"value",d,g,b)}function di(p,d,g,b){return hi(p,"child_added",d,g,b)}function Yt(p,d,g,b){return hi(p,"child_changed",d,g,b)}function pi(p,d,g,b){return hi(p,"child_moved",d,g,b)}function vo(p,d,g,b){return hi(p,"child_removed",d,g,b)}function u8(p,d,g){var b=null,A=g?new s8(g):null;"value"===d?b=new Xi(A):d&&(b=new v2(d,A)),uo(p._repo,p,b)}var en=function(){},H2=function(p){function d(g,b){var A=p.call(this)||this;return A._value=g,A._key=b,A}return(0,te.ZT)(d,p),d.prototype._apply=function(g){Rn("endAt",this._value,g._path,!0);var b=L3(g._queryParams,this._value,this._key);if(Yi(b),tr(b),g._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new m2(g._repo,g._path,b,g._orderByCalled)},d}(en);function f8(p,d){return Xn("endAt","key",d,!0),new H2(p,d)}var i0=function(p){function d(g,b){var A=p.call(this)||this;return A._value=g,A._key=b,A}return(0,te.ZT)(d,p),d.prototype._apply=function(g){Rn("endBefore",this._value,g._path,!1);var b=function(p,d,g){var A;return p.index_===Yn?("string"==typeof d&&(d=e4(d)),A=L3(p,d,g)):A=L3(p,d,null==g?fe:e4(g)),A.endBeforeSet_=!0,A}(g._queryParams,this._value,this._key);if(Yi(b),tr(b),g._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new m2(g._repo,g._path,b,g._orderByCalled)},d}(en);function go(p,d){return Xn("endBefore","key",d,!0),new i0(p,d)}var e3=function(p){function d(g,b){var A=p.call(this)||this;return A._value=g,A._key=b,A}return(0,te.ZT)(d,p),d.prototype._apply=function(g){Rn("startAt",this._value,g._path,!0);var b=D3(g._queryParams,this._value,this._key);if(Yi(b),tr(b),g._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new m2(g._repo,g._path,b,g._orderByCalled)},d}(en);function G5(p,d){return void 0===p&&(p=null),Xn("startAt","key",d,!0),new e3(p,d)}var W5=function(p){function d(g,b){var A=p.call(this)||this;return A._value=g,A._key=b,A}return(0,te.ZT)(d,p),d.prototype._apply=function(g){Rn("startAfter",this._value,g._path,!1);var b=function(p,d,g){var b;return p.index_===Yn?("string"==typeof d&&(d=T3(d)),b=D3(p,d,g)):b=D3(p,d,null==g?De:T3(g)),b.startAfterSet_=!0,b}(g._queryParams,this._value,this._key);if(Yi(b),tr(b),g._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new m2(g._repo,g._path,b,g._orderByCalled)},d}(en);function $5(p,d){return Xn("startAfter","key",d,!0),new W5(p,d)}var h8=function(p){function d(g){var b=p.call(this)||this;return b._limit=g,b}return(0,te.ZT)(d,p),d.prototype._apply=function(g){if(g._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new m2(g._repo,g._path,function(p,d){var g=p.copy();return g.limitSet_=!0,g.limit_=d,g.viewFrom_="l",g}(g._queryParams,this._limit),g._orderByCalled)},d}(en);function t3(p){if("number"!=typeof p||Math.floor(p)!==p||p<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new h8(p)}var o0=function(p){function d(g){var b=p.call(this)||this;return b._limit=g,b}return(0,te.ZT)(d,p),d.prototype._apply=function(g){if(g._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new m2(g._repo,g._path,function(p,d){var g=p.copy();return g.limitSet_=!0,g.limit_=d,g.viewFrom_="r",g}(g._queryParams,this._limit),g._orderByCalled)},d}(en);function d8(p){if("number"!=typeof p||Math.floor(p)!==p||p<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new o0(p)}var yo=function(p){function d(g){var b=p.call(this)||this;return b._path=g,b}return(0,te.ZT)(d,p),d.prototype._apply=function(g){C4(g,"orderByChild");var b=new I1(this._path);if(V1(b))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var A=new ki(b),x=N2(g._queryParams,A);return tr(x),new m2(g._repo,g._path,x,!0)},d}(en);function a0(p){if("$key"===p)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===p)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===p)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return T1("orderByChild","path",p,!1),new yo(p)}var mi=function(p){function d(){return null!==p&&p.apply(this,arguments)||this}return(0,te.ZT)(d,p),d.prototype._apply=function(g){C4(g,"orderByKey");var b=N2(g._queryParams,Yn);return tr(b),new m2(g._repo,g._path,b,!0)},d}(en);function p8(){return new mi}var Q5=function(p){function d(){return null!==p&&p.apply(this,arguments)||this}return(0,te.ZT)(d,p),d.prototype._apply=function(g){C4(g,"orderByPriority");var b=N2(g._queryParams,lt);return tr(b),new m2(g._repo,g._path,b,!0)},d}(en);function n3(){return new Q5}var Y5=function(p){function d(){return null!==p&&p.apply(this,arguments)||this}return(0,te.ZT)(d,p),d.prototype._apply=function(g){C4(g,"orderByValue");var b=N2(g._queryParams,S3);return tr(b),new m2(g._repo,g._path,b,!0)},d}(en);function J5(){return new Y5}var K5=function(p){function d(g,b){var A=p.call(this)||this;return A._value=g,A._key=b,A}return(0,te.ZT)(d,p),d.prototype._apply=function(g){if(Rn("equalTo",this._value,g._path,!1),g._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(g._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new H2(this._value,this._key)._apply(new e3(this._value,this._key)._apply(g))},d}(en);function s0(p,d){return Xn("equalTo","key",d,!0),new K5(p,d)}function kn(p){for(var d,g,b=[],A=1;A<arguments.length;A++)b[A-1]=arguments[A];var x=(0,L.m9)(p);try{for(var N=(0,te.XA)(b),V=N.next();!V.done;V=N.next()){var P=V.value;x=P._apply(x)}}catch(Z){d={error:Z}}finally{try{V&&!V.done&&(g=N.return)&&g.call(N)}finally{if(d)throw d.error}}return x}(function(p){(0,L.hu)(!at,"__referenceConstructor has already been defined"),at=p})(et),function(p){(0,L.hu)(!J2,"__referenceConstructor has already been defined"),J2=p}(et);var a2={},c0=!1;function r6(p,d,g,b,A){var x=b||p.options.databaseURL;void 0===x&&(p.options.projectId||G1("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),t1("Using default host for project ",p.options.projectId),x=p.options.projectId+"-default-rtdb.firebaseio.com");var P,N=e6(x,A),V=N.repoInfo,Z=void 0;"undefined"!=typeof process&&(Z=process.env.FIREBASE_DATABASE_EMULATOR_HOST),Z?(P=!0,V=(N=e6(x="http://"+Z+"?ns="+V.namespace,A)).repoInfo):P=!N.repoInfo.secure;var G=A&&P?new L1(L1.OWNER):new Z1(p.name,p.options,d);m4("Invalid Firebase Database URL",N),V1(N.path)||G1("Database URL must point to the root of a Firebase Database (not including a child path).");var ue=function(p,d,g,b){var A=a2[d.name];A||(a2[d.name]=A={});var x=A[p.toURLString()];return x&&G1("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),x=new Y3(p,c0,g,b),A[p.toURLString()]=x,x}(V,p,G,new Ti(p.name,g));return new g8(ue,p)}var g8=function(){function p(d,g){this._repoInternal=d,this.app=g,this.type="database",this._instanceStarted=!1}return Object.defineProperty(p.prototype,"_repo",{get:function(){return this._instanceStarted||(function(p,d,g){if(p.stats_=it(p.repoInfo_),p.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)p.server_=new Fu(p.repoInfo_,function(b,A,x,N){g4(p,b,A,x,N)},p.authTokenProvider_,p.appCheckProvider_),setTimeout(function(){return Xs(p,!0)},0);else{if(null!=g){if("object"!=typeof g)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.Pz)(g)}catch(b){throw new Error("Invalid authOverride provided: "+b)}}p.persistentConnection_=new Li(p.repoInfo_,d,function(b,A,x,N){g4(p,b,A,x,N)},function(b){Xs(p,b)},function(b){!function(p,d){c1(d,function(g,b){e0(p,g,b)})}(p,b)},p.authTokenProvider_,p.appCheckProvider_,g),p.server_=p.persistentConnection_}p.authTokenProvider_.addTokenChangeListener(function(b){p.server_.refreshAuthToken(b)}),p.appCheckProvider_.addTokenChangeListener(function(b){p.server_.refreshAppCheckToken(b.token)}),p.statsReporter_=function(p,d){var g=p.toString();return G2[g]||(G2[g]=d()),G2[g]}(p.repoInfo_,function(){return new ks(p.stats_,p.server_)}),p.infoData_=new M5,p.infoSyncTree_=new Bi({startListening:function(b,A,x,N){var V=[],P=p.infoData_.getNode(b._path);return P.isEmpty()||(V=wr(p.infoSyncTree_,b._path,P),setTimeout(function(){N("ok")},0)),V},stopListening:function(){}}),e0(p,"connected",!1),p.serverSyncTree_=new Bi({startListening:function(b,A,x,N){return p.server_.listen(b,x,A,function(V,P){var Z=N(V,P);Ft(p.eventQueue_,b._path,Z)}),[]},stopListening:function(b,A){p.server_.unlisten(b,A)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new et(this._repo,Ye())),this._rootInternal},enumerable:!1,configurable:!0}),p.prototype._delete=function(){return null!==this._rootInternal&&(function(p,d){var g=a2[d];(!g||g[p.key]!==p)&&G1("Database "+d+"("+p.repoInfo_+") has already been deleted."),n8(p),delete g[p.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},p.prototype._checkNotDeleted=function(d){null===this._rootInternal&&G1("Cannot call "+d+" on a deleted database.")},p}();function e7(p){(p=(0,L.m9)(p))._checkNotDeleted("goOffline"),n8(p._repo)}function i3(p){(p=(0,L.m9)(p))._checkNotDeleted("goOnline"),function(p){p.persistentConnection_&&p.persistentConnection_.resume(io)}(p._repo)}var nr={".sv":"timestamp"},y8=function(){function p(d,g){this.committed=d,this.snapshot=g}return p.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},p}();function ef(p,d,g){var b;if(p=(0,L.m9)(p),Vn("Reference.transaction",p._path),".length"===p.key||".keys"===p.key)throw"Reference.transaction failed: "+p.key+" is a read-only object.";var A=null===(b=null==g?void 0:g.applyLocally)||void 0===b||b,x=new L.BH,V=w4(p,function(){});return function(p,d,g,b,A,x){xr(p,"transaction on "+d);var N={path:d,update:g,onComplete:b,status:null,order:ze(),applyLocally:x,retryCount:0,unwatcher:A,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},V=X2(p,d,void 0);N.currentInputSnapshot=V;var P=N.update(V.val());if(void 0===P)N.unwatcher(),N.currentOutputSnapshotRaw=null,N.currentOutputSnapshotResolved=null,N.onComplete&&N.onComplete(null,!1,N.currentInputSnapshot);else{Wi("transaction failed: Data returned ",P,N.path),N.status=0;var Z=eo(p.transactionQueueTree_,d),G=X1(Z)||[];G.push(N),W3(Z,G);var ue=void 0;"object"==typeof P&&null!==P&&(0,L.r3)(P,".priority")?(ue=(0,L.DV)(P,".priority"),(0,L.hu)(Ar(ue),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):ue=(j3(p.serverSyncTree_,d)||y1.EMPTY_NODE).getPriority().val();var ke=ui(p),Fe=At(P,ue),p1=Gi(Fe,V,ke);N.currentOutputSnapshotRaw=Fe,N.currentOutputSnapshotResolved=p1,N.currentWriteId=co(p);var o1=B3(p.serverSyncTree_,d,p1,N.currentWriteId,N.applyLocally);Ft(p.eventQueue_,d,o1),er(p,p.transactionQueueTree_)}}(p._repo,p._path,d,function(P,Z,G){var ue=null;P?x.reject(P):(ue=new Ji(G,new et(p._repo,p._path),lt),x.resolve(new y8(Z,ue)))},V,A),x.promise}var rr=function(){function p(d){this._delegate=d}return p.prototype.cancel=function(d){(0,L.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,L.Wj)("OnDisconnect.cancel","onComplete",d,!0);var g=this._delegate.cancel();return d&&g.then(function(){return d(null)},function(b){return d(b)}),g},p.prototype.remove=function(d){(0,L.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,L.Wj)("OnDisconnect.remove","onComplete",d,!0);var g=this._delegate.remove();return d&&g.then(function(){return d(null)},function(b){return d(b)}),g},p.prototype.set=function(d,g){(0,L.Dv)("OnDisconnect.set",1,2,arguments.length),(0,L.Wj)("OnDisconnect.set","onComplete",g,!0);var b=this._delegate.set(d);return g&&b.then(function(){return g(null)},function(A){return g(A)}),b},p.prototype.setWithPriority=function(d,g,b){(0,L.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.Wj)("OnDisconnect.setWithPriority","onComplete",b,!0);var A=this._delegate.setWithPriority(d,g);return b&&A.then(function(){return b(null)},function(x){return b(x)}),A},p.prototype.update=function(d,g){if((0,L.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(d)){for(var b={},A=0;A<d.length;++A)b[""+A]=d[A];d=b,rt("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.Wj)("OnDisconnect.update","onComplete",g,!0);var x=this._delegate.update(d);return g&&x.then(function(){return g(null)},function(N){return g(N)}),x},p}(),l0=function(){function p(d,g){this.committed=d,this.snapshot=g}return p.prototype.toJSON=function(){return(0,L.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},p}(),A4=function(){function p(d,g){this._database=d,this._delegate=g}return p.prototype.val=function(){return(0,L.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},p.prototype.exportVal=function(){return(0,L.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},p.prototype.toJSON=function(){return(0,L.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},p.prototype.exists=function(){return(0,L.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},p.prototype.child=function(d){return(0,L.Dv)("DataSnapshot.child",0,1,arguments.length),d=String(d),T1("DataSnapshot.child","path",d,!1),new p(this._database,this._delegate.child(d))},p.prototype.hasChild=function(d){return(0,L.Dv)("DataSnapshot.hasChild",1,1,arguments.length),T1("DataSnapshot.hasChild","path",d,!1),this._delegate.hasChild(d)},p.prototype.getPriority=function(){return(0,L.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},p.prototype.forEach=function(d){var g=this;return(0,L.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,L.Wj)("DataSnapshot.forEach","action",d,!1),this._delegate.forEach(function(b){return d(new p(g._database,b))})},p.prototype.hasChildren=function(){return(0,L.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(p.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),p.prototype.numChildren=function(){return(0,L.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},p.prototype.getRef=function(){return(0,L.Dv)("DataSnapshot.ref",0,0,arguments.length),new E4(this._database,this._delegate.ref)},Object.defineProperty(p.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),p}(),_8=function(){function p(d,g){this.database=d,this._delegate=g}return p.prototype.on=function(d,g,b,A){var N,x=this;(0,L.Dv)("Query.on",2,4,arguments.length),(0,L.Wj)("Query.on","callback",g,!1);var V=p.getCancelAndContextArgs_("Query.on",b,A),P=function(G,ue){g.call(V.context,new A4(x.database,G),ue)};P.userCallback=g,P.context=V.context;var Z=null===(N=V.cancel)||void 0===N?void 0:N.bind(V.context);switch(d){case"value":return w4(this._delegate,P,Z),g;case"child_added":return di(this._delegate,P,Z),g;case"child_removed":return vo(this._delegate,P,Z),g;case"child_changed":return Yt(this._delegate,P,Z),g;case"child_moved":return pi(this._delegate,P,Z),g;default:throw new Error((0,L.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},p.prototype.off=function(d,g,b){if((0,L.Dv)("Query.off",0,3,arguments.length),ro("Query.off",d,!0),(0,L.Wj)("Query.off","callback",g,!0),(0,L.lb)("Query.off","context",b,!0),g){var A=function(){};A.userCallback=g,A.context=b,u8(this._delegate,d,A)}else u8(this._delegate,d)},p.prototype.get=function(){var d=this;return Ju(this._delegate).then(function(g){return new A4(d.database,g)})},p.prototype.once=function(d,g,b,A){var x=this;(0,L.Dv)("Query.once",1,4,arguments.length),(0,L.Wj)("Query.once","callback",g,!0);var N=p.getCancelAndContextArgs_("Query.once",b,A),V=new L.BH,P=function(G,ue){var we=new A4(x.database,G);g&&g.call(N.context,we,ue),V.resolve(we)};P.userCallback=g,P.context=N.context;var Z=function(G){N.cancel&&N.cancel.call(N.context,G),V.reject(G)};switch(d){case"value":w4(this._delegate,P,Z,{onlyOnce:!0});break;case"child_added":di(this._delegate,P,Z,{onlyOnce:!0});break;case"child_removed":vo(this._delegate,P,Z,{onlyOnce:!0});break;case"child_changed":Yt(this._delegate,P,Z,{onlyOnce:!0});break;case"child_moved":pi(this._delegate,P,Z,{onlyOnce:!0});break;default:throw new Error((0,L.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return V.promise},p.prototype.limitToFirst=function(d){return(0,L.Dv)("Query.limitToFirst",1,1,arguments.length),new p(this.database,kn(this._delegate,t3(d)))},p.prototype.limitToLast=function(d){return(0,L.Dv)("Query.limitToLast",1,1,arguments.length),new p(this.database,kn(this._delegate,d8(d)))},p.prototype.orderByChild=function(d){return(0,L.Dv)("Query.orderByChild",1,1,arguments.length),new p(this.database,kn(this._delegate,a0(d)))},p.prototype.orderByKey=function(){return(0,L.Dv)("Query.orderByKey",0,0,arguments.length),new p(this.database,kn(this._delegate,p8()))},p.prototype.orderByPriority=function(){return(0,L.Dv)("Query.orderByPriority",0,0,arguments.length),new p(this.database,kn(this._delegate,n3()))},p.prototype.orderByValue=function(){return(0,L.Dv)("Query.orderByValue",0,0,arguments.length),new p(this.database,kn(this._delegate,J5()))},p.prototype.startAt=function(d,g){return void 0===d&&(d=null),(0,L.Dv)("Query.startAt",0,2,arguments.length),new p(this.database,kn(this._delegate,G5(d,g)))},p.prototype.startAfter=function(d,g){return void 0===d&&(d=null),(0,L.Dv)("Query.startAfter",0,2,arguments.length),new p(this.database,kn(this._delegate,$5(d,g)))},p.prototype.endAt=function(d,g){return void 0===d&&(d=null),(0,L.Dv)("Query.endAt",0,2,arguments.length),new p(this.database,kn(this._delegate,f8(d,g)))},p.prototype.endBefore=function(d,g){return void 0===d&&(d=null),(0,L.Dv)("Query.endBefore",0,2,arguments.length),new p(this.database,kn(this._delegate,go(d,g)))},p.prototype.equalTo=function(d,g){return(0,L.Dv)("Query.equalTo",1,2,arguments.length),new p(this.database,kn(this._delegate,s0(d,g)))},p.prototype.toString=function(){return(0,L.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},p.prototype.toJSON=function(){return(0,L.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},p.prototype.isEqual=function(d){if((0,L.Dv)("Query.isEqual",1,1,arguments.length),!(d instanceof p)){var g="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(g)}return this._delegate.isEqual(d._delegate)},p.getCancelAndContextArgs_=function(d,g,b){var A={cancel:void 0,context:void 0};if(g&&b)A.cancel=g,(0,L.Wj)(d,"cancel",A.cancel,!0),A.context=b,(0,L.lb)(d,"context",A.context,!0);else if(g)if("object"==typeof g&&null!==g)A.context=g;else{if("function"!=typeof g)throw new Error((0,L.gK)(d,"cancelOrContext")+" must either be a cancel callback or a context object.");A.cancel=g}return A},Object.defineProperty(p.prototype,"ref",{get:function(){return new E4(this.database,new et(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),p}(),E4=function(p){function d(g,b){var A=p.call(this,g,new m2(b._repo,b._path,new Rs,!1))||this;return A.database=g,A._delegate=b,A}return(0,te.ZT)(d,p),d.prototype.getKey=function(){return(0,L.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},d.prototype.child=function(g){return(0,L.Dv)("Reference.child",1,1,arguments.length),"number"==typeof g&&(g=String(g)),new d(this.database,Tr(this._delegate,g))},d.prototype.getParent=function(){(0,L.Dv)("Reference.parent",0,0,arguments.length);var g=this._delegate.parent;return g?new d(this.database,g):null},d.prototype.getRoot=function(){return(0,L.Dv)("Reference.root",0,0,arguments.length),new d(this.database,this._delegate.root)},d.prototype.set=function(g,b){(0,L.Dv)("Reference.set",1,2,arguments.length),(0,L.Wj)("Reference.set","onComplete",b,!0);var A=t6(this._delegate,g);return b&&A.then(function(){return b(null)},function(x){return b(x)}),A},d.prototype.update=function(g,b){if((0,L.Dv)("Reference.update",1,2,arguments.length),Array.isArray(g)){for(var A={},x=0;x<g.length;++x)A[""+x]=g[x];g=A,rt("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Vn("Reference.update",this._delegate._path),(0,L.Wj)("Reference.update","onComplete",b,!0);var N=Ki(this._delegate,g);return b&&N.then(function(){return b(null)},function(V){return b(V)}),N},d.prototype.setWithPriority=function(g,b,A){(0,L.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,L.Wj)("Reference.setWithPriority","onComplete",A,!0);var x=q5(this._delegate,g,b);return A&&x.then(function(){return A(null)},function(N){return A(N)}),x},d.prototype.remove=function(g){(0,L.Dv)("Reference.remove",0,1,arguments.length),(0,L.Wj)("Reference.remove","onComplete",g,!0);var b=j5(this._delegate);return g&&b.then(function(){return g(null)},function(A){return g(A)}),b},d.prototype.transaction=function(g,b,A){var x=this;(0,L.Dv)("Reference.transaction",1,3,arguments.length),(0,L.Wj)("Reference.transaction","transactionUpdate",g,!1),(0,L.Wj)("Reference.transaction","onComplete",b,!0),H5("Reference.transaction","applyLocally",A,!0);var N=ef(this._delegate,g,{applyLocally:A}).then(function(V){return new l0(V.committed,new A4(x.database,V.snapshot))});return b&&N.then(function(V){return b(null,V.committed,V.snapshot)},function(V){return b(V,!1,null)}),N},d.prototype.setPriority=function(g,b){(0,L.Dv)("Reference.setPriority",1,2,arguments.length),(0,L.Wj)("Reference.setPriority","onComplete",b,!0);var A=M4(this._delegate,g);return b&&A.then(function(){return b(null)},function(x){return b(x)}),A},d.prototype.push=function(g,b){var A=this;(0,L.Dv)("Reference.push",0,2,arguments.length),(0,L.Wj)("Reference.push","onComplete",b,!0);var x=l8(this._delegate,g),N=x.then(function(P){return new d(A.database,P)});b&&N.then(function(){return b(null)},function(P){return b(P)});var V=new d(this.database,x);return V.then=N.then.bind(N),V.catch=N.catch.bind(N,void 0),V},d.prototype.onDisconnect=function(){return Vn("Reference.onDisconnect",this._delegate._path),new rr(new c8(this._delegate._repo,this._delegate._path))},Object.defineProperty(d.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),d}(_8),z4=function(){function p(d,g){var b=this;this._delegate=d,this.app=g,this.INTERNAL={delete:function(){return b._delegate._delete()}}}return p.prototype.useEmulator=function(d,g,b){void 0===b&&(b={}),function(p,d,g,b){void 0===b&&(b={}),(p=(0,L.m9)(p))._checkNotDeleted("useEmulator"),p._instanceStarted&&G1("Cannot call useEmulator() after instance has already been initialized.");var A=p._repoInternal,x=void 0;if(A.repoInfo_.nodeAdmin)b.mockUserToken&&G1('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),x=new L1(L1.OWNER);else if(b.mockUserToken){var N="string"==typeof b.mockUserToken?b.mockUserToken:(0,L.Sg)(b.mockUserToken,p.app.options.projectId);x=new L1(N)}!function(p,d,g,b){p.repoInfo_=new xt(d+":"+g,!1,p.repoInfo_.namespace,p.repoInfo_.webSocketOnly,p.repoInfo_.nodeAdmin,p.repoInfo_.persistenceKey,p.repoInfo_.includeNamespaceInQueryParams),b&&(p.authTokenProvider_=b)}(A,d,g,x)}(this._delegate,d,g,b)},p.prototype.ref=function(d){if((0,L.Dv)("database.ref",0,1,arguments.length),d instanceof E4){var g=mo(this._delegate,d.toString());return new E4(this,g)}return g=r0(this._delegate,d),new E4(this,g)},p.prototype.refFromURL=function(d){var g="database.refFromURL";(0,L.Dv)(g,1,1,arguments.length);var b=mo(this._delegate,d);return new E4(this,b)},p.prototype.goOffline=function(){return(0,L.Dv)("database.goOffline",0,0,arguments.length),e7(this._delegate)},p.prototype.goOnline=function(){return(0,L.Dv)("database.goOnline",0,0,arguments.length),i3(this._delegate)},p.ServerValue={TIMESTAMP:nr,increment:function(d){return function(p){return{".sv":{increment:p}}}(d)}},p}(),n7=Object.freeze({__proto__:null,forceLongPolling:function(){i2.forceDisallow(),T6.forceAllow()},forceWebSockets:function(){T6.forceDisallow()},isWebSocketsAvailable:function(){return i2.isAvailable()},setSecurityDebugCallback:function(p,d){p._delegate._repo.persistentConnection_.securityDebugCallback_=d},stats:function(p,d){!function(p,d){if(void 0===d&&(d=!1),"undefined"!=typeof console){var g;d?(p.statsListener_||(p.statsListener_=new gr(p.stats_)),g=p.statsListener_.get()):g=p.stats_.get();var b=Object.keys(g).reduce(function(A,x){return Math.max(x.length,A)},0);c1(g,function(A,x){for(var N=A,V=A.length;V<b+2;V++)N+=" ";console.log(N+x)})}}(p._delegate._repo,d)},statsIncrementCounter:function(p,d){!function(p,d){p.stats_.incrementCounter(d),function(p,d){p.statsToReport_[d]=!0}(p.statsReporter_,d)}(p._delegate._repo,d)},dataUpdateCount:function(p){return p._delegate._repo.dataUpdateCount},interceptServerData:function(p,d){return function(p,d){p.interceptServerDataCallback_=d}(p._delegate._repo,d)},initStandalone:function(p){var d=p.app,g=p.url,A=p.customAuthImpl,x=p.namespace,N=p.nodeAdmin,V=void 0!==N&&N;re(p.version);var P=new ve.zt("auth-internal",new ve.H0("database-standalone"));return P.setComponent(new ve.wA("auth-internal",function(){return A},"PRIVATE")),{instance:new z4(r6(d,P,void 0,g,V),d),namespace:x}}}),f0=Li;Li.prototype.simpleListen=function(p,d){this.sendRequest("q",{p},d)},Li.prototype.echo=function(p,d){this.sendRequest("echo",{d:p},d)};var s7=Object.freeze({__proto__:null,DataConnection:f0,RealTimeConnection:Yr,hijackHash:function(p){var d=Li.prototype.put;return Li.prototype.put=function(g,b,A,x){void 0!==x&&(x=p()),d.call(this,g,b,A,x)},function(){Li.prototype.put=d}},ConnectionTarget:xt,queryIdentifier:function(p){return p._delegate._queryIdentifier},forceRestClient:function(p){!function(p){c0=p}(p)}}),Mo=z4.ServerValue;!function(p){re(p.SDK_VERSION);var d=p.INTERNAL.registerComponent(new ve.wA("database",function(g,b){var A=b.instanceIdentifier,x=g.getProvider("app").getImmediate(),N=g.getProvider("auth-internal"),V=g.getProvider("app-check-internal");return new z4(r6(x,N,V,A),x)},"PUBLIC").setServiceProps({Reference:E4,Query:_8,Database:z4,DataSnapshot:A4,enableLogging:g1,INTERNAL:n7,ServerValue:Mo,TEST_ACCESS:s7}).setMultipleInstances(!0));p.registerVersion("@firebase/database","0.11.0"),(0,L.Yr)()&&(Ke.exports=d)}(l.Z)},300:(Ke,Ne,B)=>{"use strict";function l(){for(var q=0,K=0,ie=arguments.length;K<ie;K++)q+=arguments[K].length;var be=Array(q),ze=0;for(K=0;K<ie;K++)for(var Be=arguments[K],Ie=0,Se=Be.length;Ie<Se;Ie++,ze++)be[ze]=Be[Ie];return be}B.d(Ne,{in:()=>te,Yd:()=>re,Ub:()=>j,Am:()=>ee});var ve,L=[],te=(()=>{return(q=te||(te={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",te;var q})(),Me={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ne=te.INFO,Ee=((ve={})[te.DEBUG]="log",ve[te.VERBOSE]="log",ve[te.INFO]="info",ve[te.WARN]="warn",ve[te.ERROR]="error",ve),oe=function(q,K){for(var ie=[],be=2;be<arguments.length;be++)ie[be-2]=arguments[be];if(!(K<q.logLevel)){var ze=(new Date).toISOString(),Be=Ee[K];if(!Be)throw new Error("Attempted to log a message with an invalid logType (value: "+K+")");console[Be].apply(console,l(["["+ze+"]  "+q.name+":"],ie))}},re=function(){function q(K){this.name=K,this._logLevel=ne,this._logHandler=oe,this._userLogHandler=null,L.push(this)}return Object.defineProperty(q.prototype,"logLevel",{get:function(){return this._logLevel},set:function(K){if(!(K in te))throw new TypeError('Invalid value "'+K+'" assigned to `logLevel`');this._logLevel=K},enumerable:!1,configurable:!0}),q.prototype.setLogLevel=function(K){this._logLevel="string"==typeof K?Me[K]:K},Object.defineProperty(q.prototype,"logHandler",{get:function(){return this._logHandler},set:function(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(K){this._userLogHandler=K},enumerable:!1,configurable:!0}),q.prototype.debug=function(){for(var K=[],ie=0;ie<arguments.length;ie++)K[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,l([this,te.DEBUG],K)),this._logHandler.apply(this,l([this,te.DEBUG],K))},q.prototype.log=function(){for(var K=[],ie=0;ie<arguments.length;ie++)K[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,l([this,te.VERBOSE],K)),this._logHandler.apply(this,l([this,te.VERBOSE],K))},q.prototype.info=function(){for(var K=[],ie=0;ie<arguments.length;ie++)K[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,l([this,te.INFO],K)),this._logHandler.apply(this,l([this,te.INFO],K))},q.prototype.warn=function(){for(var K=[],ie=0;ie<arguments.length;ie++)K[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,l([this,te.WARN],K)),this._logHandler.apply(this,l([this,te.WARN],K))},q.prototype.error=function(){for(var K=[],ie=0;ie<arguments.length;ie++)K[ie]=arguments[ie];this._userLogHandler&&this._userLogHandler.apply(this,l([this,te.ERROR],K)),this._logHandler.apply(this,l([this,te.ERROR],K))},q}();function j(q){L.forEach(function(K){K.setLogLevel(q)})}function ee(q,K){for(var ie=function(Ie){var Se=null;K&&K.level&&(Se=Me[K.level]),Ie.userLogHandler=null===q?null:function(Xe,g1){for(var t1=[],Q1=2;Q1<arguments.length;Q1++)t1[Q1-2]=arguments[Q1];var Ct=t1.map(function(G1){if(null==G1)return null;if("string"==typeof G1)return G1;if("number"==typeof G1||"boolean"==typeof G1)return G1.toString();if(G1 instanceof Error)return G1.message;try{return JSON.stringify(G1)}catch(rt){return null}}).filter(function(G1){return G1}).join(" ");g1>=(null!=Se?Se:Xe.logLevel)&&q({level:te[g1].toLowerCase(),message:Ct,args:t1,type:Xe.name})}},be=0,ze=L;be<ze.length;be++)ie(ze[be])}},4685:(Ke,Ne,B)=>{"use strict";B.d(Ne,{BH:()=>ie,LL:()=>s1,ZR:()=>pe,gQ:()=>n2,zI:()=>me,hu:()=>L,g5:()=>te,US:()=>Ee,h$:()=>oe,$s:()=>it,r3:()=>fn,Sg:()=>be,ne:()=>r2,p$:()=>ee,ZB:()=>q,gK:()=>b3,m9:()=>st,z$:()=>ze,GJ:()=>W1,jU:()=>Se,ru:()=>Xe,d:()=>t1,xb:()=>Kt,w1:()=>Q1,hl:()=>he,uI:()=>Be,UG:()=>Ie,Yr:()=>G1,b$:()=>g1,G6:()=>rt,Mn:()=>Ct,w9:()=>pt,cI:()=>n1,UI:()=>An,xO:()=>Ti,DV:()=>zt,ug:()=>Qe,dS:()=>xt,Pz:()=>c1,Dv:()=>H4,Wj:()=>Bt,lb:()=>Sa,eu:()=>de});var l=B(4762),L=function(Y,Q){if(!Y)throw te(Q)},te=function(Y){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Y)},Me=function(Y){for(var Q=[],se=0,_e=0;_e<Y.length;_e++){var ce=Y.charCodeAt(_e);ce<128?Q[se++]=ce:ce<2048?(Q[se++]=ce>>6|192,Q[se++]=63&ce|128):55296==(64512&ce)&&_e+1<Y.length&&56320==(64512&Y.charCodeAt(_e+1))?(ce=65536+((1023&ce)<<10)+(1023&Y.charCodeAt(++_e)),Q[se++]=ce>>18|240,Q[se++]=ce>>12&63|128,Q[se++]=ce>>6&63|128,Q[se++]=63&ce|128):(Q[se++]=ce>>12|224,Q[se++]=ce>>6&63|128,Q[se++]=63&ce|128)}return Q},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Y,Q){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var se=Q?this.byteToCharMapWebSafe_:this.byteToCharMap_,_e=[],ce=0;ce<Y.length;ce+=3){var Ze=Y[ce],a1=ce+1<Y.length,F1=a1?Y[ce+1]:0,ot=ce+2<Y.length,$1=ot?Y[ce+2]:0,x2=(15&F1)<<2|$1>>6,P4=63&$1;ot||(P4=64,a1||(x2=64)),_e.push(se[Ze>>2],se[(3&Ze)<<4|F1>>4],se[x2],se[P4])}return _e.join("")},encodeString:function(Y,Q){return this.HAS_NATIVE_SUPPORT&&!Q?btoa(Y):this.encodeByteArray(Me(Y),Q)},decodeString:function(Y,Q){return this.HAS_NATIVE_SUPPORT&&!Q?atob(Y):function(Y){for(var Q=[],se=0,_e=0;se<Y.length;){var ce=Y[se++];if(ce<128)Q[_e++]=String.fromCharCode(ce);else if(ce>191&&ce<224){var Ze=Y[se++];Q[_e++]=String.fromCharCode((31&ce)<<6|63&Ze)}else if(ce>239&&ce<365){var ot=((7&ce)<<18|(63&(Ze=Y[se++]))<<12|(63&(a1=Y[se++]))<<6|63&Y[se++])-65536;Q[_e++]=String.fromCharCode(55296+(ot>>10)),Q[_e++]=String.fromCharCode(56320+(1023&ot))}else{Ze=Y[se++];var a1=Y[se++];Q[_e++]=String.fromCharCode((15&ce)<<12|(63&Ze)<<6|63&a1)}}return Q.join("")}(this.decodeStringToByteArray(Y,Q))},decodeStringToByteArray:function(Y,Q){this.init_();for(var se=Q?this.charToByteMapWebSafe_:this.charToByteMap_,_e=[],ce=0;ce<Y.length;){var Ze=se[Y.charAt(ce++)],F1=ce<Y.length?se[Y.charAt(ce)]:0,$1=++ce<Y.length?se[Y.charAt(ce)]:64,z2=++ce<Y.length?se[Y.charAt(ce)]:64;if(++ce,null==Ze||null==F1||null==$1||null==z2)throw Error();_e.push(Ze<<2|F1>>4),64!==$1&&(_e.push(F1<<4&240|$1>>2),64!==z2&&_e.push($1<<6&192|z2))}return _e},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},oe=function(Y){var Q=Me(Y);return Ee.encodeByteArray(Q,!0)},re=function(Y){return oe(Y).replace(/\./g,"")},j=function(Y){try{return Ee.decodeString(Y,!0)}catch(Q){console.error("base64Decode failed: ",Q)}return null};function ee(Y){return q(void 0,Y)}function q(Y,Q){if(!(Q instanceof Object))return Q;switch(Q.constructor){case Date:return new Date(Q.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return Q}for(var _e in Q)!Q.hasOwnProperty(_e)||!K(_e)||(Y[_e]=q(Y[_e],Q[_e]));return Y}function K(Y){return"__proto__"!==Y}var ie=function(){function Y(){var Q=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(se,_e){Q.resolve=se,Q.reject=_e})}return Y.prototype.wrapCallback=function(Q){var se=this;return function(_e,ce){_e?se.reject(_e):se.resolve(ce),"function"==typeof Q&&(se.promise.catch(function(){}),1===Q.length?Q(_e):Q(_e,ce))}},Y}();function be(Y,Q){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var _e=Q||"demo-project",ce=Y.iat||0,Ze=Y.sub||Y.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a1=(0,l.pi)({iss:"https://securetoken.google.com/"+_e,aud:_e,iat:ce,exp:ce+3600,auth_time:ce,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[re(JSON.stringify({alg:"none",type:"JWT"})),re(JSON.stringify(a1)),""].join(".")}function ze(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ze())}function Ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Y){return!1}}function Se(){return"object"==typeof self&&self.self===self}function Xe(){var Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function g1(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function t1(){return ze().indexOf("Electron/")>=0}function Q1(){var Y=ze();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function Ct(){return ze().indexOf("MSAppHost/")>=0}function G1(){return!1}function rt(){return!Ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){return"indexedDB"in self&&null!=indexedDB}function de(){return new Promise(function(Y,Q){try{var se=!0,_e="validate-browser-context-for-indexeddb-analytics-module",ce=self.indexedDB.open(_e);ce.onsuccess=function(){ce.result.close(),se||self.indexedDB.deleteDatabase(_e),Y(!0)},ce.onupgradeneeded=function(){se=!1},ce.onerror=function(){var Ze;Q((null===(Ze=ce.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(Ze){Q(Ze)}})}function me(){return!(!navigator||!navigator.cookieEnabled)}var pe=function(Y){function Q(se,_e,ce){var Ze=Y.call(this,_e)||this;return Ze.code=se,Ze.customData=ce,Ze.name="FirebaseError",Object.setPrototypeOf(Ze,Q.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ze,s1.prototype.create),Ze}return(0,l.ZT)(Q,Y),Q}(Error),s1=function(){function Y(Q,se,_e){this.service=Q,this.serviceName=se,this.errors=_e}return Y.prototype.create=function(Q){for(var se=[],_e=1;_e<arguments.length;_e++)se[_e-1]=arguments[_e];var ce=se[0]||{},Ze=this.service+"/"+Q,a1=this.errors[Q],F1=a1?u1(a1,ce):"Error",ot=this.serviceName+": "+F1+" ("+Ze+").",$1=new pe(Ze,ot,ce);return $1},Y}();function u1(Y,Q){return Y.replace(gt,function(se,_e){var ce=Q[_e];return null!=ce?String(ce):"<"+_e+"?>"})}var gt=/\{\$([^}]+)}/g;function n1(Y){return JSON.parse(Y)}function c1(Y){return JSON.stringify(Y)}var je=function(Y){var Q={},se={},_e={},ce="";try{var Ze=Y.split(".");Q=n1(j(Ze[0])||""),se=n1(j(Ze[1])||""),ce=Ze[2],_e=se.d||{},delete se.d}catch(a1){}return{header:Q,claims:se,data:_e,signature:ce}},pt=function(Y){var se=je(Y).claims;return!!se&&"object"==typeof se&&se.hasOwnProperty("iat")},W1=function(Y){var Q=je(Y).claims;return"object"==typeof Q&&!0===Q.admin};function fn(Y,Q){return Object.prototype.hasOwnProperty.call(Y,Q)}function zt(Y,Q){if(Object.prototype.hasOwnProperty.call(Y,Q))return Y[Q]}function Kt(Y){for(var Q in Y)if(Object.prototype.hasOwnProperty.call(Y,Q))return!1;return!0}function An(Y,Q,se){var _e={};for(var ce in Y)Object.prototype.hasOwnProperty.call(Y,ce)&&(_e[ce]=Q.call(se,Y[ce],ce,Y));return _e}function Ti(Y){for(var Q=[],se=function(ot,$1){Array.isArray($1)?$1.forEach(function(u2){Q.push(encodeURIComponent(ot)+"="+encodeURIComponent(u2))}):Q.push(encodeURIComponent(ot)+"="+encodeURIComponent($1))},_e=0,ce=Object.entries(Y);_e<ce.length;_e++){var Ze=ce[_e];se(Ze[0],Ze[1])}return Q.length?"&"+Q.join("&"):""}var n2=function(){function Y(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var Q=1;Q<this.blockSize;++Q)this.pad_[Q]=0;this.reset()}return Y.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Y.prototype.compress_=function(Q,se){se||(se=0);var _e=this.W_;if("string"==typeof Q)for(var ce=0;ce<16;ce++)_e[ce]=Q.charCodeAt(se)<<24|Q.charCodeAt(se+1)<<16|Q.charCodeAt(se+2)<<8|Q.charCodeAt(se+3),se+=4;else for(ce=0;ce<16;ce++)_e[ce]=Q[se]<<24|Q[se+1]<<16|Q[se+2]<<8|Q[se+3],se+=4;for(ce=16;ce<80;ce++)_e[ce]=4294967295&((Ze=_e[ce-3]^_e[ce-8]^_e[ce-14]^_e[ce-16])<<1|Ze>>>31);var z2,x2,a1=this.chain_[0],F1=this.chain_[1],ot=this.chain_[2],$1=this.chain_[3],u2=this.chain_[4];for(ce=0;ce<80;ce++){ce<40?ce<20?(z2=$1^F1&(ot^$1),x2=1518500249):(z2=F1^ot^$1,x2=1859775393):ce<60?(z2=F1&ot|$1&(F1|ot),x2=2400959708):(z2=F1^ot^$1,x2=3395469782);var Ze=(a1<<5|a1>>>27)+z2+u2+x2+_e[ce]&4294967295;u2=$1,$1=ot,ot=4294967295&(F1<<30|F1>>>2),F1=a1,a1=Ze}this.chain_[0]=this.chain_[0]+a1&4294967295,this.chain_[1]=this.chain_[1]+F1&4294967295,this.chain_[2]=this.chain_[2]+ot&4294967295,this.chain_[3]=this.chain_[3]+$1&4294967295,this.chain_[4]=this.chain_[4]+u2&4294967295},Y.prototype.update=function(Q,se){if(null!=Q){void 0===se&&(se=Q.length);for(var _e=se-this.blockSize,ce=0,Ze=this.buf_,a1=this.inbuf_;ce<se;){if(0===a1)for(;ce<=_e;)this.compress_(Q,ce),ce+=this.blockSize;if("string"==typeof Q){for(;ce<se;)if(Ze[a1]=Q.charCodeAt(ce),++ce,++a1===this.blockSize){this.compress_(Ze),a1=0;break}}else for(;ce<se;)if(Ze[a1]=Q[ce],++ce,++a1===this.blockSize){this.compress_(Ze),a1=0;break}}this.inbuf_=a1,this.total_+=se}},Y.prototype.digest=function(){var Q=[],se=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var _e=this.blockSize-1;_e>=56;_e--)this.buf_[_e]=255&se,se/=256;this.compress_(this.buf_);var ce=0;for(_e=0;_e<5;_e++)for(var Ze=24;Ze>=0;Ze-=8)Q[ce]=this.chain_[_e]>>Ze&255,++ce;return Q},Y}();function r2(Y,Q){var se=new We(Y,Q);return se.subscribe.bind(se)}var We=function(){function Y(Q,se){var _e=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=se,this.task.then(function(){Q(_e)}).catch(function(ce){_e.error(ce)})}return Y.prototype.next=function(Q){this.forEachObserver(function(se){se.next(Q)})},Y.prototype.error=function(Q){this.forEachObserver(function(se){se.error(Q)}),this.close(Q)},Y.prototype.complete=function(){this.forEachObserver(function(Q){Q.complete()}),this.close()},Y.prototype.subscribe=function(Q,se,_e){var Ze,ce=this;if(void 0===Q&&void 0===se&&void 0===_e)throw new Error("Missing Observer.");void 0===(Ze=function(Y,Q){if("object"!=typeof Y||null===Y)return!1;for(var se=0,_e=["next","error","complete"];se<_e.length;se++){var ce=_e[se];if(ce in Y&&"function"==typeof Y[ce])return!0}return!1}(Q)?Q:{next:Q,error:se,complete:_e}).next&&(Ze.next=Mt),void 0===Ze.error&&(Ze.error=Mt),void 0===Ze.complete&&(Ze.complete=Mt);var a1=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{ce.finalError?Ze.error(ce.finalError):Ze.complete()}catch(F1){}}),this.observers.push(Ze),a1},Y.prototype.unsubscribeOne=function(Q){void 0===this.observers||void 0===this.observers[Q]||(delete this.observers[Q],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Y.prototype.forEachObserver=function(Q){if(!this.finalized)for(var se=0;se<this.observers.length;se++)this.sendOne(se,Q)},Y.prototype.sendOne=function(Q,se){var _e=this;this.task.then(function(){if(void 0!==_e.observers&&void 0!==_e.observers[Q])try{se(_e.observers[Q])}catch(ce){"undefined"!=typeof console&&console.error&&console.error(ce)}})},Y.prototype.close=function(Q){var se=this;this.finalized||(this.finalized=!0,void 0!==Q&&(this.finalError=Q),this.task.then(function(){se.observers=void 0,se.onNoObservers=void 0}))},Y}();function Mt(){}var H4=function(Y,Q,se,_e){var ce;if(_e<Q?ce="at least "+Q:_e>se&&(ce=0===se?"none":"no more than "+se),ce)throw new Error(Y+" failed: Was called with "+_e+(1===_e?" argument.":" arguments.")+" Expects "+ce+".")};function b3(Y,Q){return Y+" failed: "+Q+" argument "}function Bt(Y,Q,se,_e){if((!_e||se)&&"function"!=typeof se)throw new Error(b3(Y,Q)+"must be a valid function.")}function Sa(Y,Q,se,_e){if((!_e||se)&&("object"!=typeof se||null===se))throw new Error(b3(Y,Q)+"must be a valid context object.")}var xt=function(Y){for(var Q=[],se=0,_e=0;_e<Y.length;_e++){var ce=Y.charCodeAt(_e);if(ce>=55296&&ce<=56319){var Ze=ce-55296;_e++,L(_e<Y.length,"Surrogate pair missing trail surrogate."),ce=65536+(Ze<<10)+(Y.charCodeAt(_e)-56320)}ce<128?Q[se++]=ce:ce<2048?(Q[se++]=ce>>6|192,Q[se++]=63&ce|128):ce<65536?(Q[se++]=ce>>12|224,Q[se++]=ce>>6&63|128,Q[se++]=63&ce|128):(Q[se++]=ce>>18|240,Q[se++]=ce>>12&63|128,Q[se++]=ce>>6&63|128,Q[se++]=63&ce|128)}return Q},Qe=function(Y){for(var Q=0,se=0;se<Y.length;se++){var _e=Y.charCodeAt(se);_e<128?Q++:_e<2048?Q+=2:_e>=55296&&_e<=56319?(Q+=4,se++):Q+=3}return Q};function it(Y,Q,se){void 0===Q&&(Q=1e3),void 0===se&&(se=2);var _e=Q*Math.pow(se,Y),ce=Math.round(.5*_e*(Math.random()-.5)*2);return Math.min(144e5,_e+ce)}function st(Y){return Y&&Y._delegate?Y._delegate:Y}},2329:(Ke,Ne,B)=>{"use strict";B.d(Ne,{Z:()=>l.Z});var l=B(9759),L="8.10.0";l.Z.registerVersion("firebase",L,"app"),l.Z.SDK_VERSION=L},7574:(Ke,Ne,B)=>{"use strict";B.d(Ne,{y:()=>ee});var l=B(7393),L=B(9181),te=B(6490),ne=B(6554),Ee=B(4487);var j=B(2494);let ee=(()=>{class K{constructor(be){this._isScalar=!1,be&&(this._subscribe=be)}lift(be){const ze=new K;return ze.source=this,ze.operator=be,ze}subscribe(be,ze,Be){const{operator:Ie}=this,Se=function(K,ie,be){if(K){if(K instanceof l.L)return K;if(K[L.b])return K[L.b]()}return K||ie||be?new l.L(K,ie,be):new l.L(te.c)}(be,ze,Be);if(Se.add(Ie?Ie.call(Se,this.source):this.source||j.v.useDeprecatedSynchronousErrorHandling&&!Se.syncErrorThrowable?this._subscribe(Se):this._trySubscribe(Se)),j.v.useDeprecatedSynchronousErrorHandling&&Se.syncErrorThrowable&&(Se.syncErrorThrowable=!1,Se.syncErrorThrown))throw Se.syncErrorValue;return Se}_trySubscribe(be){try{return this._subscribe(be)}catch(ze){j.v.useDeprecatedSynchronousErrorHandling&&(be.syncErrorThrown=!0,be.syncErrorValue=ze),function(K){for(;K;){const{closed:ie,destination:be,isStopped:ze}=K;if(ie||ze)return!1;K=be&&be instanceof l.L?be:null}return!0}(be)?be.error(ze):console.warn(ze)}}forEach(be,ze){return new(ze=q(ze))((Be,Ie)=>{let Se;Se=this.subscribe(Xe=>{try{be(Xe)}catch(g1){Ie(g1),Se&&Se.unsubscribe()}},Ie,Be)})}_subscribe(be){const{source:ze}=this;return ze&&ze.subscribe(be)}[ne.L](){return this}pipe(...be){return 0===be.length?this:function(K){return 0===K.length?Ee.y:1===K.length?K[0]:function(be){return K.reduce((ze,Be)=>Be(ze),be)}}(be)(this)}toPromise(be){return new(be=q(be))((ze,Be)=>{let Ie;this.subscribe(Se=>Ie=Se,Se=>Be(Se),()=>ze(Ie))})}}return K.create=ie=>new K(ie),K})();function q(K){if(K||(K=j.v.Promise||Promise),!K)throw new Error("no Promise impl found");return K}},6490:(Ke,Ne,B)=>{"use strict";B.d(Ne,{c:()=>L});var l=B(2494),ve=B(4449);const L={closed:!0,next(te){},error(te){if(l.v.useDeprecatedSynchronousErrorHandling)throw te;(0,ve.z)(te)},complete(){}}},9765:(Ke,Ne,B)=>{"use strict";B.d(Ne,{Yc:()=>Ee,xQ:()=>oe});var l=B(7574),ve=B(7393),L=B(5319),te=B(7971),Me=B(8858),ne=B(9181);class Ee extends ve.L{constructor(ee){super(ee),this.destination=ee}}let oe=(()=>{class j extends l.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ne.b](){return new Ee(this)}lift(q){const K=new re(this,this);return K.operator=q,K}next(q){if(this.closed)throw new te.N;if(!this.isStopped){const{observers:K}=this,ie=K.length,be=K.slice();for(let ze=0;ze<ie;ze++)be[ze].next(q)}}error(q){if(this.closed)throw new te.N;this.hasError=!0,this.thrownError=q,this.isStopped=!0;const{observers:K}=this,ie=K.length,be=K.slice();for(let ze=0;ze<ie;ze++)be[ze].error(q);this.observers.length=0}complete(){if(this.closed)throw new te.N;this.isStopped=!0;const{observers:q}=this,K=q.length,ie=q.slice();for(let be=0;be<K;be++)ie[be].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(q){if(this.closed)throw new te.N;return super._trySubscribe(q)}_subscribe(q){if(this.closed)throw new te.N;return this.hasError?(q.error(this.thrownError),L.w.EMPTY):this.isStopped?(q.complete(),L.w.EMPTY):(this.observers.push(q),new Me.W(this,q))}asObservable(){const q=new l.y;return q.source=this,q}}return j.create=(ee,q)=>new re(ee,q),j})();class re extends oe{constructor(ee,q){super(),this.destination=ee,this.source=q}next(ee){const{destination:q}=this;q&&q.next&&q.next(ee)}error(ee){const{destination:q}=this;q&&q.error&&this.destination.error(ee)}complete(){const{destination:ee}=this;ee&&ee.complete&&this.destination.complete()}_subscribe(ee){const{source:q}=this;return q?this.source.subscribe(ee):L.w.EMPTY}}},8858:(Ke,Ne,B)=>{"use strict";B.d(Ne,{W:()=>ve});var l=B(5319);class ve extends l.w{constructor(te,Me){super(),this.subject=te,this.subscriber=Me,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const te=this.subject,Me=te.observers;if(this.subject=null,!Me||0===Me.length||te.isStopped||te.closed)return;const ne=Me.indexOf(this.subscriber);-1!==ne&&Me.splice(ne,1)}}},7393:(Ke,Ne,B)=>{"use strict";B.d(Ne,{L:()=>Ee});var l=B(9105),ve=B(6490),L=B(5319),te=B(9181),Me=B(2494),ne=B(4449);class Ee extends L.w{constructor(j,ee,q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ve.c;break;case 1:if(!j){this.destination=ve.c;break}if("object"==typeof j){j instanceof Ee?(this.syncErrorThrowable=j.syncErrorThrowable,this.destination=j,j.add(this)):(this.syncErrorThrowable=!0,this.destination=new oe(this,j));break}default:this.syncErrorThrowable=!0,this.destination=new oe(this,j,ee,q)}}[te.b](){return this}static create(j,ee,q){const K=new Ee(j,ee,q);return K.syncErrorThrowable=!1,K}next(j){this.isStopped||this._next(j)}error(j){this.isStopped||(this.isStopped=!0,this._error(j))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(j){this.destination.next(j)}_error(j){this.destination.error(j),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:j}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=j,this}}class oe extends Ee{constructor(j,ee,q,K){super(),this._parentSubscriber=j;let ie,be=this;(0,l.m)(ee)?ie=ee:ee&&(ie=ee.next,q=ee.error,K=ee.complete,ee!==ve.c&&(be=Object.create(ee),(0,l.m)(be.unsubscribe)&&this.add(be.unsubscribe.bind(be)),be.unsubscribe=this.unsubscribe.bind(this))),this._context=be,this._next=ie,this._error=q,this._complete=K}next(j){if(!this.isStopped&&this._next){const{_parentSubscriber:ee}=this;Me.v.useDeprecatedSynchronousErrorHandling&&ee.syncErrorThrowable?this.__tryOrSetError(ee,this._next,j)&&this.unsubscribe():this.__tryOrUnsub(this._next,j)}}error(j){if(!this.isStopped){const{_parentSubscriber:ee}=this,{useDeprecatedSynchronousErrorHandling:q}=Me.v;if(this._error)q&&ee.syncErrorThrowable?(this.__tryOrSetError(ee,this._error,j),this.unsubscribe()):(this.__tryOrUnsub(this._error,j),this.unsubscribe());else if(ee.syncErrorThrowable)q?(ee.syncErrorValue=j,ee.syncErrorThrown=!0):(0,ne.z)(j),this.unsubscribe();else{if(this.unsubscribe(),q)throw j;(0,ne.z)(j)}}}complete(){if(!this.isStopped){const{_parentSubscriber:j}=this;if(this._complete){const ee=()=>this._complete.call(this._context);Me.v.useDeprecatedSynchronousErrorHandling&&j.syncErrorThrowable?(this.__tryOrSetError(j,ee),this.unsubscribe()):(this.__tryOrUnsub(ee),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(j,ee){try{j.call(this._context,ee)}catch(q){if(this.unsubscribe(),Me.v.useDeprecatedSynchronousErrorHandling)throw q;(0,ne.z)(q)}}__tryOrSetError(j,ee,q){if(!Me.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ee.call(this._context,q)}catch(K){return Me.v.useDeprecatedSynchronousErrorHandling?(j.syncErrorValue=K,j.syncErrorThrown=!0,!0):((0,ne.z)(K),!0)}return!1}_unsubscribe(){const{_parentSubscriber:j}=this;this._context=null,this._parentSubscriber=null,j.unsubscribe()}}},5319:(Ke,Ne,B)=>{"use strict";B.d(Ne,{w:()=>ne});var l=B(9796),ve=B(1555),L=B(9105);const Me=(()=>{function oe(re){return Error.call(this),this.message=re?`${re.length} errors occurred during unsubscription:\n${re.map((j,ee)=>`${ee+1}) ${j.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=re,this}return oe.prototype=Object.create(Error.prototype),oe})();class ne{constructor(re){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,re&&(this._ctorUnsubscribe=!0,this._unsubscribe=re)}unsubscribe(){let re;if(this.closed)return;let{_parentOrParents:j,_ctorUnsubscribe:ee,_unsubscribe:q,_subscriptions:K}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,j instanceof ne)j.remove(this);else if(null!==j)for(let ie=0;ie<j.length;++ie)j[ie].remove(this);if((0,L.m)(q)){ee&&(this._unsubscribe=void 0);try{q.call(this)}catch(ie){re=ie instanceof Me?Ee(ie.errors):[ie]}}if((0,l.k)(K)){let ie=-1,be=K.length;for(;++ie<be;){const ze=K[ie];if((0,ve.K)(ze))try{ze.unsubscribe()}catch(Be){re=re||[],Be instanceof Me?re=re.concat(Ee(Be.errors)):re.push(Be)}}}if(re)throw new Me(re)}add(re){let j=re;if(!re)return ne.EMPTY;switch(typeof re){case"function":j=new ne(re);case"object":if(j===this||j.closed||"function"!=typeof j.unsubscribe)return j;if(this.closed)return j.unsubscribe(),j;if(!(j instanceof ne)){const K=j;j=new ne,j._subscriptions=[K]}break;default:throw new Error("unrecognized teardown "+re+" added to Subscription.")}let{_parentOrParents:ee}=j;if(null===ee)j._parentOrParents=this;else if(ee instanceof ne){if(ee===this)return j;j._parentOrParents=[ee,this]}else{if(-1!==ee.indexOf(this))return j;ee.push(this)}const q=this._subscriptions;return null===q?this._subscriptions=[j]:q.push(j),j}remove(re){const j=this._subscriptions;if(j){const ee=j.indexOf(re);-1!==ee&&j.splice(ee,1)}}}var oe;function Ee(oe){return oe.reduce((re,j)=>re.concat(j instanceof Me?j.errors:j),[])}ne.EMPTY=((oe=new ne).closed=!0,oe)},2494:(Ke,Ne,B)=>{"use strict";B.d(Ne,{v:()=>ve});let l=!1;const ve={Promise:void 0,set useDeprecatedSynchronousErrorHandling(L){if(L){const te=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+te.stack)}else l&&console.log("RxJS: Back to a better error behavior. Thank you. <3");l=L},get useDeprecatedSynchronousErrorHandling(){return l}}},5345:(Ke,Ne,B)=>{"use strict";B.d(Ne,{IY:()=>te,Ds:()=>ne,ft:()=>oe});var l=B(7393),ve=B(7574),L=B(7444);class te extends l.L{constructor(j){super(),this.parent=j}_next(j){this.parent.notifyNext(j)}_error(j){this.parent.notifyError(j),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ne extends l.L{notifyNext(j){this.destination.next(j)}notifyError(j){this.destination.error(j)}notifyComplete(){this.destination.complete()}}function oe(re,j){if(j.closed)return;if(re instanceof ve.y)return re.subscribe(j);let ee;try{ee=(0,L.s)(re)(j)}catch(q){j.error(q)}return ee}},2441:(Ke,Ne,B)=>{"use strict";B.d(Ne,{c:()=>Me,N:()=>ne});var l=B(9765),ve=B(7574),L=B(5319),te=B(1307);class Me extends ve.y{constructor(ee,q){super(),this.source=ee,this.subjectFactory=q,this._refCount=0,this._isComplete=!1}_subscribe(ee){return this.getSubject().subscribe(ee)}getSubject(){const ee=this._subject;return(!ee||ee.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ee=this._connection;return ee||(this._isComplete=!1,ee=this._connection=new L.w,ee.add(this.source.subscribe(new Ee(this.getSubject(),this))),ee.closed&&(this._connection=null,ee=L.w.EMPTY)),ee}refCount(){return(0,te.x)()(this)}}const ne=(()=>{const j=Me.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:j._subscribe},_isComplete:{value:j._isComplete,writable:!0},getSubject:{value:j.getSubject},connect:{value:j.connect},refCount:{value:j.refCount}}})();class Ee extends l.Yc{constructor(ee,q){super(ee),this.connectable=q}_error(ee){this._unsubscribe(),super._error(ee)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ee=this.connectable;if(ee){this.connectable=null;const q=ee._connection;ee._refCount=0,ee._subject=null,ee._connection=null,q&&q.unsubscribe()}}}},9193:(Ke,Ne,B)=>{"use strict";B.d(Ne,{E:()=>ve,c:()=>L});var l=B(7574);const ve=new l.y(Me=>Me.complete());function L(Me){return Me?function(Me){return new l.y(ne=>Me.schedule(()=>ne.complete()))}(Me):ve}},4402:(Ke,Ne,B)=>{"use strict";B.d(Ne,{D:()=>be});var l=B(7574),ve=B(7444),L=B(5319),te=B(6554),Ee=B(4087),oe=B(377),ee=B(4072),q=B(9489);function be(ze,Be){return Be?function(ze,Be){if(null!=ze){if(function(ze){return ze&&"function"==typeof ze[te.L]}(ze))return function(ze,Be){return new l.y(Ie=>{const Se=new L.w;return Se.add(Be.schedule(()=>{const Xe=ze[te.L]();Se.add(Xe.subscribe({next(g1){Se.add(Be.schedule(()=>Ie.next(g1)))},error(g1){Se.add(Be.schedule(()=>Ie.error(g1)))},complete(){Se.add(Be.schedule(()=>Ie.complete()))}}))})),Se})}(ze,Be);if((0,ee.t)(ze))return function(ze,Be){return new l.y(Ie=>{const Se=new L.w;return Se.add(Be.schedule(()=>ze.then(Xe=>{Se.add(Be.schedule(()=>{Ie.next(Xe),Se.add(Be.schedule(()=>Ie.complete()))}))},Xe=>{Se.add(Be.schedule(()=>Ie.error(Xe)))}))),Se})}(ze,Be);if((0,q.z)(ze))return(0,Ee.r)(ze,Be);if(function(ze){return ze&&"function"==typeof ze[oe.hZ]}(ze)||"string"==typeof ze)return function(ze,Be){if(!ze)throw new Error("Iterable cannot be null");return new l.y(Ie=>{const Se=new L.w;let Xe;return Se.add(()=>{Xe&&"function"==typeof Xe.return&&Xe.return()}),Se.add(Be.schedule(()=>{Xe=ze[oe.hZ](),Se.add(Be.schedule(function(){if(Ie.closed)return;let g1,t1;try{const Q1=Xe.next();g1=Q1.value,t1=Q1.done}catch(Q1){return void Ie.error(Q1)}t1?Ie.complete():(Ie.next(g1),this.schedule())}))})),Se})}(ze,Be)}throw new TypeError((null!==ze&&typeof ze||ze)+" is not observable")}(ze,Be):ze instanceof l.y?ze:new l.y((0,ve.s)(ze))}},6693:(Ke,Ne,B)=>{"use strict";B.d(Ne,{n:()=>te});var l=B(7574),ve=B(5015),L=B(4087);function te(Me,ne){return ne?(0,L.r)(Me,ne):new l.y((0,ve.V)(Me))}},6682:(Ke,Ne,B)=>{"use strict";B.d(Ne,{T:()=>Me});var l=B(7574),ve=B(4869),L=B(3282),te=B(6693);function Me(...ne){let Ee=Number.POSITIVE_INFINITY,oe=null,re=ne[ne.length-1];return(0,ve.K)(re)?(oe=ne.pop(),ne.length>1&&"number"==typeof ne[ne.length-1]&&(Ee=ne.pop())):"number"==typeof re&&(Ee=ne.pop()),null===oe&&1===ne.length&&ne[0]instanceof l.y?ne[0]:(0,L.J)(Ee)((0,te.n)(ne,oe))}},5917:(Ke,Ne,B)=>{"use strict";B.d(Ne,{of:()=>te});var l=B(4869),ve=B(6693),L=B(4087);function te(...Me){let ne=Me[Me.length-1];return(0,l.K)(ne)?(Me.pop(),(0,L.r)(Me,ne)):(0,ve.n)(Me)}},8002:(Ke,Ne,B)=>{"use strict";B.d(Ne,{U:()=>ve});var l=B(7393);function ve(Me,ne){return function(oe){if("function"!=typeof Me)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return oe.lift(new L(Me,ne))}}class L{constructor(ne,Ee){this.project=ne,this.thisArg=Ee}call(ne,Ee){return Ee.subscribe(new te(ne,this.project,this.thisArg))}}class te extends l.L{constructor(ne,Ee,oe){super(ne),this.project=Ee,this.count=0,this.thisArg=oe||this}_next(ne){let Ee;try{Ee=this.project.call(this.thisArg,ne,this.count++)}catch(oe){return void this.destination.error(oe)}this.destination.next(Ee)}}},3282:(Ke,Ne,B)=>{"use strict";B.d(Ne,{J:()=>L});var l=B(9773),ve=B(4487);function L(te=Number.POSITIVE_INFINITY){return(0,l.zg)(ve.y,te)}},9773:(Ke,Ne,B)=>{"use strict";B.d(Ne,{zg:()=>te});var l=B(8002),ve=B(4402),L=B(5345);function te(oe,re,j=Number.POSITIVE_INFINITY){return"function"==typeof re?ee=>ee.pipe(te((q,K)=>(0,ve.D)(oe(q,K)).pipe((0,l.U)((ie,be)=>re(q,ie,K,be))),j)):("number"==typeof re&&(j=re),ee=>ee.lift(new Me(oe,j)))}class Me{constructor(re,j=Number.POSITIVE_INFINITY){this.project=re,this.concurrent=j}call(re,j){return j.subscribe(new ne(re,this.project,this.concurrent))}}class ne extends L.Ds{constructor(re,j,ee=Number.POSITIVE_INFINITY){super(re),this.project=j,this.concurrent=ee,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(re){this.active<this.concurrent?this._tryNext(re):this.buffer.push(re)}_tryNext(re){let j;const ee=this.index++;try{j=this.project(re,ee)}catch(q){return void this.destination.error(q)}this.active++,this._innerSub(j)}_innerSub(re){const j=new L.IY(this),ee=this.destination;ee.add(j);const q=(0,L.ft)(re,j);q!==j&&ee.add(q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(re){this.destination.next(re)}notifyComplete(){const re=this.buffer;this.active--,re.length>0?this._next(re.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Ke,Ne,B)=>{"use strict";B.d(Ne,{ht:()=>ee,QV:()=>re});var l=B(7393),ve=B(9193),L=B(5917),te=B(7574);class oe{constructor(ie,be,ze){this.kind=ie,this.value=be,this.error=ze,this.hasValue="N"===ie}observe(ie){switch(this.kind){case"N":return ie.next&&ie.next(this.value);case"E":return ie.error&&ie.error(this.error);case"C":return ie.complete&&ie.complete()}}do(ie,be,ze){switch(this.kind){case"N":return ie&&ie(this.value);case"E":return be&&be(this.error);case"C":return ze&&ze()}}accept(ie,be,ze){return ie&&"function"==typeof ie.next?this.observe(ie):this.do(ie,be,ze)}toObservable(){switch(this.kind){case"N":return(0,L.of)(this.value);case"E":return K=this.error,new te.y(be=>be.error(K));case"C":return(0,ve.c)()}var K;throw new Error("unexpected notification kind value")}static createNext(ie){return void 0!==ie?new oe("N",ie):oe.undefinedValueNotification}static createError(ie){return new oe("E",void 0,ie)}static createComplete(){return oe.completeNotification}}function re(K,ie=0){return function(ze){return ze.lift(new j(K,ie))}}oe.completeNotification=new oe("C"),oe.undefinedValueNotification=new oe("N",void 0);class j{constructor(ie,be=0){this.scheduler=ie,this.delay=be}call(ie,be){return be.subscribe(new ee(ie,this.scheduler,this.delay))}}class ee extends l.L{constructor(ie,be,ze=0){super(ie),this.scheduler=be,this.delay=ze}static dispatch(ie){const{notification:be,destination:ze}=ie;be.observe(ze),this.unsubscribe()}scheduleMessage(ie){this.destination.add(this.scheduler.schedule(ee.dispatch,this.delay,new q(ie,this.destination)))}_next(ie){this.scheduleMessage(oe.createNext(ie))}_error(ie){this.scheduleMessage(oe.createError(ie)),this.unsubscribe()}_complete(){this.scheduleMessage(oe.createComplete()),this.unsubscribe()}}class q{constructor(ie,be){this.notification=ie,this.destination=be}}},1307:(Ke,Ne,B)=>{"use strict";B.d(Ne,{x:()=>ve});var l=B(7393);function ve(){return function(ne){return ne.lift(new L(ne))}}class L{constructor(ne){this.connectable=ne}call(ne,Ee){const{connectable:oe}=this;oe._refCount++;const re=new te(ne,oe),j=Ee.subscribe(re);return re.closed||(re.connection=oe.connect()),j}}class te extends l.L{constructor(ne,Ee){super(ne),this.connectable=Ee}_unsubscribe(){const{connectable:ne}=this;if(!ne)return void(this.connection=null);this.connectable=null;const Ee=ne._refCount;if(Ee<=0)return void(this.connection=null);if(ne._refCount=Ee-1,Ee>1)return void(this.connection=null);const{connection:oe}=this,re=ne._connection;this.connection=null,re&&(!oe||re===oe)&&re.unsubscribe()}}},8819:(Ke,Ne,B)=>{"use strict";B.d(Ne,{B:()=>Ee});var l=B(2441);var te=B(1307),Me=B(9765);function ne(){return new Me.xQ}function Ee(){return oe=>(0,te.x)()(function(oe,re){return function(ee){let q;q="function"==typeof oe?oe:function(){return oe};const K=Object.create(ee,l.N);return K.source=ee,K.subjectFactory=q,K}}(ne)(oe))}},2639:(Ke,Ne,B)=>{"use strict";B.d(Ne,{R:()=>ze});var l=B(7574);let ve=1;const L=Promise.resolve(),te={};function Me(Ie){return Ie in te&&(delete te[Ie],!0)}const ne={setImmediate(Ie){const Se=ve++;return te[Se]=!0,L.then(()=>Me(Se)&&Ie()),Se},clearImmediate(Ie){Me(Ie)}};var oe=B(6465),j=B(6102);const K=new class extends j.v{flush(Se){this.active=!0,this.scheduled=void 0;const{actions:Xe}=this;let g1,t1=-1,Q1=Xe.length;Se=Se||Xe.shift();do{if(g1=Se.execute(Se.state,Se.delay))break}while(++t1<Q1&&(Se=Xe.shift()));if(this.active=!1,g1){for(;++t1<Q1&&(Se=Xe.shift());)Se.unsubscribe();throw g1}}}(class extends oe.o{constructor(Se,Xe){super(Se,Xe),this.scheduler=Se,this.work=Xe}requestAsyncId(Se,Xe,g1=0){return null!==g1&&g1>0?super.requestAsyncId(Se,Xe,g1):(Se.actions.push(this),Se.scheduled||(Se.scheduled=ne.setImmediate(Se.flush.bind(Se,null))))}recycleAsyncId(Se,Xe,g1=0){if(null!==g1&&g1>0||null===g1&&this.delay>0)return super.recycleAsyncId(Se,Xe,g1);0===Se.actions.length&&(ne.clearImmediate(Xe),Se.scheduled=void 0)}});var ie=B(6561);class be extends l.y{constructor(Se,Xe=0,g1=K){super(),this.source=Se,this.delayTime=Xe,this.scheduler=g1,(!(0,ie.k)(Xe)||Xe<0)&&(this.delayTime=0),(!g1||"function"!=typeof g1.schedule)&&(this.scheduler=K)}static create(Se,Xe=0,g1=K){return new be(Se,Xe,g1)}static dispatch(Se){const{source:Xe,subscriber:g1}=Se;return this.add(Xe.subscribe(g1))}_subscribe(Se){return this.scheduler.schedule(be.dispatch,this.delayTime,{source:this.source,subscriber:Se})}}function ze(Ie,Se=0){return function(g1){return g1.lift(new Be(Ie,Se))}}class Be{constructor(Se,Xe){this.scheduler=Se,this.delay=Xe}call(Se,Xe){return new be(Xe,this.delay,this.scheduler).subscribe(Se)}}},3342:(Ke,Ne,B)=>{"use strict";B.d(Ne,{b:()=>te});var l=B(7393);function ve(){}var L=B(9105);function te(Ee,oe,re){return function(ee){return ee.lift(new Me(Ee,oe,re))}}class Me{constructor(oe,re,j){this.nextOrObserver=oe,this.error=re,this.complete=j}call(oe,re){return re.subscribe(new ne(oe,this.nextOrObserver,this.error,this.complete))}}class ne extends l.L{constructor(oe,re,j,ee){super(oe),this._tapNext=ve,this._tapError=ve,this._tapComplete=ve,this._tapError=j||ve,this._tapComplete=ee||ve,(0,L.m)(re)?(this._context=this,this._tapNext=re):re&&(this._context=re,this._tapNext=re.next||ve,this._tapError=re.error||ve,this._tapComplete=re.complete||ve)}_next(oe){try{this._tapNext.call(this._context,oe)}catch(re){return void this.destination.error(re)}this.destination.next(oe)}_error(oe){try{this._tapError.call(this._context,oe)}catch(re){return void this.destination.error(re)}this.destination.error(oe)}_complete(){try{this._tapComplete.call(this._context)}catch(oe){return void this.destination.error(oe)}return this.destination.complete()}}},4087:(Ke,Ne,B)=>{"use strict";B.d(Ne,{r:()=>L});var l=B(7574),ve=B(5319);function L(te,Me){return new l.y(ne=>{const Ee=new ve.w;let oe=0;return Ee.add(Me.schedule(function(){oe!==te.length?(ne.next(te[oe++]),ne.closed||Ee.add(this.schedule())):ne.complete()})),Ee})}},6465:(Ke,Ne,B)=>{"use strict";B.d(Ne,{o:()=>L});var l=B(5319);class ve extends l.w{constructor(Me,ne){super()}schedule(Me,ne=0){return this}}class L extends ve{constructor(Me,ne){super(Me,ne),this.scheduler=Me,this.work=ne,this.pending=!1}schedule(Me,ne=0){if(this.closed)return this;this.state=Me;const Ee=this.id,oe=this.scheduler;return null!=Ee&&(this.id=this.recycleAsyncId(oe,Ee,ne)),this.pending=!0,this.delay=ne,this.id=this.id||this.requestAsyncId(oe,this.id,ne),this}requestAsyncId(Me,ne,Ee=0){return setInterval(Me.flush.bind(Me,this),Ee)}recycleAsyncId(Me,ne,Ee=0){if(null!==Ee&&this.delay===Ee&&!1===this.pending)return ne;clearInterval(ne)}execute(Me,ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(Me,ne);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Me,ne){let oe,Ee=!1;try{this.work(Me)}catch(re){Ee=!0,oe=!!re&&re||new Error(re)}if(Ee)return this.unsubscribe(),oe}_unsubscribe(){const Me=this.id,ne=this.scheduler,Ee=ne.actions,oe=Ee.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==oe&&Ee.splice(oe,1),null!=Me&&(this.id=this.recycleAsyncId(ne,Me,null)),this.delay=null}}},6102:(Ke,Ne,B)=>{"use strict";B.d(Ne,{v:()=>ve});let l=(()=>{class L{constructor(Me,ne=L.now){this.SchedulerAction=Me,this.now=ne}schedule(Me,ne=0,Ee){return new this.SchedulerAction(this,Me).schedule(Ee,ne)}}return L.now=()=>Date.now(),L})();class ve extends l{constructor(te,Me=l.now){super(te,()=>ve.delegate&&ve.delegate!==this?ve.delegate.now():Me()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(te,Me=0,ne){return ve.delegate&&ve.delegate!==this?ve.delegate.schedule(te,Me,ne):super.schedule(te,Me,ne)}flush(te){const{actions:Me}=this;if(this.active)return void Me.push(te);let ne;this.active=!0;do{if(ne=te.execute(te.state,te.delay))break}while(te=Me.shift());if(this.active=!1,ne){for(;te=Me.shift();)te.unsubscribe();throw ne}}}},3637:(Ke,Ne,B)=>{"use strict";B.d(Ne,{z:()=>L,P:()=>te});var l=B(6465);const L=new(B(6102).v)(l.o),te=L},7771:(Ke,Ne,B)=>{"use strict";B.d(Ne,{c:()=>ne,N:()=>Me});var l=B(6465),L=B(6102);const Me=new class extends L.v{}(class extends l.o{constructor(oe,re){super(oe,re),this.scheduler=oe,this.work=re}schedule(oe,re=0){return re>0?super.schedule(oe,re):(this.delay=re,this.state=oe,this.scheduler.flush(this),this)}execute(oe,re){return re>0||this.closed?super.execute(oe,re):this._execute(oe,re)}requestAsyncId(oe,re,j=0){return null!==j&&j>0||null===j&&this.delay>0?super.requestAsyncId(oe,re,j):oe.flush(this)}}),ne=Me},377:(Ke,Ne,B)=>{"use strict";B.d(Ne,{hZ:()=>ve});const ve="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ke,Ne,B)=>{"use strict";B.d(Ne,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ke,Ne,B)=>{"use strict";B.d(Ne,{b:()=>l});const l="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ke,Ne,B)=>{"use strict";B.d(Ne,{N:()=>ve});const ve=(()=>{function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return L.prototype=Object.create(Error.prototype),L})()},4449:(Ke,Ne,B)=>{"use strict";function l(ve){setTimeout(()=>{throw ve},0)}B.d(Ne,{z:()=>l})},4487:(Ke,Ne,B)=>{"use strict";function l(ve){return ve}B.d(Ne,{y:()=>l})},9796:(Ke,Ne,B)=>{"use strict";B.d(Ne,{k:()=>l});const l=Array.isArray||(ve=>ve&&"number"==typeof ve.length)},9489:(Ke,Ne,B)=>{"use strict";B.d(Ne,{z:()=>l});const l=ve=>ve&&"number"==typeof ve.length&&"function"!=typeof ve},9105:(Ke,Ne,B)=>{"use strict";function l(ve){return"function"==typeof ve}B.d(Ne,{m:()=>l})},6561:(Ke,Ne,B)=>{"use strict";B.d(Ne,{k:()=>ve});var l=B(9796);function ve(L){return!(0,l.k)(L)&&L-parseFloat(L)+1>=0}},1555:(Ke,Ne,B)=>{"use strict";function l(ve){return null!==ve&&"object"==typeof ve}B.d(Ne,{K:()=>l})},4072:(Ke,Ne,B)=>{"use strict";function l(ve){return!!ve&&"function"!=typeof ve.subscribe&&"function"==typeof ve.then}B.d(Ne,{t:()=>l})},4869:(Ke,Ne,B)=>{"use strict";function l(ve){return ve&&"function"==typeof ve.schedule}B.d(Ne,{K:()=>l})},7444:(Ke,Ne,B)=>{"use strict";B.d(Ne,{s:()=>ee});var l=B(5015),ve=B(4449),te=B(377),ne=B(6554),oe=B(9489),re=B(4072),j=B(1555);const ee=q=>{if(q&&"function"==typeof q[ne.L])return(q=>K=>{const ie=q[ne.L]();if("function"!=typeof ie.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ie.subscribe(K)})(q);if((0,oe.z)(q))return(0,l.V)(q);if((0,re.t)(q))return(q=>K=>(q.then(ie=>{K.closed||(K.next(ie),K.complete())},ie=>K.error(ie)).then(null,ve.z),K))(q);if(q&&"function"==typeof q[te.hZ])return(q=>K=>{const ie=q[te.hZ]();for(;;){let be;try{be=ie.next()}catch(ze){return K.error(ze),K}if(be.done){K.complete();break}if(K.next(be.value),K.closed)break}return"function"==typeof ie.return&&K.add(()=>{ie.return&&ie.return()}),K})(q);{const ie=`You provided ${(0,j.K)(q)?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ie)}}},5015:(Ke,Ne,B)=>{"use strict";B.d(Ne,{V:()=>l});const l=ve=>L=>{for(let te=0,Me=ve.length;te<Me&&!L.closed;te++)L.next(ve[te]);L.complete()}},4332:(Ke,Ne,B)=>{"use strict";var l=B(7716);let ve=null;function L(){return ve}const Ee=new l.OlP("DocumentToken");let oe=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,l.Yz7)({factory:re,token:i,providedIn:"platform"}),i})();function re(){return(0,l.LFG)(ee)}const j=new l.OlP("Location Initialized");let ee=(()=>{class i extends oe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const o=L().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=L().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,c){q()?this._history.pushState(e,o,c):this.location.hash=c}replaceState(e,o,c){q()?this._history.replaceState(e,o,c):this.location.hash=c}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(Ee))},i.\u0275prov=(0,l.Yz7)({factory:K,token:i,providedIn:"platform"}),i})();function q(){return!!window.history.pushState}function K(){return new ee((0,l.LFG)(Ee))}function ie(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function be(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function ze(i){return i&&"?"!==i[0]?"?"+i:i}let Be=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,l.Yz7)({factory:Ie,token:i,providedIn:"root"}),i})();function Ie(i){const t=(0,l.LFG)(Ee).location;return new Xe((0,l.LFG)(oe),t&&t.origin||"")}const Se=new l.OlP("appBaseHref");let Xe=(()=>{class i extends Be{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ie(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+ze(this._platformLocation.search),c=this._platformLocation.hash;return c&&e?`${o}${c}`:o}pushState(e,o,c,f){const v=this.prepareExternalUrl(c+ze(f));this._platformLocation.pushState(e,o,v)}replaceState(e,o,c,f){const v=this.prepareExternalUrl(c+ze(f));this._platformLocation.replaceState(e,o,v)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,c;null===(c=(o=this._platformLocation).historyGo)||void 0===c||c.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(oe),l.LFG(Se,8))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})(),g1=(()=>{class i extends Be{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=ie(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,c,f){let v=this.prepareExternalUrl(c+ze(f));0==v.length&&(v=this._platformLocation.pathname),this._platformLocation.pushState(e,o,v)}replaceState(e,o,c,f){let v=this.prepareExternalUrl(c+ze(f));0==v.length&&(v=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,v)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,c;null===(c=(o=this._platformLocation).historyGo)||void 0===c||c.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(oe),l.LFG(Se,8))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})(),t1=(()=>{class i{constructor(e,o){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const c=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=be(G1(c)),this._platformStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+ze(o))}normalize(e){return i.stripTrailingSlash(function(i,t){return i&&t.startsWith(i)?t.substring(i.length):t}(this._baseHref,G1(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",c=null){this._platformStrategy.pushState(c,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ze(o)),c)}replaceState(e,o="",c=null){this._platformStrategy.replaceState(c,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ze(o)),c)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,c;null===(c=(o=this._platformStrategy).historyGo)||void 0===c||c.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(c=>c(e,o))}subscribe(e,o,c){return this._subject.subscribe({next:e,error:o,complete:c})}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(Be),l.LFG(oe))},i.normalizeQueryParams=ze,i.joinWithSlash=ie,i.stripTrailingSlash=be,i.\u0275prov=(0,l.Yz7)({factory:Q1,token:i,providedIn:"root"}),i})();function Q1(){return new t1((0,l.LFG)(Be),(0,l.LFG)(oe))}function G1(i){return i.replace(/\/index.html$/,"")}var de=(()=>((de=de||{})[de.Zero=0]="Zero",de[de.One=1]="One",de[de.Two=2]="Two",de[de.Few=3]="Few",de[de.Many=4]="Many",de[de.Other=5]="Other",de))(),me=(()=>((me=me||{})[me.Format=0]="Format",me[me.Standalone=1]="Standalone",me))(),fe=(()=>((fe=fe||{})[fe.Narrow=0]="Narrow",fe[fe.Abbreviated=1]="Abbreviated",fe[fe.Wide=2]="Wide",fe[fe.Short=3]="Short",fe))(),De=(()=>((De=De||{})[De.Short=0]="Short",De[De.Medium=1]="Medium",De[De.Long=2]="Long",De[De.Full=3]="Full",De))(),pe=(()=>((pe=pe||{})[pe.Decimal=0]="Decimal",pe[pe.Group=1]="Group",pe[pe.List=2]="List",pe[pe.PercentSign=3]="PercentSign",pe[pe.PlusSign=4]="PlusSign",pe[pe.MinusSign=5]="MinusSign",pe[pe.Exponential=6]="Exponential",pe[pe.SuperscriptingExponent=7]="SuperscriptingExponent",pe[pe.PerMille=8]="PerMille",pe[pe.Infinity=9]="Infinity",pe[pe.NaN=10]="NaN",pe[pe.TimeSeparator=11]="TimeSeparator",pe[pe.CurrencyDecimal=12]="CurrencyDecimal",pe[pe.CurrencyGroup=13]="CurrencyGroup",pe))();function pt(i,t){return yt((0,l.cg1)(i)[l.wAp.DateFormat],t)}function W1(i,t){return yt((0,l.cg1)(i)[l.wAp.TimeFormat],t)}function fn(i,t){return yt((0,l.cg1)(i)[l.wAp.DateTimeFormat],t)}function zt(i,t){const e=(0,l.cg1)(i),o=e[l.wAp.NumberSymbols][t];if(void 0===o){if(t===pe.CurrencyDecimal)return e[l.wAp.NumberSymbols][pe.Decimal];if(t===pe.CurrencyGroup)return e[l.wAp.NumberSymbols][pe.Group]}return o}const Z1=l.kL8;function L1(i){if(!i[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function yt(i,t){for(let e=t;e>-1;e--)if(void 0!==i[e])return i[e];throw new Error("Locale data API: locale data undefined")}function Xt(i){const[t,e]=i.split(":");return{hours:+t,minutes:+e}}const En=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Bt={},Sa=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var xt=(()=>((xt=xt||{})[xt.Short=0]="Short",xt[xt.ShortGMT=1]="ShortGMT",xt[xt.Long=2]="Long",xt[xt.Extended=3]="Extended",xt))(),Qe=(()=>((Qe=Qe||{})[Qe.FullYear=0]="FullYear",Qe[Qe.Month=1]="Month",Qe[Qe.Date=2]="Date",Qe[Qe.Hours=3]="Hours",Qe[Qe.Minutes=4]="Minutes",Qe[Qe.Seconds=5]="Seconds",Qe[Qe.FractionalSeconds=6]="FractionalSeconds",Qe[Qe.Day=7]="Day",Qe))(),C1=(()=>((C1=C1||{})[C1.DayPeriods=0]="DayPeriods",C1[C1.Days=1]="Days",C1[C1.Months=2]="Months",C1[C1.Eras=3]="Eras",C1))();function Ta(i,t,e,o){let c=function(i){if(Na(i))return i;if("number"==typeof i&&!isNaN(i))return new Date(i);if("string"==typeof i){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){const[c,f=1,v=1]=i.split("-").map(_=>+_);return Qr(c,f-1,v)}const e=parseFloat(i);if(!isNaN(i-e))return new Date(e);let o;if(o=i.match(En))return function(i){const t=new Date(0);let e=0,o=0;const c=i[8]?t.setUTCFullYear:t.setFullYear,f=i[8]?t.setUTCHours:t.setHours;i[9]&&(e=Number(i[9]+i[10]),o=Number(i[9]+i[11])),c.call(t,Number(i[1]),Number(i[2])-1,Number(i[3]));const v=Number(i[4]||0)-e,_=Number(i[5]||0)-o,M=Number(i[6]||0),E=Math.floor(1e3*parseFloat("0."+(i[7]||0)));return f.call(t,v,_,M,E),t}(o)}const t=new Date(i);if(!Na(t))throw new Error(`Unable to convert "${i}" into a date`);return t}(i);t=G2(e,t)||t;let _,v=[];for(;t;){if(_=Sa.exec(t),!_){v.push(t);break}{v=v.concat(_.slice(1));const S=v.pop();if(!S)break;t=S}}let M=c.getTimezoneOffset();o&&(M=x2(o,M),c=function(i,t,e){const c=i.getTimezoneOffset();return function(i,t){return(i=new Date(i.getTime())).setMinutes(i.getMinutes()+t),i}(i,-1*(x2(t,c)-c))}(c,o));let E="";return v.forEach(S=>{const I=function(i){if(u2[i])return u2[i];let t;switch(i){case"G":case"GG":case"GGG":t=Q(C1.Eras,fe.Abbreviated);break;case"GGGG":t=Q(C1.Eras,fe.Wide);break;case"GGGGG":t=Q(C1.Eras,fe.Narrow);break;case"y":t=st(Qe.FullYear,1,0,!1,!0);break;case"yy":t=st(Qe.FullYear,2,0,!0,!0);break;case"yyy":t=st(Qe.FullYear,3,0,!1,!0);break;case"yyyy":t=st(Qe.FullYear,4,0,!1,!0);break;case"Y":t=$1(1);break;case"YY":t=$1(2,!0);break;case"YYY":t=$1(3);break;case"YYYY":t=$1(4);break;case"M":case"L":t=st(Qe.Month,1,1);break;case"MM":case"LL":t=st(Qe.Month,2,1);break;case"MMM":t=Q(C1.Months,fe.Abbreviated);break;case"MMMM":t=Q(C1.Months,fe.Wide);break;case"MMMMM":t=Q(C1.Months,fe.Narrow);break;case"LLL":t=Q(C1.Months,fe.Abbreviated,me.Standalone);break;case"LLLL":t=Q(C1.Months,fe.Wide,me.Standalone);break;case"LLLLL":t=Q(C1.Months,fe.Narrow,me.Standalone);break;case"w":t=ot(1);break;case"ww":t=ot(2);break;case"W":t=ot(1,!0);break;case"d":t=st(Qe.Date,1);break;case"dd":t=st(Qe.Date,2);break;case"c":case"cc":t=st(Qe.Day,1);break;case"ccc":t=Q(C1.Days,fe.Abbreviated,me.Standalone);break;case"cccc":t=Q(C1.Days,fe.Wide,me.Standalone);break;case"ccccc":t=Q(C1.Days,fe.Narrow,me.Standalone);break;case"cccccc":t=Q(C1.Days,fe.Short,me.Standalone);break;case"E":case"EE":case"EEE":t=Q(C1.Days,fe.Abbreviated);break;case"EEEE":t=Q(C1.Days,fe.Wide);break;case"EEEEE":t=Q(C1.Days,fe.Narrow);break;case"EEEEEE":t=Q(C1.Days,fe.Short);break;case"a":case"aa":case"aaa":t=Q(C1.DayPeriods,fe.Abbreviated);break;case"aaaa":t=Q(C1.DayPeriods,fe.Wide);break;case"aaaaa":t=Q(C1.DayPeriods,fe.Narrow);break;case"b":case"bb":case"bbb":t=Q(C1.DayPeriods,fe.Abbreviated,me.Standalone,!0);break;case"bbbb":t=Q(C1.DayPeriods,fe.Wide,me.Standalone,!0);break;case"bbbbb":t=Q(C1.DayPeriods,fe.Narrow,me.Standalone,!0);break;case"B":case"BB":case"BBB":t=Q(C1.DayPeriods,fe.Abbreviated,me.Format,!0);break;case"BBBB":t=Q(C1.DayPeriods,fe.Wide,me.Format,!0);break;case"BBBBB":t=Q(C1.DayPeriods,fe.Narrow,me.Format,!0);break;case"h":t=st(Qe.Hours,1,-12);break;case"hh":t=st(Qe.Hours,2,-12);break;case"H":t=st(Qe.Hours,1);break;case"HH":t=st(Qe.Hours,2);break;case"m":t=st(Qe.Minutes,1);break;case"mm":t=st(Qe.Minutes,2);break;case"s":t=st(Qe.Seconds,1);break;case"ss":t=st(Qe.Seconds,2);break;case"S":t=st(Qe.FractionalSeconds,1);break;case"SS":t=st(Qe.FractionalSeconds,2);break;case"SSS":t=st(Qe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=_e(xt.Short);break;case"ZZZZZ":t=_e(xt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=_e(xt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=_e(xt.Long);break;default:return null}return u2[i]=t,t}(S);E+=I?I(c,e,M):"''"===S?"'":S.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),E}function Qr(i,t,e){const o=new Date(0);return o.setFullYear(i,t,e),o.setHours(0,0,0),o}function G2(i,t){const e=function(i){return(0,l.cg1)(i)[l.wAp.LocaleId]}(i);if(Bt[e]=Bt[e]||{},Bt[e][t])return Bt[e][t];let o="";switch(t){case"shortDate":o=pt(i,De.Short);break;case"mediumDate":o=pt(i,De.Medium);break;case"longDate":o=pt(i,De.Long);break;case"fullDate":o=pt(i,De.Full);break;case"shortTime":o=W1(i,De.Short);break;case"mediumTime":o=W1(i,De.Medium);break;case"longTime":o=W1(i,De.Long);break;case"fullTime":o=W1(i,De.Full);break;case"short":const c=G2(i,"shortTime"),f=G2(i,"shortDate");o=it(fn(i,De.Short),[c,f]);break;case"medium":const v=G2(i,"mediumTime"),_=G2(i,"mediumDate");o=it(fn(i,De.Medium),[v,_]);break;case"long":const M=G2(i,"longTime"),E=G2(i,"longDate");o=it(fn(i,De.Long),[M,E]);break;case"full":const S=G2(i,"fullTime"),I=G2(i,"fullDate");o=it(fn(i,De.Full),[S,I])}return o&&(Bt[e][t]=o),o}function it(i,t){return t&&(i=i.replace(/\{([^}]+)}/g,function(e,o){return null!=t&&o in t?t[o]:e})),i}function zn(i,t,e="-",o,c){let f="";(i<0||c&&i<=0)&&(c?i=1-i:(i=-i,f=e));let v=String(i);for(;v.length<t;)v="0"+v;return o&&(v=v.substr(v.length-t)),f+v}function st(i,t,e=0,o=!1,c=!1){return function(f,v){let _=function(i,t){switch(i){case Qe.FullYear:return t.getFullYear();case Qe.Month:return t.getMonth();case Qe.Date:return t.getDate();case Qe.Hours:return t.getHours();case Qe.Minutes:return t.getMinutes();case Qe.Seconds:return t.getSeconds();case Qe.FractionalSeconds:return t.getMilliseconds();case Qe.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}(i,f);if((e>0||_>-e)&&(_+=e),i===Qe.Hours)0===_&&-12===e&&(_=12);else if(i===Qe.FractionalSeconds)return function(i,t){return zn(i,3).substr(0,t)}(_,t);const M=zt(v,pe.MinusSign);return zn(_,t,M,o,c)}}function Q(i,t,e=me.Format,o=!1){return function(c,f){return function(i,t,e,o,c,f){switch(e){case C1.Months:return function(i,t,e){const o=(0,l.cg1)(i),f=yt([o[l.wAp.MonthsFormat],o[l.wAp.MonthsStandalone]],t);return yt(f,e)}(t,c,o)[i.getMonth()];case C1.Days:return function(i,t,e){const o=(0,l.cg1)(i),f=yt([o[l.wAp.DaysFormat],o[l.wAp.DaysStandalone]],t);return yt(f,e)}(t,c,o)[i.getDay()];case C1.DayPeriods:const v=i.getHours(),_=i.getMinutes();if(f){const E=function(i){const t=(0,l.cg1)(i);return L1(t),(t[l.wAp.ExtraData][2]||[]).map(o=>"string"==typeof o?Xt(o):[Xt(o[0]),Xt(o[1])])}(t),S=function(i,t,e){const o=(0,l.cg1)(i);L1(o);const f=yt([o[l.wAp.ExtraData][0],o[l.wAp.ExtraData][1]],t)||[];return yt(f,e)||[]}(t,c,o),I=E.findIndex(R=>{if(Array.isArray(R)){const[O,U]=R,J=v>=O.hours&&_>=O.minutes,le=v<U.hours||v===U.hours&&_<U.minutes;if(O.hours<U.hours){if(J&&le)return!0}else if(J||le)return!0}else if(R.hours===v&&R.minutes===_)return!0;return!1});if(-1!==I)return S[I]}return function(i,t,e){const o=(0,l.cg1)(i),f=yt([o[l.wAp.DayPeriodsFormat],o[l.wAp.DayPeriodsStandalone]],t);return yt(f,e)}(t,c,o)[v<12?0:1];case C1.Eras:return function(i,t){return yt((0,l.cg1)(i)[l.wAp.Eras],t)}(t,o)[i.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(c,f,i,t,e,o)}}function _e(i){return function(t,e,o){const c=-1*o,f=zt(e,pe.MinusSign),v=c>0?Math.floor(c/60):Math.ceil(c/60);switch(i){case xt.Short:return(c>=0?"+":"")+zn(v,2,f)+zn(Math.abs(c%60),2,f);case xt.ShortGMT:return"GMT"+(c>=0?"+":"")+zn(v,1,f);case xt.Long:return"GMT"+(c>=0?"+":"")+zn(v,2,f)+":"+zn(Math.abs(c%60),2,f);case xt.Extended:return 0===o?"Z":(c>=0?"+":"")+zn(v,2,f)+":"+zn(Math.abs(c%60),2,f);default:throw new Error(`Unknown zone width "${i}"`)}}}function F1(i){return Qr(i.getFullYear(),i.getMonth(),i.getDate()+(4-i.getDay()))}function ot(i,t=!1){return function(e,o){let c;if(t){const f=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,v=e.getDate();c=1+Math.floor((v+f)/7)}else{const f=F1(e),v=function(i){const t=Qr(i,0,1).getDay();return Qr(i,0,1+(t<=4?4:11)-t)}(f.getFullYear()),_=f.getTime()-v.getTime();c=1+Math.round(_/6048e5)}return zn(c,i,zt(o,pe.MinusSign))}}function $1(i,t=!1){return function(e,o){return zn(F1(e).getFullYear(),i,zt(o,pe.MinusSign),t)}}const u2={};function x2(i,t){i=i.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(e)?t:e}function Na(i){return i instanceof Date&&!isNaN(i.valueOf())}class Z4{}let N6=(()=>{class i extends Z4{constructor(e){super(),this.locale=e}getPluralCategory(e,o){switch(Z1(o||this.locale)(e)){case de.Zero:return"zero";case de.One:return"one";case de.Two:return"two";case de.Few:return"few";case de.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(l.soG))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})();function h2(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const o=e.indexOf("="),[c,f]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(c.trim()===t)return decodeURIComponent(f)}return null}class I1{constructor(t,e,o,c){this.$implicit=t,this.ngForOf=e,this.index=o,this.count=c}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ye=(()=>{class i{constructor(e,o,c){this._viewContainer=e,this._template=o,this._differs=c,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(i){return i.name||typeof i}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=[];e.forEachOperation((c,f,v)=>{if(null==c.previousIndex){const _=this._viewContainer.createEmbeddedView(this._template,new I1(null,this._ngForOf,-1,-1),null===v?void 0:v),M=new D1(c,_);o.push(M)}else if(null==v)this._viewContainer.remove(null===f?void 0:f);else if(null!==f){const _=this._viewContainer.get(f);this._viewContainer.move(_,v);const M=new D1(c,_);o.push(M)}});for(let c=0;c<o.length;c++)this._perViewChange(o[c].view,o[c].record);for(let c=0,f=this._viewContainer.length;c<f;c++){const v=this._viewContainer.get(c);v.context.index=c,v.context.count=f,v.context.ngForOf=this._ngForOf}e.forEachIdentityChange(c=>{this._viewContainer.get(c.currentIndex).context.$implicit=c.item})}_perViewChange(e,o){e.context.$implicit=o.item}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},i.\u0275dir=l.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class D1{constructor(t,e){this.record=t,this.view=e}}let S1=(()=>{class i{constructor(e,o){this._viewContainer=e,this._context=new M3,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Di("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Di("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(l.s_b),l.Y36(l.Rgc))},i.\u0275dir=l.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class M3{constructor(){this.$implicit=null,this.ngIf=null}}function Di(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}function xn(i,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,l.AaK)(i)}'`)}const p5=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let m5=(()=>{class i{transform(e){if(null==e)return null;if("string"!=typeof e)throw xn(i,e);return e.replace(p5,o=>o[0].toUpperCase()+o.substr(1).toLowerCase())}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=l.Yjl({name:"titlecase",type:i,pure:!0}),i})(),A3=(()=>{class i{constructor(e){this.locale=e}transform(e,o="mediumDate",c,f){if(null==e||""===e||e!=e)return null;try{return Ta(e,o,f||this.locale,c)}catch(v){throw xn(i,v.message)}}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(l.soG,16))},i.\u0275pipe=l.Yjl({name:"date",type:i,pure:!0}),i})(),z3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({providers:[{provide:Z4,useClass:N6}]}),i})();function W4(i){return"browser"===i}function x3(i){return"server"===i}let lt=(()=>{class i{}return i.\u0275prov=(0,l.Yz7)({token:i,providedIn:"root",factory:()=>new Ns((0,l.LFG)(Ee),window)}),i})();class Ns{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let c=o.currentNode;for(;c;){const f=c.shadowRoot;if(f){const v=f.getElementById(t)||f.querySelector(`[name="${t}"]`);if(v)return v}c=o.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),o=e.left+this.window.pageXOffset,c=e.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(o-f[0],c-f[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=R6(this.window.history)||R6(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function R6(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Ri{}class Vi extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new Vi,ve||(ve=i)}onAndCancel(t,e,o){return t.addEventListener(e,o,!1),()=>{t.removeEventListener(e,o,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(y1=y1||document.querySelector("base"),y1?y1.getAttribute("href"):null);return null==e?null:function(i){mt=mt||document.createElement("a"),mt.setAttribute("href",i);const t=mt.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){y1=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return h2(document.cookie,t)}}let mt,y1=null;const At=new l.OlP("TRANSITION_ID"),pn=[{provide:l.ip1,useFactory:function(i,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const o=L(),c=t.querySelectorAll(`style[ng-transition="${i}"]`);for(let f=0;f<c.length;f++)o.remove(c[f])})}},deps:[At,Ee,l.zs3],multi:!0}];class S3{static init(){(0,l.VLi)(new S3)}addToWindow(t){l.dqk.getAngularTestability=(o,c=!0)=>{const f=t.findTestabilityInTree(o,c);if(null==f)throw new Error("Could not find testability for element.");return f},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(o=>{const c=l.dqk.getAllAngularTestabilities();let f=c.length,v=!1;const _=function(M){v=v||M,f--,0==f&&o(v)};c.forEach(function(M){M.whenStable(_)})})}findTestabilityInTree(t,e,o){if(null==e)return null;const c=t.getTestability(e);return null!=c?c:o?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Kr=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})();const I3=new l.OlP("EventManagerPlugins");let Le=(()=>{class i{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(c=>c.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,c){return this._findPluginFor(o).addEventListener(e,o,c)}addGlobalEventListener(e,o,c){return this._findPluginFor(o).addGlobalEventListener(e,o,c)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const c=this._plugins;for(let f=0;f<c.length;f++){const v=c[f];if(v.supports(e))return this._eventNameToPlugin.set(e,v),v}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(I3),l.LFG(l.R0b))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})();class U1{constructor(t){this._doc=t}addGlobalEventListener(t,e,o){const c=L().getGlobalEventTarget(this._doc,t);if(!c)throw new Error(`Unsupported event target ${c} for event ${e}`);return this.addEventListener(c,e,o)}}let D3=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(c=>{this._stylesSet.has(c)||(this._stylesSet.add(c),o.add(c))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})(),Et=(()=>{class i extends D3{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,c){e.forEach(f=>{const v=this._doc.createElement("style");v.textContent=f,c.push(o.appendChild(v))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(L3),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,c)=>{this._addStylesToHost(e,c,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(L3))}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(Ee))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})();function L3(i){L().remove(i)}const $4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},N2=/%COMP%/g;function kt(i,t,e){for(let o=0;o<t.length;o++){let c=t[o];Array.isArray(c)?kt(i,c,e):(c=c.replace(N2,i),e.push(c))}return e}function $2(i){return t=>{if("__ngUnwrap__"===t)return i;!1===i(t)&&(t.preventDefault(),t.returnValue=!1)}}let gr=(()=>{class i{constructor(e,o,c){this.eventManager=e,this.sharedStylesHost=o,this.appId=c,this.rendererByCompId=new Map,this.defaultRenderer=new mn(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case l.ifc.Emulated:{let c=this.rendererByCompId.get(o.id);return c||(c=new A5(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,c)),c.applyToHost(e),c}case 1:case l.ifc.ShadowDom:return new O2(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const c=kt(o.id,o.styles,[]);this.sharedStylesHost.addStyles(c),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(Le),l.LFG(Et),l.LFG(l.AFp))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})();class mn{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS($4[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,o){t&&t.insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,c){if(c){e=c+":"+e;const f=$4[c];f?t.setAttributeNS(f,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const c=$4[o];c?t.removeAttributeNS(c,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,c){c&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,o,c&l.JOm.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,$2(o)):this.eventManager.addEventListener(t,e,$2(o))}}class A5 extends mn{constructor(t,e,o,c){super(t),this.component=o;const f=kt(c+"-"+o.id,o.styles,[]);e.addStyles(f),this.contentAttr="_ngcontent-%COMP%".replace(N2,c+"-"+o.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(N2,i)}(c+"-"+o.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}class O2 extends mn{constructor(t,e,o,c){super(t),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=kt(c.id,c.styles,[]);for(let v=0;v<f.length;v++){const _=document.createElement("style");_.textContent=f[v],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let k3=(()=>{class i extends U1{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,c){return e.addEventListener(o,c,!1),()=>this.removeEventListener(e,o,c)}removeEventListener(e,o,c){return e.removeEventListener(o,c)}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(Ee))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})();const yr=["alt","control","meta","shift"],x5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},F6={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let S5=(()=>{class i extends U1{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,o,c){const f=i.parseEventName(o),v=i.eventCallback(f.fullKey,c,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,f.domEventName,v))}static parseEventName(e){const o=e.toLowerCase().split("."),c=o.shift();if(0===o.length||"keydown"!==c&&"keyup"!==c)return null;const f=i._normalizeKey(o.pop());let v="";if(yr.forEach(M=>{const E=o.indexOf(M);E>-1&&(o.splice(E,1),v+=M+".")}),v+=f,0!=o.length||0===f.length)return null;const _={};return _.domEventName=c,_.fullKey=v,_}static getEventFullKey(e){let o="",c=function(i){let t=i.key;if(null==t){if(t=i.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===i.location&&qt.hasOwnProperty(t)&&(t=qt[t]))}return x5[t]||t}(e);return c=c.toLowerCase()," "===c?c="space":"."===c&&(c="dot"),yr.forEach(f=>{f!=c&&F6[f](e)&&(o+=f+".")}),o+=c,o}static eventCallback(e,o,c){return f=>{i.getEventFullKey(f)===e&&c.runGuarded(()=>o(f))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(Ee))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})(),d2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,l.Yz7)({factory:function(){return(0,l.LFG)(i4)},token:i,providedIn:"root"}),i})(),i4=(()=>{class i extends d2{constructor(e){super(),this._doc=e}sanitize(e,o){if(null==o)return null;switch(e){case l.q3G.NONE:return o;case l.q3G.HTML:return(0,l.qzn)(o,"HTML")?(0,l.z3N)(o):(0,l.EiD)(this._doc,String(o)).toString();case l.q3G.STYLE:return(0,l.qzn)(o,"Style")?(0,l.z3N)(o):o;case l.q3G.SCRIPT:if((0,l.qzn)(o,"Script"))return(0,l.z3N)(o);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.yhl)(o),(0,l.qzn)(o,"URL")?(0,l.z3N)(o):(0,l.mCW)(String(o));case l.q3G.RESOURCE_URL:if((0,l.qzn)(o,"ResourceURL"))return(0,l.z3N)(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,l.JVY)(e)}bypassSecurityTrustStyle(e){return(0,l.L6k)(e)}bypassSecurityTrustScript(e){return(0,l.eBb)(e)}bypassSecurityTrustUrl(e){return(0,l.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,l.pB0)(e)}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(Ee))},i.\u0275prov=(0,l.Yz7)({factory:function(){return function(i){return new i4(i.get(Ee))}((0,l.LFG)(l.gxx))},token:i,providedIn:"root"}),i})();const a4=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function(){Vi.makeCurrent(),S3.init()},multi:!0},{provide:Ee,useFactory:function(){return(0,l.RDi)(document),document},deps:[]}]),Oa=[[],{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function(){return new l.qLn},deps:[]},{provide:I3,useClass:k3,multi:!0,deps:[Ee,l.R0b,l.Lbi]},{provide:I3,useClass:S5,multi:!0,deps:[Ee]},[],{provide:gr,useClass:gr,deps:[Le,Et,l.AFp]},{provide:l.FYo,useExisting:gr},{provide:D3,useExisting:Et},{provide:Et,useClass:Et,deps:[Ee]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:Le,useClass:Le,deps:[I3,l.R0b]},{provide:Ri,useClass:Kr,deps:[]},[]];let T5=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:l.AFp,useValue:e.appId},{provide:At,useExisting:l.AFp},pn]}}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(i,12))},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({providers:Oa,imports:[z3,l.hGG]}),i})();function U6(){return new Ha((0,l.LFG)(Ee))}let Ha=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(Ee))},i.\u0275prov=(0,l.Yz7)({factory:U6,token:i,providedIn:"root"}),i})();"undefined"!=typeof window&&window;var ut=B(4402),$e=B(5917),Nt=B(9765),j6=B(7971);class Y2 extends Nt.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new j6.N;return this._value}next(t){super.next(this._value=t)}}var Ua=B(4869),q6=B(9796),p2=B(7393);class Za extends p2.L{notifyNext(t,e,o,c,f){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class G6 extends p2.L{constructor(t,e,o){super(),this.parent=t,this.outerValue=e,this.outerIndex=o,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Fi=B(7444),Ot=B(7574);function js(i,t,e,o,c=new G6(i,e,o)){if(!c.closed)return t instanceof Ot.y?t.subscribe(c):(0,Fi.s)(t)(c)}var Ba=B(6693);const Z3={};class qs{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ja(t,this.resultSelector))}}class ja extends Za{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Z3),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let o=0;o<e;o++)this.add(js(this,t[o],void 0,o))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,o){const c=this.values,v=this.toRespond?c[o]===Z3?--this.toRespond:this.toRespond:0;c[o]=e,0===v&&(this.resultSelector?this._tryResultSelector(c):this.destination.next(c.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}const _r=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var br=B(3282);function s4(...i){return(0,br.J)(1)((0,$e.of)(...i))}var In=B(9193);function Cr(i){return new Ot.y(t=>{let e;try{e=i()}catch(c){return void t.error(c)}return(e?(0,ut.D)(e):(0,In.c)()).subscribe(t)})}var I5=B(2441),f1=B(8002),Kn=B(5345);function at(i,t){return"function"==typeof t?e=>e.pipe(at((o,c)=>(0,ut.D)(i(o,c)).pipe((0,f1.U)((f,v)=>t(o,f,c,v))))):e=>e.lift(new Ws(i))}class Ws{constructor(t){this.project=t}call(t,e){return e.subscribe(new It(t,this.project))}}class It extends Kn.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const o=this.index++;try{e=this.project(t,o)}catch(c){return void this.destination.error(c)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const o=new Kn.IY(this),c=this.destination;c.add(o),this.innerSubscription=(0,Kn.ft)(t,o),this.innerSubscription!==o&&c.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const qa=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function Mr(i){return t=>0===i?(0,In.c)():t.lift(new D5(i))}class D5{constructor(t){if(this.total=t,this.total<0)throw new qa}call(t,e){return e.subscribe(new Wu(t,this.total))}}class Wu extends p2.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,o=++this.count;o<=e&&(this.destination.next(t),o===e&&(this.destination.complete(),this.unsubscribe()))}}function W6(...i){const t=i[i.length-1];return(0,Ua.K)(t)?(i.pop(),e=>s4(i,e,t)):e=>s4(i,e)}function ei(i,t){let e=!1;return arguments.length>=2&&(e=!0),function(c){return c.lift(new ti(i,t,e))}}class ti{constructor(t,e,o=!1){this.accumulator=t,this.seed=e,this.hasSeed=o}call(t,e){return e.subscribe(new L5(t,this.accumulator,this.seed,this.hasSeed))}}class L5 extends p2.L{constructor(t,e,o,c){super(t),this.accumulator=e,this._seed=o,this.hasSeed=c,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let o;try{o=this.accumulator(this.seed,t,e)}catch(c){this.destination.error(c)}this.seed=o,this.destination.next(o)}}function vn(i,t){return function(o){return o.lift(new ni(i,t))}}class ni{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new c4(t,this.predicate,this.thisArg))}}class c4 extends p2.L{constructor(t,e,o){super(t),this.predicate=e,this.thisArg=o,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(o){return void this.destination.error(o)}e&&this.destination.next(t)}}function J2(i){return function(e){const o=new Gt(i),c=e.lift(o);return o.caught=c}}class Gt{constructor(t){this.selector=t}call(t,e){return e.subscribe(new $6(t,this.selector,this.caught))}}class $6 extends Kn.Ds{constructor(t,e,o){super(t),this.selector=e,this.caught=o}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(f){return void super.error(f)}this._unsubscribeAndRecycle();const o=new Kn.IY(this);this.add(o);const c=(0,Kn.ft)(e,o);c!==o&&this.add(c)}}}var Wt=B(9773);function Bi(i,t){return(0,Wt.zg)(i,t,1)}function B3(i){return function(e){return 0===i?(0,In.c)():e.lift(new gn(i))}}class gn{constructor(t){if(this.total=t,this.total<0)throw new qa}call(t,e){return e.subscribe(new o2(t,this.total))}}class o2 extends p2.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,o=this.total,c=this.count++;e.length<o?e.push(t):e[c%o]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const o=this.count>=this.total?this.total:this.count,c=this.ring;for(let f=0;f<o;f++){const v=e++%o;t.next(c[v])}}t.complete()}}function wr(i=$s){return t=>t.lift(new ri(i))}class ri{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new l4(t,this.errorFactory))}}class l4 extends p2.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function $s(){return new _r}function Q6(i=null){return t=>t.lift(new R5(i))}class R5{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new $u(t,this.defaultValue))}}class $u extends p2.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Qs=B(4487);function $t(i,t){const e=arguments.length>=2;return o=>o.pipe(i?vn((c,f)=>i(c,f,o)):Qs.y,Mr(1),e?Q6(t):wr(()=>new _r))}var Ht=B(3342),ii=B(1307),Y6=B(5319);class J6{constructor(t){this.callback=t}call(t,e){return e.subscribe(new K6(t,this.callback))}}class K6 extends p2.L{constructor(t,e){super(t),this.add(new Y6.w(e))}}class Dn{constructor(t,e){this.id=t,this.url=e}}class q3 extends Dn{constructor(t,e,o="imperative",c=null){super(t,e),this.navigationTrigger=o,this.restoredState=c}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oi extends Dn{constructor(t,e,o){super(t,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ji extends Dn{constructor(t,e,o){super(t,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ai extends Dn{constructor(t,e,o){super(t,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class X6 extends Dn{constructor(t,e,o,c){super(t,e),this.urlAfterRedirects=o,this.state=c}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qu extends Dn{constructor(t,e,o,c){super(t,e),this.urlAfterRedirects=o,this.state=c}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G3 extends Dn{constructor(t,e,o,c,f){super(t,e),this.urlAfterRedirects=o,this.state=c,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wa extends Dn{constructor(t,e,o,c){super(t,e),this.urlAfterRedirects=o,this.state=c}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qi extends Dn{constructor(t,e,o,c){super(t,e),this.urlAfterRedirects=o,this.state=c}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ys{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $a{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class V5{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qa{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class k5{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gi{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u4{constructor(t,e,o){this.routerEvent=t,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const b1="primary";class eo{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function X1(i){return new eo(i)}const W3="ngNavigationCancelingError";function Ya(i){const t=Error("NavigationCancelingError: "+i);return t[W3]=!0,t}function f4(i,t,e){const o=e.path.split("/");if(o.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||o.length<i.length))return null;const c={};for(let f=0;f<o.length;f++){const v=o[f],_=i[f];if(v.startsWith(":"))c[v.substring(1)]=_;else if(v!==_.path)return null}return{consumed:i.slice(0,o.length),posParams:c}}function Ln(i,t){const e=i?Object.keys(i):void 0,o=t?Object.keys(t):void 0;if(!e||!o||e.length!=o.length)return!1;let c;for(let f=0;f<e.length;f++)if(c=e[f],!ci(i[c],t[c]))return!1;return!0}function ci(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),o=[...t].sort();return e.every((c,f)=>o[f]===c)}return i===t}function Ja(i){return Array.prototype.concat.apply([],i)}function li(i){return i.length>0?i[i.length-1]:null}function Pt(i,t){for(const e in i)i.hasOwnProperty(e)&&t(i[e],e)}function Qt(i){return(0,l.CqO)(i)?i:(0,l.QGY)(i)?(0,ut.D)(Promise.resolve(i)):(0,$e.of)(i)}const Ka={exact:function Wi(i,t,e){if(!m4(i.segments,t.segments)||!ro(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const o in t.children)if(!i.children[o]||!Wi(i.children[o],t.children[o],e))return!1;return!0},subset:d4},no={exact:function(i,t){return Ln(i,t)},subset:function(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>ci(i[e],t[e]))},ignored:()=>!0};function Ar(i,t,e){return Ka[e.paths](i.root,t.root,e.matrixParams)&&no[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function d4(i,t,e){return p4(i,t,t.segments,e)}function p4(i,t,e,o){if(i.segments.length>e.length){const c=i.segments.slice(0,e.length);return!(!m4(c,e)||t.hasChildren()||!ro(c,e,o))}if(i.segments.length===e.length){if(!m4(i.segments,e)||!ro(i.segments,e,o))return!1;for(const c in t.children)if(!i.children[c]||!d4(i.children[c],t.children[c],o))return!1;return!0}{const c=e.slice(0,i.segments.length),f=e.slice(i.segments.length);return!!(m4(i.segments,c)&&ro(i.segments,c,o)&&i.children[b1])&&p4(i.children[b1],t,f,o)}}function ro(i,t,e){return t.every((o,c)=>no[e](i[c].parameters,o.parameters))}class Xn{constructor(t,e,o){this.root=t,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=X1(this.queryParams)),this._queryParamMap}toString(){return Q3.serialize(this)}}class T1{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Pt(e,(o,c)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ft(this)}}class $3{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=X1(this.parameters)),this._parameterMap}toString(){return ui(this)}}function m4(i,t){return i.length===t.length&&i.every((e,o)=>e.path===t[o].path)}class Xa{}class v4{parse(t){const e=new e8(t);return new Xn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var i;return`${`/${$i(t.root,!0)}`}${function(i){const t=Object.keys(i).map(e=>{const o=i[e];return Array.isArray(o)?o.map(c=>`${io(e)}=${io(c)}`).join("&"):`${io(e)}=${io(o)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${i=t.fragment,encodeURI(i)}`:""}`}}const Q3=new v4;function Ft(i){return i.segments.map(t=>ui(t)).join("/")}function $i(i,t){if(!i.hasChildren())return Ft(i);if(t){const e=i.children[b1]?$i(i.children[b1],!1):"",o=[];return Pt(i.children,(c,f)=>{f!==b1&&o.push(`${f}:${$i(c,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function(i,t){let e=[];return Pt(i.children,(o,c)=>{c===b1&&(e=e.concat(t(o,c)))}),Pt(i.children,(o,c)=>{c!==b1&&(e=e.concat(t(o,c)))}),e}(i,(o,c)=>c===b1?[$i(i.children[b1],!1)]:[`${c}:${$i(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[b1]?`${Ft(i)}/${e[0]}`:`${Ft(i)}/(${e.join("//")})`}}function Ks(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function io(i){return Ks(i).replace(/%3B/gi,";")}function Y3(i){return Ks(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function J3(i){return decodeURIComponent(i)}function ao(i){return J3(i.replace(/\+/g,"%20"))}function ui(i){return`${Y3(i.path)}${function(i){return Object.keys(i).map(t=>`;${Y3(t)}=${Y3(i[t])}`).join("")}(i.parameters)}`}const Xs=/^[^\/()?;=#]+/;function so(i){const t=i.match(Xs);return t?t[0]:""}const e0=/^[^=?&#]+/,Er=/^[^?&#]+/;class e8{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new T1([],{}):new T1([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(o[b1]=new T1(t,e)),o}parseSegment(){const t=so(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new $3(J3(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=so(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const c=so(this.remaining);c&&(o=c,this.capture(o))}t[J3(e)]=J3(o)}parseQueryParam(t){const e=function(i){const t=i.match(e0);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const v=function(i){const t=i.match(Er);return t?t[0]:""}(this.remaining);v&&(o=v,this.capture(o))}const c=ao(e),f=ao(o);if(t.hasOwnProperty(c)){let v=t[c];Array.isArray(v)||(v=[v],t[c]=v),v.push(f)}else t[c]=f}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=so(this.remaining),c=this.remaining[o.length];if("/"!==c&&")"!==c&&";"!==c)throw new Error(`Cannot parse url '${this.url}'`);let f;o.indexOf(":")>-1?(f=o.substr(0,o.indexOf(":")),this.capture(f),this.capture(":")):t&&(f=b1);const v=this.parseChildren();e[f]=1===Object.keys(v).length?v[b1]:new T1([],v),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class t8{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=t0(t,this._root);return e?e.children.map(o=>o.value):[]}firstChild(t){const e=t0(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=lo(t,this._root);return e.length<2?[]:e[e.length-2].children.map(c=>c.value).filter(c=>c!==t)}pathFromRoot(t){return lo(t,this._root).map(e=>e.value)}}function t0(i,t){if(i===t.value)return t;for(const e of t.children){const o=t0(i,e);if(o)return o}return null}function lo(i,t){if(i===t.value)return[t];for(const e of t.children){const o=lo(i,e);if(o.length)return o.unshift(t),o}return[]}class zr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function K3(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class n0 extends t8{constructor(t,e){super(t),this.snapshot=e,fo(this,t)}toString(){return this.snapshot.toString()}}function uo(i,t){const e=function(i,t){const v=new xr([],{},{},"",{},b1,t,null,i.root,-1,{});return new K2("",new zr(v,[]))}(i,t),o=new Y2([new $3("",{})]),c=new Y2({}),f=new Y2({}),v=new Y2({}),_=new Y2(""),M=new _4(o,c,v,_,f,b1,t,e.root);return M.snapshot=e.root,new n0(new zr(M,[]),e)}class _4{constructor(t,e,o,c,f,v,_,M){this.url=t,this.params=e,this.queryParams=o,this.fragment=c,this.data=f,this.outlet=v,this.component=_,this._futureSnapshot=M}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,f1.U)(t=>X1(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,f1.U)(t=>X1(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function r8(i,t="emptyOnly"){const e=i.pathFromRoot;let o=0;if("always"!==t)for(o=e.length-1;o>=1;){const c=e[o],f=e[o-1];if(c.routeConfig&&""===c.routeConfig.path)o--;else{if(f.component)break;o--}}return function(i){return i.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class xr{constructor(t,e,o,c,f,v,_,M,E,S,I){this.url=t,this.params=e,this.queryParams=o,this.fragment=c,this.data=f,this.outlet=v,this.component=_,this.routeConfig=M,this._urlSegment=E,this._lastPathIndex=S,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=X1(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=X1(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class K2 extends t8{constructor(t,e){super(e),this.url=t,fo(this,e)}toString(){return X2(this._root)}}function fo(i,t){t.value._routerState=i,t.children.forEach(e=>fo(i,e))}function X2(i){const t=i.children.length>0?` { ${i.children.map(X2).join(", ")} } `:"";return`${i.value}${t}`}function er(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Ln(t.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),t.fragment!==e.fragment&&i.fragment.next(e.fragment),Ln(t.params,e.params)||i.params.next(e.params),function(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!Ln(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.url.next(e.url),Ln(t.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function ho(i,t){return Ln(i.params,t.params)&&function(i,t){return m4(i,t)&&i.every((e,o)=>Ln(e.parameters,t[o].parameters))}(i.url,t.url)&&!(!i.parent!=!t.parent)&&(!i.parent||ho(i.parent,t.parent))}function X3(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=t.value;const c=function(i,t,e){return t.children.map(o=>{for(const c of e.children)if(i.shouldReuseRoute(o.value,c.value.snapshot))return X3(i,o,c);return X3(i,o)})}(i,t,e);return new zr(o,c)}{if(i.shouldAttach(t.value)){const f=i.retrieve(t.value);if(null!==f){const v=f.route;return i8(t,v),v}}const o=function(i){return new _4(new Y2(i.url),new Y2(i.params),new Y2(i.queryParams),new Y2(i.fragment),new Y2(i.data),i.outlet,i.component,i)}(t.value),c=t.children.map(f=>X3(i,f));return new zr(o,c)}}function i8(i,t){if(i.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=i.value;for(let e=0;e<i.children.length;++e)i8(i.children[e],t.children[e])}function b4(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Sr(i){return"object"==typeof i&&null!=i&&i.outlets}function o8(i,t,e,o,c){let f={};return o&&Pt(o,(v,_)=>{f[_]=Array.isArray(v)?v.map(M=>`${M}`):`${v}`}),new Xn(e.root===i?t:Z5(e.root,i,t),f,c)}function Z5(i,t,e){const o={};return Pt(i.children,(c,f)=>{o[f]=c===t?e:Z5(c,t,e)}),new T1(i.segments,o)}class e6{constructor(t,e,o){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=o,t&&o.length>0&&b4(o[0]))throw new Error("Root segment cannot have matrix parameters");const c=o.find(Sr);if(c&&c!==li(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class po{constructor(t,e,o){this.segmentGroup=t,this.processChildren=e,this.index=o}}function m2(i,t,e){if(i||(i=new T1([],{})),0===i.segments.length&&i.hasChildren())return C4(i,t,e);const o=function(i,t,e){let o=0,c=t;const f={match:!1,pathIndex:0,commandIndex:0};for(;c<i.segments.length;){if(o>=e.length)return f;const v=i.segments[c],_=e[o];if(Sr(_))break;const M=`${_}`,E=o<e.length-1?e[o+1]:null;if(c>0&&void 0===M)break;if(M&&E&&"object"==typeof E&&void 0===E.outlets){if(!r0(M,E,v))return f;o+=2}else{if(!r0(M,{},v))return f;o++}c++}return{match:!0,pathIndex:c,commandIndex:o}}(i,t,e),c=e.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const f=new T1(i.segments.slice(0,o.pathIndex),{});return f.children[b1]=new T1(i.segments.slice(o.pathIndex),i.children),C4(f,0,c)}return o.match&&0===c.length?new T1(i.segments,{}):o.match&&!i.hasChildren()?Yi(i,t,e):o.match?C4(i,0,c):Yi(i,t,e)}function C4(i,t,e){if(0===e.length)return new T1(i.segments,{});{const o=function(i){return Sr(i[0])?i[0].outlets:{[b1]:i}}(e),c={};return Pt(o,(f,v)=>{"string"==typeof f&&(f=[f]),null!==f&&(c[v]=m2(i.children[v],t,f))}),Pt(i.children,(f,v)=>{void 0===o[v]&&(c[v]=f)}),new T1(i.segments,c)}}function Yi(i,t,e){const o=i.segments.slice(0,t);let c=0;for(;c<e.length;){const f=e[c];if(Sr(f)){const M=et(f.outlets);return new T1(o,M)}if(0===c&&b4(e[0])){o.push(new $3(i.segments[t].path,Ji(e[0]))),c++;continue}const v=Sr(f)?f.outlets[b1]:`${f}`,_=c<e.length-1?e[c+1]:null;v&&_&&b4(_)?(o.push(new $3(v,Ji(_))),c+=2):(o.push(new $3(v,{})),c++)}return new T1(o,{})}function et(i){const t={};return Pt(i,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[o]=Yi(new T1([],{}),0,e))}),t}function Ji(i){const t={};return Pt(i,(e,o)=>t[o]=`${e}`),t}function r0(i,t,e){return i==e.path&&Ln(t,e.parameters)}class Tr{constructor(t,e,o,c){this.routeReuseStrategy=t,this.futureState=e,this.currState=o,this.forwardEvent=c}activate(t){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,t),er(this.futureState.root),this.activateChildRoutes(e,o,t)}deactivateChildRoutes(t,e,o){const c=K3(e);t.children.forEach(f=>{const v=f.value.outlet;this.deactivateRoutes(f,c[v],o),delete c[v]}),Pt(c,(f,v)=>{this.deactivateRouteAndItsChildren(f,o)})}deactivateRoutes(t,e,o){const c=t.value,f=e?e.value:null;if(c===f)if(c.component){const v=o.getContext(c.outlet);v&&this.deactivateChildRoutes(t,e,v.children)}else this.deactivateChildRoutes(t,e,o);else f&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const o=e.getContext(t.value.outlet);if(o&&o.outlet){const c=o.outlet.detach(),f=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const o=e.getContext(t.value.outlet),c=o&&t.value.component?o.children:e,f=K3(t);for(const v of Object.keys(f))this.deactivateRouteAndItsChildren(f[v],c);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(t,e,o){const c=K3(e);t.children.forEach(f=>{this.activateRoutes(f,c[f.value.outlet],o),this.forwardEvent(new Gi(f.value.snapshot))}),t.children.length&&this.forwardEvent(new Qa(t.value.snapshot))}activateRoutes(t,e,o){const c=t.value,f=e?e.value:null;if(er(c),c===f)if(c.component){const v=o.getOrCreateContext(c.outlet);this.activateChildRoutes(t,e,v.children)}else this.activateChildRoutes(t,e,o);else if(c.component){const v=o.getOrCreateContext(c.outlet);if(this.routeReuseStrategy.shouldAttach(c.snapshot)){const _=this.routeReuseStrategy.retrieve(c.snapshot);this.routeReuseStrategy.store(c.snapshot,null),v.children.onOutletReAttached(_.contexts),v.attachRef=_.componentRef,v.route=_.route.value,v.outlet&&v.outlet.attach(_.componentRef,_.route.value),l8(_.route)}else{const _=function(i){for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(c.snapshot),M=_?_.module.componentFactoryResolver:null;v.attachRef=null,v.route=c,v.resolver=M,v.outlet&&v.outlet.activateWith(c,M),this.activateChildRoutes(t,null,v.children)}}else this.activateChildRoutes(t,null,o)}}function l8(i){er(i.value),i.children.forEach(l8)}class t6{constructor(t,e){this.routes=t,this.module=e}}function M4(i){return"function"==typeof i}function Ki(i){return i instanceof Xn}const w4=Symbol("INITIAL_VALUE");function di(){return at(i=>function(...i){let t,e;return(0,Ua.K)(i[i.length-1])&&(e=i.pop()),"function"==typeof i[i.length-1]&&(t=i.pop()),1===i.length&&(0,q6.k)(i[0])&&(i=i[0]),(0,Ba.n)(i,e).lift(new qs(t))}(i.map(t=>t.pipe(Mr(1),W6(w4)))).pipe(ei((t,e)=>{let o=!1;return e.reduce((c,f,v)=>c!==w4?c:(f===w4&&(o=!0),o||!1!==f&&v!==e.length-1&&!Ki(f)?c:f),t)},w4),vn(t=>t!==w4),(0,f1.U)(t=>Ki(t)?t:!0===t),Mr(1)))}let Yt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=l.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&l._UZ(0,"router-outlet")},directives:function(){return[v1]},encapsulation:2}),i})();function pi(i,t=""){for(let e=0;e<i.length;e++){const o=i[e];vo(o,u8(t,o))}}function vo(i,t){i.children&&pi(i.children,t)}function u8(i,t){return t?i||t.path?i&&!t.path?`${i}/`:!i&&t.path?t.path:`${i}/${t.path}`:"":i}function en(i){const t=i.children&&i.children.map(en),e=t?Object.assign(Object.assign({},i),{children:t}):Object.assign({},i);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==b1&&(e.component=Yt),e}function H2(i){return i.outlet||b1}function f8(i,t){const e=i.filter(o=>H2(o)===t);return e.push(...i.filter(o=>H2(o)!==t)),e}const i0={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function go(i,t,e){var o;if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?Object.assign({},i0):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const f=(t.matcher||f4)(e,i,t);if(!f)return Object.assign({},i0);const v={};Pt(f.posParams,(M,E)=>{v[E]=M.path});const _=f.consumed.length>0?Object.assign(Object.assign({},v),f.consumed[f.consumed.length-1].parameters):v;return{matched:!0,consumedSegments:f.consumed,lastChild:f.consumed.length,parameters:_,positionalParamSegments:null!==(o=f.posParams)&&void 0!==o?o:{}}}function e3(i,t,e,o,c="corrected"){if(e.length>0&&function(i,t,e){return e.some(o=>t3(i,t,o)&&H2(o)!==b1)}(i,e,o)){const v=new T1(t,function(i,t,e,o){const c={};c[b1]=o,o._sourceSegment=i,o._segmentIndexShift=t.length;for(const f of e)if(""===f.path&&H2(f)!==b1){const v=new T1([],{});v._sourceSegment=i,v._segmentIndexShift=t.length,c[H2(f)]=v}return c}(i,t,o,new T1(e,i.children)));return v._sourceSegment=i,v._segmentIndexShift=t.length,{segmentGroup:v,slicedSegments:[]}}if(0===e.length&&function(i,t,e){return e.some(o=>t3(i,t,o))}(i,e,o)){const v=new T1(i.segments,function(i,t,e,o,c,f){const v={};for(const _ of o)if(t3(i,e,_)&&!c[H2(_)]){const M=new T1([],{});M._sourceSegment=i,M._segmentIndexShift="legacy"===f?i.segments.length:t.length,v[H2(_)]=M}return Object.assign(Object.assign({},c),v)}(i,t,e,o,i.children,c));return v._sourceSegment=i,v._segmentIndexShift=t.length,{segmentGroup:v,slicedSegments:e}}const f=new T1(i.segments,i.children);return f._sourceSegment=i,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:e}}function t3(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function o0(i,t,e,o){return!!(H2(i)===o||o!==b1&&t3(t,e,i))&&("**"===i.path||go(t,i,e).matched)}function d8(i,t,e){return 0===t.length&&!i.children[e]}class yo{constructor(t){this.segmentGroup=t||null}}class a0{constructor(t){this.urlTree=t}}function mi(i){return new Ot.y(t=>t.error(new yo(i)))}function p8(i){return new Ot.y(t=>t.error(new a0(i)))}function Q5(i){return new Ot.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class J5{constructor(t,e,o,c,f){this.configLoader=e,this.urlSerializer=o,this.urlTree=c,this.config=f,this.allowRedirects=!0,this.ngModule=t.get(l.h0i)}apply(){const t=e3(this.urlTree.root,[],[],this.config).segmentGroup,e=new T1(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,b1).pipe((0,f1.U)(f=>this.createUrlTree(s0(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe(J2(f=>{if(f instanceof a0)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof yo?this.noMatchError(f):f}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,b1).pipe((0,f1.U)(c=>this.createUrlTree(s0(c),t.queryParams,t.fragment))).pipe(J2(c=>{throw c instanceof yo?this.noMatchError(c):c}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,o){const c=t.segments.length>0?new T1([],{[b1]:t}):t;return new Xn(c,e,o)}expandSegmentGroup(t,e,o,c){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(t,e,o).pipe((0,f1.U)(f=>new T1([],f))):this.expandSegment(t,o,e,o.segments,c,!0)}expandChildren(t,e,o){const c=[];for(const f of Object.keys(o.children))"primary"===f?c.unshift(f):c.push(f);return(0,ut.D)(c).pipe(Bi(f=>{const v=o.children[f],_=f8(e,f);return this.expandSegmentGroup(t,_,v,f).pipe((0,f1.U)(M=>({segment:M,outlet:f})))}),ei((f,v)=>(f[v.outlet]=v.segment,f),{}),function(i,t){const e=arguments.length>=2;return o=>o.pipe(i?vn((c,f)=>i(c,f,o)):Qs.y,B3(1),e?Q6(t):wr(()=>new _r))}())}expandSegment(t,e,o,c,f,v){return(0,ut.D)(o).pipe(Bi(_=>this.expandSegmentAgainstRoute(t,e,o,_,c,f,v).pipe(J2(E=>{if(E instanceof yo)return(0,$e.of)(null);throw E}))),$t(_=>!!_),J2((_,M)=>{if(_ instanceof _r||"EmptyError"===_.name){if(d8(e,c,f))return(0,$e.of)(new T1([],{}));throw new yo(e)}throw _}))}expandSegmentAgainstRoute(t,e,o,c,f,v,_){return o0(c,e,f,v)?void 0===c.redirectTo?this.matchSegmentAgainstRoute(t,e,c,f,v):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,o,c,f,v):mi(e):mi(e)}expandSegmentAgainstRouteUsingRedirect(t,e,o,c,f,v){return"**"===c.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,o,c,v):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,c,f,v)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,o,c){const f=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?p8(f):this.lineralizeSegments(o,f).pipe((0,Wt.zg)(v=>{const _=new T1(v,{});return this.expandSegment(t,_,e,v,c,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,c,f,v){const{matched:_,consumedSegments:M,lastChild:E,positionalParamSegments:S}=go(e,c,f);if(!_)return mi(e);const I=this.applyRedirectCommands(M,c.redirectTo,S);return c.redirectTo.startsWith("/")?p8(I):this.lineralizeSegments(c,I).pipe((0,Wt.zg)(R=>this.expandSegment(t,e,o,R.concat(f.slice(E)),v,!1)))}matchSegmentAgainstRoute(t,e,o,c,f){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,$e.of)(o._loadedConfig):this.configLoader.load(t.injector,o)).pipe((0,f1.U)(R=>(o._loadedConfig=R,new T1(c,{})))):(0,$e.of)(new T1(c,{}));const{matched:v,consumedSegments:_,lastChild:M}=go(e,o,c);if(!v)return mi(e);const E=c.slice(M);return this.getChildConfig(t,o,c).pipe((0,Wt.zg)(I=>{const R=I.module,O=I.routes,{segmentGroup:U,slicedSegments:J}=e3(e,_,E,O),le=new T1(U.segments,U.children);if(0===J.length&&le.hasChildren())return this.expandChildren(R,O,le).pipe((0,f1.U)(Re=>new T1(_,Re)));if(0===O.length&&0===J.length)return(0,$e.of)(new T1(_,{}));const ge=H2(o)===f;return this.expandSegment(R,le,O,J,ge?b1:f,!0).pipe((0,f1.U)(xe=>new T1(_.concat(xe.segments),xe.children)))}))}getChildConfig(t,e,o){return e.children?(0,$e.of)(new t6(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,$e.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,o).pipe((0,Wt.zg)(c=>{return c?this.configLoader.load(t.injector,e).pipe((0,f1.U)(f=>(e._loadedConfig=f,f))):(i=e,new Ot.y(t=>t.error(Ya(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,$e.of)(new t6([],t))}runCanLoadGuards(t,e,o){const c=e.canLoad;if(!c||0===c.length)return(0,$e.of)(!0);const f=c.map(v=>{const _=t.get(v);let M;if((i=_)&&M4(i.canLoad))M=_.canLoad(e,o);else{if(!M4(_))throw new Error("Invalid CanLoad guard");M=_(e,o)}var i;return Qt(M)});return(0,$e.of)(f).pipe(di(),(0,Ht.b)(v=>{if(!Ki(v))return;const _=Ya(`Redirecting to "${this.urlSerializer.serialize(v)}"`);throw _.url=v,_}),(0,f1.U)(v=>!0===v))}lineralizeSegments(t,e){let o=[],c=e.root;for(;;){if(o=o.concat(c.segments),0===c.numberOfChildren)return(0,$e.of)(o);if(c.numberOfChildren>1||!c.children[b1])return Q5(t.redirectTo);c=c.children[b1]}}applyRedirectCommands(t,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,o)}applyRedirectCreatreUrlTree(t,e,o,c){const f=this.createSegmentGroup(t,e.root,o,c);return new Xn(f,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const o={};return Pt(t,(c,f)=>{if("string"==typeof c&&c.startsWith(":")){const _=c.substring(1);o[f]=e[_]}else o[f]=c}),o}createSegmentGroup(t,e,o,c){const f=this.createSegments(t,e.segments,o,c);let v={};return Pt(e.children,(_,M)=>{v[M]=this.createSegmentGroup(t,_,o,c)}),new T1(f,v)}createSegments(t,e,o,c){return e.map(f=>f.path.startsWith(":")?this.findPosParam(t,f,c):this.findOrReturn(f,o))}findPosParam(t,e,o){const c=o[e.path.substring(1)];if(!c)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return c}findOrReturn(t,e){let o=0;for(const c of e){if(c.path===t.path)return e.splice(o),c;o++}return t}}function s0(i){const t={};for(const o of Object.keys(i.children)){const f=s0(i.children[o]);(f.segments.length>0||f.hasChildren())&&(t[o]=f)}return function(i){if(1===i.numberOfChildren&&i.children[b1]){const t=i.children[b1];return new T1(i.segments.concat(t.segments),t.children)}return i}(new T1(i.segments,t))}class n6{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class a2{constructor(t,e){this.component=t,this.route=e}}function c0(i,t,e){const o=i._root;return _o(o,t?t._root:null,e,[o.value])}function r6(i,t,e){const o=function(i){if(!i)return null;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(o?o.module.injector:e).get(i)}function _o(i,t,e,o,c={canDeactivateChecks:[],canActivateChecks:[]}){const f=K3(t);return i.children.forEach(v=>{(function(i,t,e,o,c={canDeactivateChecks:[],canActivateChecks:[]}){const f=i.value,v=t?t.value:null,_=e?e.getContext(i.value.outlet):null;if(v&&f.routeConfig===v.routeConfig){const M=function(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!m4(i.url,t.url);case"pathParamsOrQueryParamsChange":return!m4(i.url,t.url)||!Ln(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ho(i,t)||!Ln(i.queryParams,t.queryParams);case"paramsChange":default:return!ho(i,t)}}(v,f,f.routeConfig.runGuardsAndResolvers);M?c.canActivateChecks.push(new n6(o)):(f.data=v.data,f._resolvedData=v._resolvedData),_o(i,t,f.component?_?_.children:null:e,o,c),M&&_&&_.outlet&&_.outlet.isActivated&&c.canDeactivateChecks.push(new a2(_.outlet.component,v))}else v&&r3(t,_,c),c.canActivateChecks.push(new n6(o)),_o(i,null,f.component?_?_.children:null:e,o,c)})(v,f[v.value.outlet],e,o.concat([v.value]),c),delete f[v.value.outlet]}),Pt(f,(v,_)=>r3(v,e.getContext(_),c)),c}function r3(i,t,e){const o=K3(i),c=i.value;Pt(o,(f,v)=>{r3(f,c.component?t?t.children.getContext(v):null:t,e)}),e.canDeactivateChecks.push(new a2(c.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,c))}class l0{}function A4(i){return new Ot.y(t=>t.error(i))}class E4{constructor(t,e,o,c,f,v){this.rootComponentType=t,this.config=e,this.urlTree=o,this.url=c,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=v}recognize(){const t=e3(this.urlTree.root,[],[],this.config.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,b1);if(null===e)return null;const o=new xr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},b1,this.rootComponentType,null,this.urlTree.root,-1,{}),c=new zr(o,e),f=new K2(this.url,c);return this.inheritParamsAndData(f._root),f}inheritParamsAndData(t){const e=t.value,o=r8(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),t.children.forEach(c=>this.inheritParamsAndData(c))}processSegmentGroup(t,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,o)}processChildren(t,e){const o=[];for(const f of Object.keys(e.children)){const v=e.children[f],_=f8(t,f),M=this.processSegmentGroup(_,v,f);if(null===M)return null;o.push(...M)}const c=bo(o);return c.sort((t,e)=>t.value.outlet===b1?-1:e.value.outlet===b1?1:t.value.outlet.localeCompare(e.value.outlet)),c}processSegment(t,e,o,c){for(const f of t){const v=this.processSegmentAgainstRoute(f,e,o,c);if(null!==v)return v}return d8(e,o,c)?[]:null}processSegmentAgainstRoute(t,e,o,c){if(t.redirectTo||!o0(t,e,o,c))return null;let f,v=[],_=[];if("**"===t.path){const O=o.length>0?li(o).parameters:{};f=new xr(o,O,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vi(t),H2(t),t.component,t,u0(e),t7(e)+o.length,Co(t))}else{const O=go(e,t,o);if(!O.matched)return null;v=O.consumedSegments,_=o.slice(O.lastChild),f=new xr(v,O.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,vi(t),H2(t),t.component,t,u0(e),t7(e)+v.length,Co(t))}const M=(i=t).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:E,slicedSegments:S}=e3(e,v,_,M.filter(O=>void 0===O.redirectTo),this.relativeLinkResolution);var i;if(0===S.length&&E.hasChildren()){const O=this.processChildren(M,E);return null===O?null:[new zr(f,O)]}if(0===M.length&&0===S.length)return[new zr(f,[])];const I=H2(t)===c,R=this.processSegment(M,E,S,I?b1:c);return null===R?null:[new zr(f,R)]}}function C8(i){const t=i.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function bo(i){const t=[],e=new Set;for(const o of i){if(!C8(o)){t.push(o);continue}const c=t.find(f=>o.value.routeConfig===f.value.routeConfig);void 0!==c?(c.children.push(...o.children),e.add(c)):t.push(o)}for(const o of e){const c=bo(o.children);t.push(new zr(o.value,c))}return t.filter(o=>!e.has(o))}function u0(i){let t=i;for(;t._sourceSegment;)t=t._sourceSegment;return t}function t7(i){let t=i,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function vi(i){return i.data||{}}function Co(i){return i.resolve||{}}function h0(i){return at(t=>{const e=i(t);return e?(0,ut.D)(e).pipe((0,f1.U)(()=>t)):(0,$e.of)(t)})}class s7 extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Mo=new l.OlP("ROUTES");class wo{constructor(t,e,o,c){this.loader=t,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=c}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const c=this.loadModuleFactory(e.loadChildren).pipe((0,f1.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(e);const v=f.create(t);return new t6(Ja(v.injector.get(Mo,void 0,l.XFs.Self|l.XFs.Optional)).map(en),v)}),J2(f=>{throw e._loader$=void 0,f}));return e._loader$=new I5.c(c,()=>new Nt.xQ).pipe((0,ii.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,ut.D)(this.loader.load(t)):Qt(t()).pipe((0,Wt.zg)(e=>e instanceof l.YKP?(0,$e.of)(e):(0,ut.D)(this.compiler.compileModuleAsync(e))))}}class p{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new d,this.attachRef=null}}class d{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const o=this.getOrCreateContext(t);o.outlet=e,this.contexts.set(t,o)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new p,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class b{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function A(i){throw i}function x(i,t,e){return t.parse("/")}function N(i,t){return(0,$e.of)(null)}const V={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},P={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Z=(()=>{class i{constructor(e,o,c,f,v,_,M,E){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=c,this.location=f,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Nt.xQ,this.errorHandler=A,this.malformedUriErrorHandler=x,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:N,afterPreactivation:N},this.urlHandlingStrategy=new b,this.routeReuseStrategy=new s7,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=v.get(l.h0i),this.console=v.get(l.c2e);const R=v.get(l.R0b);this.isNgZoneEnabled=R instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=new Xn(new T1([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new wo(_,M,O=>this.triggerEvent(new Ys(O)),O=>this.triggerEvent(new $a(O))),this.routerState=uo(this.currentUrlTree,this.rootComponentType),this.transitions=new Y2({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(vn(c=>0!==c.id),(0,f1.U)(c=>Object.assign(Object.assign({},c),{extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),at(c=>{let f=!1,v=!1;return(0,$e.of)(c).pipe((0,Ht.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),at(_=>{const M=!this.navigated||_.extractedUrl.toString()!==this.browserUrlTree.toString(),E=("reload"===this.onSameUrlNavigation||M)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl);if(ue(_.source)&&(this.browserUrlTree=_.rawUrl),E)return(0,$e.of)(_).pipe(at(S=>{const I=this.transitions.getValue();return o.next(new q3(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),I!==this.transitions.getValue()?In.E:Promise.resolve(S)}),function(i,t,e,o){return at(c=>function(i,t,e,o,c){return new J5(i,t,e,o,c).apply()}(i,t,e,c.extractedUrl,o).pipe((0,f1.U)(f=>Object.assign(Object.assign({},c),{urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ht.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function(i,t,e,o,c){return(0,Wt.zg)(f=>function(i,t,e,o,c="emptyOnly",f="legacy"){try{const v=new E4(i,t,e,o,c,f).recognize();return null===v?A4(new l0):(0,$e.of)(v)}catch(v){return A4(v)}}(i,t,f.urlAfterRedirects,e(f.urlAfterRedirects),o,c).pipe((0,f1.U)(v=>Object.assign(Object.assign({},f),{targetSnapshot:v}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ht.b)(S=>{"eager"===this.urlUpdateStrategy&&(S.extras.skipLocationChange||this.setBrowserUrl(S.urlAfterRedirects,S),this.browserUrlTree=S.urlAfterRedirects);const I=new X6(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);o.next(I)}));if(M&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:I,extractedUrl:R,source:O,restoredState:U,extras:J}=_,le=new q3(I,this.serializeUrl(R),O,U);o.next(le);const ge=uo(R,this.rootComponentType).snapshot;return(0,$e.of)(Object.assign(Object.assign({},_),{targetSnapshot:ge,urlAfterRedirects:R,extras:Object.assign(Object.assign({},J),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,this.browserUrlTree=_.urlAfterRedirects,_.resolve(null),In.E}),h0(_=>{const{targetSnapshot:M,id:E,extractedUrl:S,rawUrl:I,extras:{skipLocationChange:R,replaceUrl:O}}=_;return this.hooks.beforePreactivation(M,{navigationId:E,appliedUrlTree:S,rawUrlTree:I,skipLocationChange:!!R,replaceUrl:!!O})}),(0,Ht.b)(_=>{const M=new Qu(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(M)}),(0,f1.U)(_=>Object.assign(Object.assign({},_),{guards:c0(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(i,t){return(0,Wt.zg)(e=>{const{targetSnapshot:o,currentSnapshot:c,guards:{canActivateChecks:f,canDeactivateChecks:v}}=e;return 0===v.length&&0===f.length?(0,$e.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(i,t,e,o){return(0,ut.D)(i).pipe((0,Wt.zg)(c=>function(i,t,e,o,c){const f=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,$e.of)(!0);const v=f.map(_=>{const M=r6(_,t,c);let E;if(function(i){return i&&M4(i.canDeactivate)}(M))E=Qt(M.canDeactivate(i,t,e,o));else{if(!M4(M))throw new Error("Invalid CanDeactivate guard");E=Qt(M(i,t,e,o))}return E.pipe($t())});return(0,$e.of)(v).pipe(di())}(c.component,c.route,e,t,o)),$t(c=>!0!==c,!0))}(v,o,c,i).pipe((0,Wt.zg)(_=>_&&function(i){return"boolean"==typeof i}(_)?function(i,t,e,o){return(0,ut.D)(t).pipe(Bi(c=>s4(function(i,t){return null!==i&&t&&t(new V5(i)),(0,$e.of)(!0)}(c.route.parent,o),function(i,t){return null!==i&&t&&t(new k5(i)),(0,$e.of)(!0)}(c.route,o),function(i,t,e){const o=t[t.length-1],f=t.slice(0,t.length-1).reverse().map(v=>function(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(v)).filter(v=>null!==v).map(v=>Cr(()=>{const _=v.guards.map(M=>{const E=r6(M,v.node,e);let S;if(function(i){return i&&M4(i.canActivateChild)}(E))S=Qt(E.canActivateChild(o,i));else{if(!M4(E))throw new Error("Invalid CanActivateChild guard");S=Qt(E(o,i))}return S.pipe($t())});return(0,$e.of)(_).pipe(di())}));return(0,$e.of)(f).pipe(di())}(i,c.path,e),function(i,t,e){const o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||0===o.length)return(0,$e.of)(!0);const c=o.map(f=>Cr(()=>{const v=r6(f,t,e);let _;if(function(i){return i&&M4(i.canActivate)}(v))_=Qt(v.canActivate(t,i));else{if(!M4(v))throw new Error("Invalid CanActivate guard");_=Qt(v(t,i))}return _.pipe($t())}));return(0,$e.of)(c).pipe(di())}(i,c.route,e))),$t(c=>!0!==c,!0))}(o,f,i,t):(0,$e.of)(_)),(0,f1.U)(_=>Object.assign(Object.assign({},e),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,Ht.b)(_=>{if(Ki(_.guardsResult)){const E=Ya(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw E.url=_.guardsResult,E}const M=new G3(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(M)}),vn(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),h0(_=>{if(_.guards.canActivateChecks.length)return(0,$e.of)(_).pipe((0,Ht.b)(M=>{const E=new Wa(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);this.triggerEvent(E)}),at(M=>{let E=!1;return(0,$e.of)(M).pipe(function(i,t){return(0,Wt.zg)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:c}}=e;if(!c.length)return(0,$e.of)(e);let f=0;return(0,ut.D)(c).pipe(Bi(v=>function(i,t,e,o){return function(i,t,e,o){const c=Object.keys(i);if(0===c.length)return(0,$e.of)({});const f={};return(0,ut.D)(c).pipe((0,Wt.zg)(v=>function(i,t,e,o){const c=r6(i,t,o);return Qt(c.resolve?c.resolve(t,e):c(t,e))}(i[v],t,e,o).pipe((0,Ht.b)(_=>{f[v]=_}))),B3(1),(0,Wt.zg)(()=>Object.keys(f).length===c.length?(0,$e.of)(f):In.E))}(i._resolve,i,t,o).pipe((0,f1.U)(f=>(i._resolvedData=f,i.data=Object.assign(Object.assign({},i.data),r8(i,e).resolve),null)))}(v.route,o,i,t)),(0,Ht.b)(()=>f++),B3(1),(0,Wt.zg)(v=>f===c.length?(0,$e.of)(e):In.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ht.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(M),this.cancelNavigationTransition(M,"At least one route resolver didn't emit any value."))}}))}),(0,Ht.b)(M=>{const E=new qi(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);this.triggerEvent(E)}))}),h0(_=>{const{targetSnapshot:M,id:E,extractedUrl:S,rawUrl:I,extras:{skipLocationChange:R,replaceUrl:O}}=_;return this.hooks.afterPreactivation(M,{navigationId:E,appliedUrlTree:S,rawUrlTree:I,skipLocationChange:!!R,replaceUrl:!!O})}),(0,f1.U)(_=>{const M=function(i,t,e){const o=X3(i,t._root,e?e._root:void 0);return new n0(o,t)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return Object.assign(Object.assign({},_),{targetRouterState:M})}),(0,Ht.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((i,t,e)=>(0,f1.U)(o=>(new Tr(t,o.targetRouterState,o.currentRouterState,e).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,Ht.b)({next(){f=!0},complete(){f=!0}}),function(i){return t=>t.lift(new J6(i))}(()=>{if(!f&&!v){const _=`Navigation ID ${c.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(c),this.cancelNavigationTransition(c,_)):this.cancelNavigationTransition(c,_)}this.currentNavigation=null}),J2(_=>{if(v=!0,function(i){return i&&i[W3]}(_)){const M=Ki(_.url);M||(this.navigated=!0,this.restoreHistory(c,!0));const E=new ji(c.id,this.serializeUrl(c.extractedUrl),_.message);o.next(E),M?setTimeout(()=>{const S=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),I={skipLocationChange:c.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ue(c.source)};this.scheduleNavigation(S,"imperative",null,I,{resolve:c.resolve,reject:c.reject,promise:c.promise})},0):c.resolve(!1)}else{this.restoreHistory(c,!0);const M=new ai(c.id,this.serializeUrl(c.extractedUrl),_);o.next(M);try{c.resolve(this.errorHandler(_))}catch(E){c.reject(E)}}return In.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:c,state:f,urlTree:v}=o,_={replaceUrl:!0};if(f){const M=Object.assign({},f);delete M.navigationId,delete M.\u0275routerPageId,0!==Object.keys(M).length&&(_.state=M)}this.scheduleNavigation(v,c,f,_)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(e){var o;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,o){if(!e)return!0;const c=o.urlTree.toString()===e.urlTree.toString();return o.transitionId!==e.transitionId||!c||!("hashchange"===o.source&&"popstate"===e.source||"popstate"===o.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){pi(e),this.config=e.map(en),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:c,queryParams:f,fragment:v,queryParamsHandling:_,preserveFragment:M}=o,E=c||this.routerState.root,S=M?this.currentUrlTree.fragment:v;let I=null;switch(_){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),f);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=f||null}return null!==I&&(I=this.removeEmptyProps(I)),function(i,t,e,o,c){if(0===e.length)return o8(t.root,t.root,t,o,c);const f=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new e6(!0,0,i);let t=0,e=!1;const o=i.reduce((c,f,v)=>{if("object"==typeof f&&null!=f){if(f.outlets){const _={};return Pt(f.outlets,(M,E)=>{_[E]="string"==typeof M?M.split("/"):M}),[...c,{outlets:_}]}if(f.segmentPath)return[...c,f.segmentPath]}return"string"!=typeof f?[...c,f]:0===v?(f.split("/").forEach((_,M)=>{0==M&&"."===_||(0==M&&""===_?e=!0:".."===_?t++:""!=_&&c.push(_))}),c):[...c,f]},[]);return new e6(e,t,o)}(e);if(f.toRoot())return o8(t.root,new T1([],{}),t,o,c);const v=function(i,t,e){if(i.isAbsolute)return new po(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const f=e.snapshot._urlSegment;return new po(f,f===t.root,0)}const o=b4(i.commands[0])?0:1;return function(i,t,e){let o=i,c=t,f=e;for(;f>c;){if(f-=c,o=o.parent,!o)throw new Error("Invalid number of '../'");c=o.segments.length}return new po(o,!1,c-f)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(f,t,i),_=v.processChildren?C4(v.segmentGroup,v.index,f.commands):m2(v.segmentGroup,v.index,f.commands);return o8(v.segmentGroup,_,t,o,c)}(E,this.currentUrlTree,e,I,null!=S?S:null)}navigateByUrl(e,o={skipLocationChange:!1}){const c=Ki(e)?e:this.parseUrl(e),f=this.urlHandlingStrategy.merge(c,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function(i){for(let t=0;t<i.length;t++){const e=i[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(c){o=this.malformedUriErrorHandler(c,this.urlSerializer,e)}return o}isActive(e,o){let c;if(c=!0===o?Object.assign({},V):!1===o?Object.assign({},P):o,Ki(e))return Ar(this.currentUrlTree,e,c);const f=this.parseUrl(e);return Ar(this.currentUrlTree,f,c)}removeEmptyProps(e){return Object.keys(e).reduce((o,c)=>{const f=e[c];return null!=f&&(o[c]=f),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new oi(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,o,c,f,v){var _,M;if(this.disposed)return Promise.resolve(!1);const E=this.getTransition(),S=ue(o)&&E&&!ue(E.source),O=(this.lastSuccessfulId===E.id||this.currentNavigation?E.rawUrl:E.urlAfterRedirects).toString()===e.toString();if(S&&O)return Promise.resolve(!0);let U,J,le;v?(U=v.resolve,J=v.reject,le=v.promise):le=new Promise((xe,Re)=>{U=xe,J=Re});const ge=++this.navigationId;let Ae;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(c=this.location.getState()),Ae=c&&c.\u0275routerPageId?c.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?null!==(_=this.browserPageId)&&void 0!==_?_:0:(null!==(M=this.browserPageId)&&void 0!==M?M:0)+1):Ae=0,this.setTransition({id:ge,targetPageId:Ae,source:o,restoredState:c,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:f,resolve:U,reject:J,promise:le,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),le.catch(xe=>Promise.reject(xe))}setBrowserUrl(e,o){const c=this.urlSerializer.serialize(e),f=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(c)||o.extras.replaceUrl?this.location.replaceState(c,"",f):this.location.go(c,"",f)}restoreHistory(e,o=!1){var c,f;if("computed"===this.canceledNavigationResolution){const v=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)||0===v?this.currentUrlTree===(null===(f=this.currentNavigation)||void 0===f?void 0:f.finalUrl)&&0===v&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(v)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const c=new ji(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(c),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(l.DyG),l.LFG(Xa),l.LFG(d),l.LFG(t1),l.LFG(l.zs3),l.LFG(l.v3s),l.LFG(l.Sil),l.LFG(void 0))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})();function ue(i){return"imperative"!==i}let we=(()=>{class i{constructor(e,o,c,f,v){this.router=e,this.route=o,this.commands=[],this.onChanges=new Nt.xQ,null==c&&f.setAttribute(v.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:Fe(this.skipLocationChange),replaceUrl:Fe(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Fe(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(Z),l.Y36(_4),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},i.\u0275dir=l.lG2({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,o){1&e&&l.NdJ("click",function(){return o.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[l.TTD]}),i})(),ke=(()=>{class i{constructor(e,o,c){this.router=e,this.route=o,this.locationStrategy=c,this.commands=[],this.onChanges=new Nt.xQ,this.subscription=e.events.subscribe(f=>{f instanceof oi&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,o,c,f,v){if(0!==e||o||c||f||v||"string"==typeof this.target&&"_self"!=this.target)return!0;const _={skipLocationChange:Fe(this.skipLocationChange),replaceUrl:Fe(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Fe(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(Z),l.Y36(_4),l.Y36(Be))},i.\u0275dir=l.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,o){1&e&&l.NdJ("click",function(f){return o.onClick(f.button,f.ctrlKey,f.shiftKey,f.altKey,f.metaKey)}),2&e&&(l.Ikx("href",o.href,l.LSH),l.uIk("target",o.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[l.TTD]}),i})();function Fe(i){return""===i||!!i}let v1=(()=>{class i{constructor(e,o,c,f,v){this.parentContexts=e,this.location=o,this.resolver=c,this.changeDetector=v,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.name=f||b1,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const v=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,M=new Dt(e,_,this.location.injector);this.activated=this.location.createComponent(v,this.location.length,M),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(d),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},i.\u0275dir=l.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class Dt{constructor(t,e,o){this.route=t,this.childContexts=e,this.parent=o}get(t,e){return t===_4?this.route:t===d?this.childContexts:this.parent.get(t,e)}}class yn{}class i6{preload(t,e){return(0,$e.of)(null)}}let a3=(()=>{class i{constructor(e,o,c,f,v){this.router=e,this.injector=f,this.preloadingStrategy=v,this.loader=new wo(o,c,E=>e.triggerEvent(new Ys(E)),E=>e.triggerEvent(new $a(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(vn(e=>e instanceof oi),Bi(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(l.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const c=[];for(const f of o)if(f.loadChildren&&!f.canLoad&&f._loadedConfig){const v=f._loadedConfig;c.push(this.processRoutes(v.module,v.routes))}else f.loadChildren&&!f.canLoad?c.push(this.preloadConfig(e,f)):f.children&&c.push(this.processRoutes(e,f.children));return(0,ut.D)(c).pipe((0,br.J)(),(0,f1.U)(f=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,$e.of)(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,Wt.zg)(f=>(o._loadedConfig=f,this.processRoutes(f.module,f.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(Z),l.LFG(l.v3s),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(yn))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})(),gi=(()=>{class i{constructor(e,o,c={}){this.router=e,this.viewportScroller=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof q3?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof oi&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof u4&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new u4(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(Z),l.LFG(lt),l.LFG(void 0))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})();const s3=new l.OlP("ROUTER_CONFIGURATION"),tf=new l.OlP("ROUTER_FORROOT_GUARD"),nf=[t1,{provide:Xa,useClass:v4},{provide:Z,useFactory:function(i,t,e,o,c,f,v,_={},M,E){const S=new Z(null,i,t,e,o,c,f,Ja(v));return M&&(S.urlHandlingStrategy=M),E&&(S.routeReuseStrategy=E),function(i,t){i.errorHandler&&(t.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(t.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(t.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(t.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(t.urlUpdateStrategy=i.urlUpdateStrategy)}(_,S),_.enableTracing&&S.events.subscribe(I=>{var R,O;null===(R=console.group)||void 0===R||R.call(console,`Router Event: ${I.constructor.name}`),console.log(I.toString()),console.log(I),null===(O=console.groupEnd)||void 0===O||O.call(console)}),S},deps:[Xa,d,t1,l.zs3,l.v3s,l.Sil,Mo,s3,[class{},new l.FiY],[class{},new l.FiY]]},d,{provide:_4,useFactory:function(i){return i.routerState.root},deps:[Z]},{provide:l.v3s,useClass:l.EAV},a3,i6,class{preload(t,e){return e().pipe(J2(()=>(0,$e.of)(null)))}},{provide:s3,useValue:{enableTracing:!1}}];function c7(){return new l.PXZ("Router",Z)}let l7=(()=>{class i{constructor(e,o){}static forRoot(e,o){return{ngModule:i,providers:[nf,u7(e),{provide:tf,useFactory:hy,deps:[[Z,new l.FiY,new l.tp0]]},{provide:s3,useValue:o||{}},{provide:Be,useFactory:rf,deps:[oe,[new l.tBr(Se),new l.FiY],s3]},{provide:gi,useFactory:$T,deps:[Z,lt,s3]},{provide:yn,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:i6},{provide:l.PXZ,multi:!0,useFactory:c7},[f7,{provide:l.ip1,multi:!0,useFactory:of,deps:[f7]},{provide:af,useFactory:my,deps:[f7]},{provide:l.tb,multi:!0,useExisting:af}]]}}static forChild(e){return{ngModule:i,providers:[u7(e)]}}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(tf,8),l.LFG(Z,8))},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({}),i})();function $T(i,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new gi(i,t,e)}function rf(i,t,e={}){return e.useHash?new g1(i,t):new Xe(i,t)}function hy(i){return"guarded"}function u7(i){return[{provide:l.deG,multi:!0,useValue:i},{provide:Mo,multi:!0,useValue:i}]}let f7=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Nt.xQ}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const c=new Promise(_=>o=_),f=this.injector.get(Z),v=this.injector.get(s3);return"disabled"===v.initialNavigation?(f.setUpLocationChangeListener(),o(!0)):"enabled"===v.initialNavigation||"enabledBlocking"===v.initialNavigation?(f.hooks.afterPreactivation=()=>this.initNavigation?(0,$e.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),f.initialNavigation()):o(!0),c})}bootstrapListener(e){const o=this.injector.get(s3),c=this.injector.get(a3),f=this.injector.get(gi),v=this.injector.get(Z),_=this.injector.get(l.z2F);e===_.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&v.initialNavigation(),c.setUpPreloading(),f.init(),v.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(l.zs3))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})();function of(i){return i.appInitializer.bind(i)}function my(i){return i.bootstrapListener.bind(i)}const af=new l.OlP("Router Initializer");var I7={prefix:"fab",iconName:"facebook-f",icon:[320,512,[],"f39e","M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"]},D7={prefix:"fab",iconName:"facebook-square",icon:[448,512,[],"f082","M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"]},y0={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]},N8={prefix:"fab",iconName:"instagram-square",icon:[448,512,[],"e055","M224,202.66A53.34,53.34,0,1,0,277.36,256,53.38,53.38,0,0,0,224,202.66Zm124.71-41a54,54,0,0,0-30.41-30.41c-21-8.29-71-6.43-94.3-6.43s-73.25-1.93-94.31,6.43a54,54,0,0,0-30.41,30.41c-8.28,21-6.43,71.05-6.43,94.33S91,329.26,99.32,350.33a54,54,0,0,0,30.41,30.41c21,8.29,71,6.43,94.31,6.43s73.24,1.93,94.3-6.43a54,54,0,0,0,30.41-30.41c8.35-21,6.43-71.05,6.43-94.33S357.1,182.74,348.75,161.67ZM224,338a82,82,0,1,1,82-82A81.9,81.9,0,0,1,224,338Zm85.38-148.3a19.14,19.14,0,1,1,19.13-19.14A19.1,19.1,0,0,1,309.42,189.74ZM400,32H48A48,48,0,0,0,0,80V432a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V80A48,48,0,0,0,400,32ZM382.88,322c-1.29,25.63-7.14,48.34-25.85,67s-41.4,24.63-67,25.85c-26.41,1.49-105.59,1.49-132,0-25.63-1.29-48.26-7.15-67-25.85s-24.63-41.42-25.85-67c-1.49-26.42-1.49-105.61,0-132,1.29-25.63,7.07-48.34,25.85-67s41.47-24.56,67-25.78c26.41-1.49,105.59-1.49,132,0,25.63,1.29,48.33,7.15,67,25.85s24.63,41.42,25.85,67.05C384.37,216.44,384.37,295.56,382.88,322Z"]},F8={prefix:"fab",iconName:"youtube-square",icon:[448,512,[],"f431","M186.8 202.1l95.2 54.1-95.2 54.1V202.1zM448 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h352c26.5 0 48 21.5 48 48zm-42 176.3s0-59.6-7.6-88.2c-4.2-15.8-16.5-28.2-32.2-32.4C337.9 128 224 128 224 128s-113.9 0-142.2 7.7c-15.7 4.2-28 16.6-32.2 32.4-7.6 28.5-7.6 88.2-7.6 88.2s0 59.6 7.6 88.2c4.2 15.8 16.5 27.7 32.2 31.9C110.1 384 224 384 224 384s113.9 0 142.2-7.7c15.7-4.2 28-16.1 32.2-31.9 7.6-28.5 7.6-88.1 7.6-88.1z"]},pl={prefix:"fas",iconName:"bars",icon:[448,512,[],"f0c9","M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"]},IM={prefix:"fas",iconName:"check-circle",icon:[512,512,[],"f058","M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"]},tc={prefix:"fas",iconName:"envelope-square",icon:[448,512,[],"f199","M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM178.117 262.104C87.429 196.287 88.353 196.121 64 177.167V152c0-13.255 10.745-24 24-24h272c13.255 0 24 10.745 24 24v25.167c-24.371 18.969-23.434 19.124-114.117 84.938-10.5 7.655-31.392 26.12-45.883 25.894-14.503.218-35.367-18.227-45.883-25.895zM384 217.775V360c0 13.255-10.745 24-24 24H88c-13.255 0-24-10.745-24-24V217.775c13.958 10.794 33.329 25.236 95.303 70.214 14.162 10.341 37.975 32.145 64.694 32.01 26.887.134 51.037-22.041 64.72-32.025 61.958-44.965 81.325-59.406 95.283-70.199z"]},h3={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},vc={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"]};class $D{constructor(){this.id="",this.name="",this.name_where="",this.date="",this.description="",this.content="",this.photoURL="",this.thumbnailURL=""}}var C9=B(3637);function uv(){return i=>i.lift(new AG)}class AG{call(t,e){return e.subscribe(new EG(t))}}class EG extends p2.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function _z(i,t){return e=>e.lift(new zG(i,t))}class zG{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new xG(t,this.compare,this.keySelector))}}class xG extends p2.L{constructor(t,e,o){super(t),this.keySelector=o,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:c}=this;e=c?c(t):t}catch(c){return this.destination.error(c)}let o=!1;if(this.hasKey)try{const{compare:c}=this;o=c(this.key,e)}catch(c){return this.destination.error(c)}else this.hasKey=!0;o||(this.key=e,this.destination.next(t))}}var wi=B(309),k1=B(57),QD=B(2329),bz=B(9759),H=B(4762),P1=B(4685),G0=B(300),Cz=function(i,t){return(Cz=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c])})(i,t)};function YD(i){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&i[t],o=0;if(e)return e.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var e1,TG="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Mz=Mz||{},N1=TG||self;function fv(){}function wz(i){var t=typeof i;return"array"==(t="object"!=t?t:i?Array.isArray(i)?"array":t:"null")||"object"==t&&"number"==typeof i.length}function M9(i){var t=typeof i;return"object"==t&&null!=i||"function"==t}var Az="closure_uid_"+(1e9*Math.random()>>>0),IG=0;function DG(i,t,e){return i.call.apply(i.bind,arguments)}function LG(i,t,e){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,o),i.apply(t,c)}}return function(){return i.apply(t,arguments)}}function rn(i,t,e){return(rn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?DG:LG).apply(null,arguments)}function hv(i,t){var e=Array.prototype.slice.call(arguments,1);return function(){var o=e.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function on(i,t){function e(){}e.prototype=t.prototype,i.Z=t.prototype,i.prototype=new e,i.prototype.constructor=i,i.Vb=function(o,c,f){for(var v=Array(arguments.length-2),_=2;_<arguments.length;_++)v[_-2]=arguments[_];return t.prototype[c].apply(o,v)}}function ra(){this.s=this.s,this.o=this.o}var VG={};ra.prototype.s=!1,ra.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,Az)&&i[Az]||(i[Az]=++IG)}(this);delete VG[i]}},ra.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var JD=Array.prototype.indexOf?function(i,t){return Array.prototype.indexOf.call(i,t,void 0)}:function(i,t){if("string"==typeof i)return"string"!=typeof t||1!=t.length?-1:i.indexOf(t,0);for(var e=0;e<i.length;e++)if(e in i&&i[e]===t)return e;return-1},KD=Array.prototype.forEach?function(i,t,e){Array.prototype.forEach.call(i,t,e)}:function(i,t,e){for(var o=i.length,c="string"==typeof i?i.split(""):i,f=0;f<o;f++)f in c&&t.call(e,c[f],f,i)};function XD(i){return Array.prototype.concat.apply([],arguments)}function Ez(i){var t=i.length;if(0<t){for(var e=Array(t),o=0;o<t;o++)e[o]=i[o];return e}return[]}function dv(i){return/^[\s\xa0]*$/.test(i)}var Fn,eL=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Pn(i,t){return-1!=i.indexOf(t)}function zz(i,t){return i<t?-1:i>t?1:0}e:{var tL=N1.navigator;if(tL){var nL=tL.userAgent;if(nL){Fn=nL;break e}}Fn=""}function xz(i,t,e){for(var o in i)t.call(e,i[o],o,i)}function rL(i){var t={};for(var e in i)t[e]=i[e];return t}var iL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oL(i,t){for(var e,o,c=1;c<arguments.length;c++){for(e in o=arguments[c])i[e]=o[e];for(var f=0;f<iL.length;f++)e=iL[f],Object.prototype.hasOwnProperty.call(o,e)&&(i[e]=o[e])}}function Sz(i){return Sz[" "](i),i}Sz[" "]=fv;var pv,i,HG=Pn(Fn,"Opera"),gc=Pn(Fn,"Trident")||Pn(Fn,"MSIE"),aL=Pn(Fn,"Edge"),Tz=aL||gc,sL=Pn(Fn,"Gecko")&&!(Pn(Fn.toLowerCase(),"webkit")&&!Pn(Fn,"Edge"))&&!(Pn(Fn,"Trident")||Pn(Fn,"MSIE"))&&!Pn(Fn,"Edge"),PG=Pn(Fn.toLowerCase(),"webkit")&&!Pn(Fn,"Edge");function cL(){var i=N1.document;return i?i.documentMode:void 0}e:{var Nz="",Iz=(i=Fn,sL?/rv:([^\);]+)(\)|;)/.exec(i):aL?/Edge\/([\d\.]+)/.exec(i):gc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):PG?/WebKit\/(\S+)/.exec(i):HG?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Iz&&(Nz=Iz?Iz[1]:""),gc){var Dz=cL();if(null!=Dz&&Dz>parseFloat(Nz)){pv=String(Dz);break e}}pv=Nz}var FG={};function UG(){return t=FG,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var i=0,t=eL(String(pv)).split("."),e=eL("9").split("."),o=Math.max(t.length,e.length),c=0;0==i&&c<o;c++){var f=t[c]||"",v=e[c]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],0==f[0].length&&0==v[0].length)break;i=zz(0==f[1].length?0:parseInt(f[1],10),0==v[1].length?0:parseInt(v[1],10))||zz(0==f[2].length,0==v[2].length)||zz(f[2],v[2]),f=f[3],v=v[3]}while(0==i)}return 0<=i}();var t}var ZG=N1.document&&gc&&(cL()||parseInt(pv,10))||void 0,BG=function(){if(!N1.addEventListener||!Object.defineProperty)return!1;var i=!1,t=Object.defineProperty({},"passive",{get:function(){i=!0}});try{N1.addEventListener("test",fv,t),N1.removeEventListener("test",fv,t)}catch(e){}return i}();function _n(i,t){this.type=i,this.g=this.target=t,this.defaultPrevented=!1}function w9(i,t){if(_n.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var e=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=t,t=i.relatedTarget){if(sL){e:{try{Sz(t.nodeName);var c=!0;break e}catch(f){}c=!1}c||(t=null)}}else"mouseover"==e?t=i.fromElement:"mouseout"==e&&(t=i.toElement);this.relatedTarget=t,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:jG[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&w9.Z.h.call(this)}}_n.prototype.h=function(){this.defaultPrevented=!0},on(w9,_n);var jG={2:"touch",3:"pen",4:"mouse"};w9.prototype.h=function(){w9.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var A9="closure_listenable_"+(1e6*Math.random()|0),qG=0;function GG(i,t,e,o,c){this.listener=i,this.proxy=null,this.src=t,this.type=e,this.capture=!!o,this.ia=c,this.key=++qG,this.ca=this.fa=!1}function mv(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function vv(i){this.src=i,this.g={},this.h=0}function Rz(i,t){var e=t.type;if(e in i.g){var f,o=i.g[e],c=JD(o,t);(f=0<=c)&&Array.prototype.splice.call(o,c,1),f&&(mv(t),0==i.g[e].length&&(delete i.g[e],i.h--))}}function Vz(i,t,e,o){for(var c=0;c<i.length;++c){var f=i[c];if(!f.ca&&f.listener==t&&f.capture==!!e&&f.ia==o)return c}return-1}vv.prototype.add=function(i,t,e,o,c){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var v=Vz(i,t,o,c);return-1<v?(t=i[v],e||(t.fa=!1)):((t=new GG(t,this.src,f,!!o,c)).fa=e,i.push(t)),t};var kz="closure_lm_"+(1e6*Math.random()|0),Oz={};function uL(i,t,e,o,c){if(o&&o.once)return hL(i,t,e,o,c);if(Array.isArray(t)){for(var f=0;f<t.length;f++)uL(i,t[f],e,o,c);return null}return e=Uz(e),i&&i[A9]?i.N(t,e,M9(o)?!!o.capture:!!o,c):fL(i,t,e,!1,o,c)}function fL(i,t,e,o,c,f){if(!t)throw Error("Invalid event type");var v=M9(c)?!!c.capture:!!c,_=Pz(i);if(_||(i[kz]=_=new vv(i)),(e=_.add(t,e,o,v,f)).proxy)return e;if(o=function(){var t=$G;return function i(e){return t.call(i.src,i.listener,e)}}(),e.proxy=o,o.src=i,o.listener=e,i.addEventListener)BG||(c=v),void 0===c&&(c=!1),i.addEventListener(t.toString(),o,c);else if(i.attachEvent)i.attachEvent(pL(t.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return e}function hL(i,t,e,o,c){if(Array.isArray(t)){for(var f=0;f<t.length;f++)hL(i,t[f],e,o,c);return null}return e=Uz(e),i&&i[A9]?i.O(t,e,M9(o)?!!o.capture:!!o,c):fL(i,t,e,!0,o,c)}function dL(i,t,e,o,c){if(Array.isArray(t))for(var f=0;f<t.length;f++)dL(i,t[f],e,o,c);else o=M9(o)?!!o.capture:!!o,e=Uz(e),i&&i[A9]?(i=i.i,(t=String(t).toString())in i.g&&-1<(e=Vz(f=i.g[t],e,o,c))&&(mv(f[e]),Array.prototype.splice.call(f,e,1),0==f.length&&(delete i.g[t],i.h--))):i&&(i=Pz(i))&&(t=i.g[t.toString()],i=-1,t&&(i=Vz(t,e,o,c)),(e=-1<i?t[i]:null)&&Hz(e))}function Hz(i){if("number"!=typeof i&&i&&!i.ca){var t=i.src;if(t&&t[A9])Rz(t.i,i);else{var e=i.type,o=i.proxy;t.removeEventListener?t.removeEventListener(e,o,i.capture):t.detachEvent?t.detachEvent(pL(e),o):t.addListener&&t.removeListener&&t.removeListener(o),(e=Pz(t))?(Rz(e,i),0==e.h&&(e.src=null,t[kz]=null)):mv(i)}}}function pL(i){return i in Oz?Oz[i]:Oz[i]="on"+i}function $G(i,t){if(i.ca)i=!0;else{t=new w9(t,this);var e=i.listener,o=i.ia||i.src;i.fa&&Hz(i),i=e.call(o,t)}return i}function Pz(i){return(i=i[kz])instanceof vv?i:null}var Fz="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uz(i){return"function"==typeof i?i:(i[Fz]||(i[Fz]=function(t){return i.handleEvent(t)}),i[Fz])}function Z2(){ra.call(this),this.i=new vv(this),this.P=this,this.I=null}function an(i,t){var e,o=i.I;if(o)for(e=[];o;o=o.I)e.push(o);if(i=i.P,o=t.type||t,"string"==typeof t)t=new _n(t,i);else if(t instanceof _n)t.target=t.target||i;else{var c=t;oL(t=new _n(o,i),c)}if(c=!0,e)for(var f=e.length-1;0<=f;f--){var v=t.g=e[f];c=gv(v,o,!0,t)&&c}if(c=gv(v=t.g=i,o,!0,t)&&c,c=gv(v,o,!1,t)&&c,e)for(f=0;f<e.length;f++)c=gv(v=t.g=e[f],o,!1,t)&&c}function gv(i,t,e,o){if(!(t=i.i.g[String(t)]))return!0;t=t.concat();for(var c=!0,f=0;f<t.length;++f){var v=t[f];if(v&&!v.ca&&v.capture==e){var _=v.listener,M=v.ia||v.src;v.fa&&Rz(i.i,v),c=!1!==_.call(M,o)&&c}}return c&&!o.defaultPrevented}on(Z2,ra),Z2.prototype[A9]=!0,Z2.prototype.removeEventListener=function(i,t,e,o){dL(this,i,t,e,o)},Z2.prototype.M=function(){if(Z2.Z.M.call(this),this.i){var t,i=this.i;for(t in i.g){for(var e=i.g[t],o=0;o<e.length;o++)mv(e[o]);delete i.g[t],i.h--}}this.I=null},Z2.prototype.N=function(i,t,e,o){return this.i.add(String(i),t,!1,e,o)},Z2.prototype.O=function(i,t,e,o){return this.i.add(String(i),t,!0,e,o)};var Zz=N1.JSON.stringify;function QG(){var i=vL,t=null;return i.g&&(t=i.g,i.g=i.g.next,i.g||(i.h=null),t.next=null),t}var jz,YG=function(){function i(){this.h=this.g=null}return i.prototype.add=function(t,e){var o=mL.get();o.set(t,e),this.h?this.h.next=o:this.g=o,this.h=o},i}(),mL=new(function(){function i(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return i.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},i}())(function(){return new JG},function(i){return i.reset()}),JG=function(){function i(){this.next=this.g=this.h=null}return i.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},i.prototype.reset=function(){this.next=this.g=this.h=null},i}();function KG(i){N1.setTimeout(function(){throw i},0)}function Bz(i,t){jz||function(){var i=N1.Promise.resolve(void 0);jz=function(){i.then(eW)}}(),qz||(jz(),qz=!0),vL.add(i,t)}var qz=!1,vL=new YG;function eW(){for(var i;i=QG();){try{i.h.call(i.g)}catch(e){KG(e)}var t=mL;t.j(i),100>t.h&&(t.h++,i.next=t.g,t.g=i)}qz=!1}function yv(i,t){Z2.call(this),this.h=i||1,this.g=t||N1,this.j=rn(this.kb,this),this.l=Date.now()}function Gz(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Wz(i,t,e){if("function"==typeof i)e&&(i=rn(i,e));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=rn(i.handleEvent,i)}return 2147483647<Number(t)?-1:N1.setTimeout(i,t||0)}function gL(i){i.g=Wz(function(){i.g=null,i.i&&(i.i=!1,gL(i))},i.j);var t=i.h;i.h=null,i.m.apply(null,t)}on(yv,Z2),(e1=yv.prototype).da=!1,e1.S=null,e1.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),an(this,"tick"),this.da&&(Gz(this),this.start()))}},e1.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},e1.M=function(){yv.Z.M.call(this),Gz(this),delete this.g};var tW=function(i){function t(e,o){var c=i.call(this)||this;return c.m=e,c.j=o,c.h=null,c.i=!1,c.g=null,c}return function(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=i}Cz(i,t),i.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,i),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:gL(this)},t.prototype.M=function(){i.prototype.M.call(this),this.g&&(N1.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(ra);function E9(i){ra.call(this),this.h=i,this.g={}}on(E9,ra);var yL=[];function _L(i,t,e,o){Array.isArray(e)||(e&&(yL[0]=e.toString()),e=yL);for(var c=0;c<e.length;c++){var f=uL(t,e[c],o||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function bL(i){xz(i.g,function(t,e){this.g.hasOwnProperty(e)&&Hz(t)},i),i.g={}}function _v(){this.g=!0}function yc(i,t,e,o){i.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(i,t){if(!i.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(i=0;i<e.length;i++)if(Array.isArray(e[i])){var o=e[i];if(!(2>o.length)){var c=o[1];if(Array.isArray(c)&&!(1>c.length)){var f=c[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var v=1;v<c.length;v++)c[v]=""}}}return Zz(e)}catch(_){return t}}(i,e)+(o?" "+o:"")})}E9.prototype.M=function(){E9.Z.M.call(this),bL(this)},E9.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_v.prototype.Aa=function(){this.g=!1},_v.prototype.info=function(){};var W0={},CL=null;function bv(){return CL=CL||new Z2}function ML(i){_n.call(this,W0.Ma,i)}function z9(i){var t=bv();an(t,new ML(t,i))}function wL(i,t){_n.call(this,W0.STAT_EVENT,i),this.stat=t}function Un(i){var t=bv();an(t,new wL(t,i))}function AL(i,t){_n.call(this,W0.Na,i),this.size=t}function x9(i,t){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return N1.setTimeout(function(){i()},t)}W0.Ma="serverreachability",on(ML,_n),W0.STAT_EVENT="statevent",on(wL,_n),W0.Na="timingevent",on(AL,_n);var Cv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},EL={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $z(){}function xL(){}$z.prototype.h=null;var Jz,S9={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Qz(){_n.call(this,"d")}function Yz(){_n.call(this,"c")}function Mv(){}function T9(i,t,e,o){this.l=i,this.j=t,this.m=e,this.X=o||1,this.V=new E9(this),this.P=aW,this.W=new yv(i=Tz?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new SL}function SL(){this.i=null,this.g="",this.h=!1}on(Qz,_n),on(Yz,_n),on(Mv,$z),Mv.prototype.g=function(){return new XMLHttpRequest},Mv.prototype.i=function(){return{}},Jz=new Mv;var aW=45e3,Kz={},wv={};function Xz(i,t,e){i.K=1,i.v=Sv(h6(t)),i.s=e,i.U=!0,TL(i,null)}function TL(i,t){i.F=Date.now(),N9(i),i.A=h6(i.v);var e=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),HL(e.h,"t",o),i.C=0,e=i.l.H,i.h=new SL,i.g=sR(i.l,e?t:null,!i.s),0<i.O&&(i.L=new tW(rn(i.Ia,i,i.g),i.O)),_L(i.V,i.g,"readystatechange",i.gb),t=i.H?rL(i.H):{},i.s?(i.u||(i.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,t)):(i.u="GET",i.g.ea(i.A,i.u,null,t)),z9(1),function(i,t,e,o,c,f){i.info(function(){if(i.g)if(f)for(var v="",_=f.split("&"),M=0;M<_.length;M++){var E=_[M].split("=");if(1<E.length){var S=E[0];E=E[1];var I=S.split("_");v=2<=I.length&&"type"==I[1]?v+(S+"=")+E+"&":v+(S+"=redacted&")}}else v=null;else v=f;return"XMLHTTP REQ ("+o+") [attempt "+c+"]: "+t+"\n"+e+"\n"+v})}(i.j,i.u,i.A,i.m,i.X,i.s)}function NL(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function IL(i,t,e){for(var c,o=!0;!i.I&&i.C<e.length;){if((c=sW(i,e))==wv){4==t&&(i.o=4,Un(14),o=!1),yc(i.j,i.m,null,"[Incomplete Response]");break}if(c==Kz){i.o=4,Un(15),yc(i.j,i.m,e,"[Invalid Chunk]"),o=!1;break}yc(i.j,i.m,c,null),ex(i,c)}NL(i)&&c!=wv&&c!=Kz&&(i.h.g="",i.C=0),4!=t||0!=e.length||i.h.h||(i.o=1,Un(16),o=!1),i.i=i.i&&o,o?0<e.length&&!i.aa&&(i.aa=!0,(t=i.l).g==i&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),fx(t),t.L=!0,Un(11))):(yc(i.j,i.m,e,"[Invalid Chunked Response]"),$0(i),I9(i))}function sW(i,t){var e=i.C,o=t.indexOf("\n",e);return-1==o?wv:(e=Number(t.substring(e,o)),isNaN(e)?Kz:(o+=1)+e>t.length?wv:(t=t.substr(o,e),i.C=o+e,t))}function N9(i){i.Y=Date.now()+i.P,DL(i,i.P)}function DL(i,t){if(null!=i.B)throw Error("WatchDog timer not null");i.B=x9(rn(i.eb,i),t)}function Av(i){i.B&&(N1.clearTimeout(i.B),i.B=null)}function I9(i){0==i.l.G||i.I||rR(i.l,i)}function $0(i){Av(i);var t=i.L;t&&"function"==typeof t.na&&t.na(),i.L=null,Gz(i.W),bL(i.V),i.g&&(t=i.g,i.g=null,t.abort(),t.na())}function ex(i,t){try{var e=i.l;if(0!=e.G&&(e.g==i||rx(e.i,i)))if(e.I=i.N,!i.J&&rx(e.i,i)&&3==e.G){try{var o=e.Ca.g.parse(t)}catch(le){o=null}if(Array.isArray(o)&&3==o.length){var c=o;if(0==c[0])e:if(e.u)e.ta=c[1],0<e.ta-e.U&&37500>c[2]&&e.N&&0==e.A&&!e.v&&(e.v=x9(rn(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<i.F))break e;Rv(e),Dv(e)}ux(e),Un(18)}if(1>=UL(e.i)&&e.ka){try{e.ka()}catch(le){}e.ka=void 0}}else J0(e,11)}else if((i.J||e.g==i)&&Rv(e),!dv(t))for(c=e.Ca.g.parse(t),t=0;t<c.length;t++){var f=c[t];if(e.U=f[0],f=f[1],2==e.G)if("c"==f[0]){e.J=f[1],e.la=f[2];var v=f[3];null!=v&&(e.ma=v,e.h.info("VER="+e.ma));var _=f[4];null!=_&&(e.za=_,e.h.info("SVER="+e.za));var M=f[5];null!=M&&"number"==typeof M&&0<M&&(e.K=o=1.5*M,e.h.info("backChannelRequestTimeoutMs_="+o)),o=e;var E=i.g;if(E){var S=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(S){var I=o.i;!I.g&&(Pn(S,"spdy")||Pn(S,"quic")||Pn(S,"h2"))&&(I.j=I.l,I.g=new Set,I.h&&(ix(I,I.h),I.h=null))}if(o.D){var R=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;R&&(o.sa=R,Zt(o.F,o.D,R))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-i.F,e.h.info("Handshake RTT: "+e.O+"ms"));var O=i;if((o=e).oa=aR(o,o.H?o.la:null,o.W),O.J){ZL(o.i,O);var U=O,J=o.K;J&&U.setTimeout(J),U.B&&(Av(U),N9(U)),o.g=O}else tR(o);0<e.l.length&&Lv(e)}else"stop"!=f[0]&&"close"!=f[0]||J0(e,7);else 3==e.G&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?J0(e,7):cx(e):"noop"!=f[0]&&e.j&&e.j.wa(f),e.A=0)}z9(4)}catch(le){}}function tx(i,t){if(i.forEach&&"function"==typeof i.forEach)i.forEach(t,void 0);else if(wz(i)||"string"==typeof i)KD(i,t,void 0);else{if(i.T&&"function"==typeof i.T)var e=i.T();else if(i.R&&"function"==typeof i.R)e=void 0;else if(wz(i)||"string"==typeof i){e=[];for(var o=i.length,c=0;c<o;c++)e.push(c)}else for(c in e=[],o=0,i)e[o++]=c;c=(o=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(wz(i)){for(var t=[],e=i.length,o=0;o<e;o++)t.push(i[o]);return t}for(o in t=[],e=0,i)t[e++]=i[o];return t}(i)).length;for(var f=0;f<c;f++)t.call(void 0,o[f],e&&e[f],i)}}function _c(i,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var o=0;o<e;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof _c)for(e=i.T(),o=0;o<e.length;o++)this.set(e[o],i.get(e[o]));else for(o in i)this.set(o,i[o])}function nx(i){if(i.i!=i.g.length){for(var t=0,e=0;t<i.g.length;){var o=i.g[t];Q0(i.h,o)&&(i.g[e++]=o),t++}i.g.length=e}if(i.i!=i.g.length){var c={};for(e=t=0;t<i.g.length;)Q0(c,o=i.g[t])||(i.g[e++]=o,c[o]=1),t++;i.g.length=e}}function Q0(i,t){return Object.prototype.hasOwnProperty.call(i,t)}(e1=T9.prototype).setTimeout=function(i){this.P=i},e1.gb=function(i){i=i.target;var t=this.L;t&&3==d6(i)?t.l():this.Ia(i)},e1.Ia=function(i){try{if(i==this.g)e:{var t=d6(this.g),e=this.g.Da(),o=this.g.ba();if(!(3>t)&&(3!=t||Tz||this.g&&(this.h.h||this.g.ga()||YL(this.g)))){this.I||4!=t||7==e||z9(8==e||0>=o?3:2),Av(this);var c=this.g.ba();this.N=c;t:if(NL(this)){var f=YL(this.g);i="";var v=f.length,_=4==d6(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){$0(this),I9(this);var M="";break t}this.h.i=new N1.TextDecoder}for(e=0;e<v;e++)this.h.h=!0,i+=this.h.i.decode(f[e],{stream:_&&e==v-1});f.splice(0,v),this.h.g+=i,this.C=0,M=this.h.g}else M=this.g.ga();if(this.i=200==c,function(i,t,e,o,c,f,v){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+c+"]: "+t+"\n"+e+"\n"+f+" "+v})}(this.j,this.u,this.A,this.m,this.X,t,c),this.i){if(this.$&&!this.J){t:{if(this.g){var E,S=this.g;if((E=S.g?S.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dv(E)){var I=E;break t}}I=null}if(!(c=I)){this.i=!1,this.o=3,Un(12),$0(this),I9(this);break e}yc(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ex(this,c)}this.U?(IL(this,t,M),Tz&&this.i&&3==t&&(_L(this.V,this.W,"tick",this.fb),this.W.start())):(yc(this.j,this.m,M,null),ex(this,M)),4==t&&$0(this),this.i&&!this.I&&(4==t?rR(this.l,this):(this.i=!1,N9(this)))}else 400==c&&0<M.indexOf("Unknown SID")?(this.o=3,Un(12)):(this.o=0,Un(13)),$0(this),I9(this)}}}catch(R){}},e1.fb=function(){if(this.g){var i=d6(this.g),t=this.g.ga();this.C<t.length&&(Av(this),IL(this,i,t),this.i&&4!=i&&N9(this))}},e1.cancel=function(){this.I=!0,$0(this)},e1.eb=function(){this.B=null;var i=Date.now();0<=i-this.Y?(function(i,t){i.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(z9(3),Un(17)),$0(this),this.o=2,I9(this)):DL(this,this.Y-i)},(e1=_c.prototype).R=function(){nx(this);for(var i=[],t=0;t<this.g.length;t++)i.push(this.h[this.g[t]]);return i},e1.T=function(){return nx(this),this.g.concat()},e1.get=function(i,t){return Q0(this.h,i)?this.h[i]:t},e1.set=function(i,t){Q0(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=t},e1.forEach=function(i,t){for(var e=this.T(),o=0;o<e.length;o++){var c=e[o],f=this.get(c);i.call(t,f,c,this)}};var LL=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Y0(i,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Y0){this.g=void 0!==t?t:i.g,Ev(this,i.j),this.s=i.s,zv(this,i.i),xv(this,i.m),this.l=i.l,t=i.h;var e=new R9;e.i=t.i,t.g&&(e.g=new _c(t.g),e.h=t.h),RL(this,e),this.o=i.o}else i&&(e=String(i).match(LL))?(this.g=!!t,Ev(this,e[1]||"",!0),this.s=D9(e[2]||""),zv(this,e[3]||"",!0),xv(this,e[4]),this.l=D9(e[5]||"",!0),RL(this,e[6]||"",!0),this.o=D9(e[7]||"")):(this.g=!!t,this.h=new R9(null,this.g))}function h6(i){return new Y0(i)}function Ev(i,t,e){i.j=e?D9(t,!0):t,i.j&&(i.j=i.j.replace(/:$/,""))}function zv(i,t,e){i.i=e?D9(t,!0):t}function xv(i,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);i.m=t}else i.m=null}function RL(i,t,e){t instanceof R9?(i.h=t,function(i,t){t&&!i.j&&(ia(i),i.i=null,i.g.forEach(function(e,o){var c=o.toLowerCase();o!=c&&(kL(this,o),HL(this,c,e))},i)),i.j=t}(i.h,i.g)):(e||(t=L9(t,mW)),i.h=new R9(t,i.g))}function Zt(i,t,e){i.h.set(t,e)}function Sv(i){return Zt(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function D9(i,t){return i?t?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function L9(i,t,e){return"string"==typeof i?(i=encodeURI(i).replace(t,hW),e&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function hW(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Y0.prototype.toString=function(){var i=[],t=this.j;t&&i.push(L9(t,VL,!0),":");var e=this.i;return(e||"file"==t)&&(i.push("//"),(t=this.s)&&i.push(L9(t,VL,!0),"@"),i.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&i.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&i.push("/"),i.push(L9(e,"/"==e.charAt(0)?pW:dW,!0))),(e=this.h.toString())&&i.push("?",e),(e=this.o)&&i.push("#",L9(e,vW)),i.join("")};var VL=/[#\/\?@]/g,dW=/[#\?:]/g,pW=/[#\?]/g,mW=/[#\?@]/g,vW=/#/g;function R9(i,t){this.h=this.g=null,this.i=i||null,this.j=!!t}function ia(i){i.g||(i.g=new _c,i.h=0,i.i&&function(i,t){if(i){i=i.split("&");for(var e=0;e<i.length;e++){var o=i[e].indexOf("="),c=null;if(0<=o){var f=i[e].substring(0,o);c=i[e].substring(o+1)}else f=i[e];t(f,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(i.i,function(t,e){i.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function kL(i,t){ia(i),t=bc(i,t),Q0(i.g.h,t)&&(i.i=null,i.h-=i.g.get(t).length,Q0((i=i.g).h,t)&&(delete i.h[t],i.i--,i.g.length>2*i.i&&nx(i)))}function OL(i,t){return ia(i),t=bc(i,t),Q0(i.g.h,t)}function HL(i,t,e){kL(i,t),0<e.length&&(i.i=null,i.g.set(bc(i,t),Ez(e)),i.h+=e.length)}function bc(i,t){return t=String(t),i.j&&(t=t.toLowerCase()),t}(e1=R9.prototype).add=function(i,t){ia(this),this.i=null,i=bc(this,i);var e=this.g.get(i);return e||this.g.set(i,e=[]),e.push(t),this.h+=1,this},e1.forEach=function(i,t){ia(this),this.g.forEach(function(e,o){KD(e,function(c){i.call(t,c,o,this)},this)},this)},e1.T=function(){ia(this);for(var i=this.g.R(),t=this.g.T(),e=[],o=0;o<t.length;o++)for(var c=i[o],f=0;f<c.length;f++)e.push(t[o]);return e},e1.R=function(i){ia(this);var t=[];if("string"==typeof i)OL(this,i)&&(t=XD(t,this.g.get(bc(this,i))));else{i=this.g.R();for(var e=0;e<i.length;e++)t=XD(t,i[e])}return t},e1.set=function(i,t){return ia(this),this.i=null,OL(this,i=bc(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[t]),this.h+=1,this},e1.get=function(i,t){return i&&0<(i=this.R(i)).length?String(i[0]):t},e1.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],t=this.g.T(),e=0;e<t.length;e++){var o=t[e],c=encodeURIComponent(String(o));o=this.R(o);for(var f=0;f<o.length;f++){var v=c;""!==o[f]&&(v+="="+encodeURIComponent(String(o[f]))),i.push(v)}}return this.i=i.join("&")};var yW=function(t,e){this.h=t,this.g=e};function PL(i){this.l=i||_W,i=N1.PerformanceNavigationTiming?0<(i=N1.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(N1.g&&N1.g.Ea&&N1.g.Ea()&&N1.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _W=10;function FL(i){return!!i.h||!!i.g&&i.g.size>=i.j}function UL(i){return i.h?1:i.g?i.g.size:0}function rx(i,t){return i.h?i.h==t:!!i.g&&i.g.has(t)}function ix(i,t){i.g?i.g.add(t):i.h=t}function ZL(i,t){i.h&&i.h==t?i.h=null:i.g&&i.g.has(t)&&i.g.delete(t)}function BL(i){var t,e;if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){var o=i.i;try{for(var c=YD(i.g.values()),f=c.next();!f.done;f=c.next())o=o.concat(f.value.D)}catch(_){t={error:_}}finally{try{f&&!f.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}return o}return Ez(i.i)}function ox(){}function bW(){this.g=new ox}function CW(i,t,e){var o=e||"";try{tx(i,function(c,f){var v=c;M9(c)&&(v=Zz(c)),t.push(o+f+"="+encodeURIComponent(v))})}catch(c){throw t.push(o+"type="+encodeURIComponent("_badmap")),c}}function Tv(i,t,e,o,c){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,c(o)}catch(f){}}function V9(i){this.l=i.$b||null,this.j=i.ib||!1}function Nv(i,t){Z2.call(this),this.D=i,this.u=t,this.m=void 0,this.readyState=ax,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}PL.prototype.cancel=function(){var i,t;if(this.i=BL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var e=YD(this.g.values()),o=e.next();!o.done;o=e.next())o.value.cancel()}catch(f){i={error:f}}finally{try{o&&!o.done&&(t=e.return)&&t.call(e)}finally{if(i)throw i.error}}this.g.clear()}},ox.prototype.stringify=function(i){return N1.JSON.stringify(i,void 0)},ox.prototype.parse=function(i){return N1.JSON.parse(i,void 0)},on(V9,$z),V9.prototype.g=function(){return new Nv(this.l,this.j)},V9.prototype.i=function(i){return function(){return i}}({}),on(Nv,Z2);var ax=0;function jL(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function k9(i){i.readyState=4,i.l=null,i.j=null,i.A=null,O9(i)}function O9(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(e1=Nv.prototype).open=function(i,t){if(this.readyState!=ax)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=t,this.readyState=1,O9(this)},e1.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(t.body=i),(this.D||N1).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},e1.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,k9(this)),this.readyState=ax},e1.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,O9(this)),this.g&&(this.readyState=3,O9(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==N1.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jL(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},e1.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var t=i.value?i.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!i.done}))&&(this.response=this.responseText+=t)}i.done?k9(this):O9(this),3==this.readyState&&jL(this)}},e1.Ua=function(i){this.g&&(this.response=this.responseText=i,k9(this))},e1.Ta=function(i){this.g&&(this.response=i,k9(this))},e1.ha=function(){this.g&&k9(this)},e1.setRequestHeader=function(i,t){this.v.append(i,t)},e1.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},e1.getAllResponseHeaders=function(){if(!this.h)return"";for(var i=[],t=this.h.entries(),e=t.next();!e.done;)i.push((e=e.value)[0]+": "+e[1]),e=t.next();return i.join("\r\n")},Object.defineProperty(Nv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var wW=N1.JSON.parse;function _2(i){Z2.call(this),this.headers=new _c,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qL,this.K=this.L=!1}on(_2,Z2);var qL="",AW=/^https?$/i,EW=["POST","PUT"];function xW(i){return"content-type"==i.toLowerCase()}function GL(i,t){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=t,i.m=5,WL(i),Iv(i)}function WL(i){i.D||(i.D=!0,an(i,"complete"),an(i,"error"))}function $L(i){if(i.h&&void 0!==Mz&&(!i.C[1]||4!=d6(i)||2!=i.ba()))if(i.v&&4==d6(i))Wz(i.Fa,0,i);else if(an(i,"readystatechange"),4==d6(i)){i.h=!1;try{var o,t=i.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}if(!(o=e)){var c;if(c=0===t){var f=String(i.H).match(LL)[1]||null;if(!f&&N1.self&&N1.self.location){var v=N1.self.location.protocol;f=v.substr(0,v.length-1)}c=!AW.test(f?f.toLowerCase():"")}o=c}if(o)an(i,"complete"),an(i,"success");else{i.m=6;try{var _=2<d6(i)?i.g.statusText:""}catch(M){_=""}i.j=_+" ["+i.ba()+"]",WL(i)}}finally{Iv(i)}}}function Iv(i,t){if(i.g){QL(i);var e=i.g,o=i.C[0]?fv:null;i.g=null,i.C=null,t||an(i,"ready");try{e.onreadystatechange=o}catch(c){}}}function QL(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(N1.clearTimeout(i.A),i.A=null)}function d6(i){return i.g?i.g.readyState:0}function YL(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case qL:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(t){return null}}function sx(i,t,e){e:{for(o in e){var o=!1;break e}o=!0}o||(e=function(i){var t="";return xz(i,function(e,o){t+=o,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof i?null!=e&&encodeURIComponent(String(e)):Zt(i,t,e))}function H9(i,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[i]||t}function JL(i){this.za=0,this.l=[],this.h=new _v,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=H9("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=H9("baseRetryDelayMs",5e3,i),this.$a=H9("retryDelaySeedMs",1e4,i),this.Ya=H9("forwardChannelMaxRetries",2,i),this.ra=H9("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new PL(i&&i.concurrentRequestLimit),this.Ca=new bW,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function cx(i){if(KL(i),3==i.G){var t=i.V++,e=h6(i.F);Zt(e,"SID",i.J),Zt(e,"RID",t),Zt(e,"TYPE","terminate"),P9(i,e),(t=new T9(i,i.h,t,void 0)).K=2,t.v=Sv(h6(e)),e=!1,N1.navigator&&N1.navigator.sendBeacon&&(e=N1.navigator.sendBeacon(t.v.toString(),"")),!e&&N1.Image&&((new Image).src=t.v,e=!0),e||(t.g=sR(t.l,null),t.g.ea(t.v)),t.F=Date.now(),N9(t)}oR(i)}function Dv(i){i.g&&(fx(i),i.g.cancel(),i.g=null)}function KL(i){Dv(i),i.u&&(N1.clearTimeout(i.u),i.u=null),Rv(i),i.i.cancel(),i.m&&("number"==typeof i.m&&N1.clearTimeout(i.m),i.m=null)}function lx(i,t){i.l.push(new yW(i.Za++,t)),3==i.G&&Lv(i)}function Lv(i){FL(i.i)||i.m||(i.m=!0,Bz(i.Ha,i),i.C=0)}function XL(i,t){var e;e=t?t.m:i.V++;var o=h6(i.F);Zt(o,"SID",i.J),Zt(o,"RID",e),Zt(o,"AID",i.U),P9(i,o),i.o&&i.s&&sx(o,i.o,i.s),e=new T9(i,i.h,e,i.C+1),null===i.o&&(e.H=i.s),t&&(i.l=t.D.concat(i.l)),t=eR(i,e,1e3),e.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),ix(i.i,e),Xz(e,o,t)}function P9(i,t){i.j&&tx({},function(e,o){Zt(t,o,e)})}function eR(i,t,e){e=Math.min(i.l.length,e);var o=i.j?rn(i.j.Oa,i.j,i):null;e:for(var c=i.l,f=-1;;){var v=["count="+e];-1==f?0<e?v.push("ofs="+(f=c[0].h)):f=0:v.push("ofs="+f);for(var _=!0,M=0;M<e;M++){var E=c[M].h,S=c[M].g;if(0>(E-=f))f=Math.max(0,c[M].h-100),_=!1;else try{CW(S,v,"req"+E+"_")}catch(I){o&&o(S)}}if(_){o=v.join("&");break e}}return i=i.l.splice(0,e),t.D=i,o}function tR(i){i.g||i.u||(i.Y=1,Bz(i.Ga,i),i.A=0)}function ux(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=x9(rn(i.Ga,i),iR(i,i.A)),i.A++,0))}function fx(i){null!=i.B&&(N1.clearTimeout(i.B),i.B=null)}function nR(i){i.g=new T9(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var t=h6(i.oa);Zt(t,"RID","rpc"),Zt(t,"SID",i.J),Zt(t,"CI",i.N?"0":"1"),Zt(t,"AID",i.U),P9(i,t),Zt(t,"TYPE","xmlhttp"),i.o&&i.s&&sx(t,i.o,i.s),i.K&&i.g.setTimeout(i.K);var e=i.g;i=i.la,e.K=1,e.v=Sv(h6(t)),e.s=null,e.U=!0,TL(e,i)}function Rv(i){null!=i.v&&(N1.clearTimeout(i.v),i.v=null)}function rR(i,t){var e=null;if(i.g==t){Rv(i),fx(i),i.g=null;var o=2}else{if(!rx(i.i,t))return;e=t.D,ZL(i.i,t),o=1}if(i.I=t.N,0!=i.G)if(t.i)if(1==o){e=t.s?t.s.length:0,t=Date.now()-t.F;var c=i.C;an(o=bv(),new AL(o,e,t,c)),Lv(i)}else tR(i);else if(3==(c=t.o)||0==c&&0<i.I||!(1==o&&function(i,t){return!(UL(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=t.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=x9(rn(i.Ha,i,t),iR(i,i.C)),i.C++,0)))}(i,t)||2==o&&ux(i)))switch(e&&0<e.length&&(t=i.i,t.i=t.i.concat(e)),c){case 1:J0(i,5);break;case 4:J0(i,10);break;case 3:J0(i,6);break;default:J0(i,2)}}function iR(i,t){var e=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(e*=2),e*t}function J0(i,t){if(i.h.info("Error code "+t),2==t){var e=null;i.j&&(e=null);var o=rn(i.jb,i);e||(e=new Y0("//www.google.com/images/cleardot.gif"),N1.location&&"http"==N1.location.protocol||Ev(e,"https"),Sv(e)),function(i,t){var e=new _v;if(N1.Image){var o=new Image;o.onload=hv(Tv,e,o,"TestLoadImage: loaded",!0,t),o.onerror=hv(Tv,e,o,"TestLoadImage: error",!1,t),o.onabort=hv(Tv,e,o,"TestLoadImage: abort",!1,t),o.ontimeout=hv(Tv,e,o,"TestLoadImage: timeout",!1,t),N1.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else t(!1)}(e.toString(),o)}else Un(2);i.G=0,i.j&&i.j.va(t),oR(i),KL(i)}function oR(i){i.G=0,i.I=-1,i.j&&((0!=BL(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Ez(i.l),i.l.length=0),i.j.ua())}function aR(i,t,e){var o=function(i){return i instanceof Y0?h6(i):new Y0(i,void 0)}(e);if(""!=o.i)t&&zv(o,t+"."+o.i),xv(o,o.m);else{var c=N1.location;o=function(i,t,e,o){var c=new Y0(null,void 0);return i&&Ev(c,i),t&&zv(c,t),e&&xv(c,e),o&&(c.l=o),c}(c.protocol,t?t+"."+c.hostname:c.hostname,+c.port,e)}return i.aa&&xz(i.aa,function(f,v){Zt(o,v,f)}),e=i.sa,(t=i.D)&&e&&Zt(o,t,e),Zt(o,"VER",i.ma),P9(i,o),o}function sR(i,t,e){if(t&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new _2(e&&i.Ba&&!i.qa?new V9({ib:!0}):i.qa)).L=i.H,t}function cR(){}function Vv(){if(gc&&!(10<=Number(ZG)))throw Error("Environmental error: no available transport.")}function Ur(i,t){Z2.call(this),this.g=new JL(t),this.l=i,this.h=t&&t.messageUrlParams||null,i=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(i?i["X-WebChannel-Content-Type"]=t.messageContentType:i={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(i?i["X-WebChannel-Client-Profile"]=t.ya:i={"X-WebChannel-Client-Profile":t.ya}),this.g.P=i,(i=t&&t.httpHeadersOverwriteParam)&&!dv(i)&&(this.g.o=i),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!dv(t)&&(this.g.D=t,null!==(i=this.h)&&t in i&&t in(i=this.h)&&delete i[t]),this.j=new Cc(this)}function lR(i){Qz.call(this);var t=i.__sm__;if(t){e:{for(var e in t){i=e;break e}i=void 0}(this.i=i)&&(i=this.i,t=null!==t&&i in t?t[i]:void 0),this.data=t}else this.data=i}function uR(){Yz.call(this),this.status=1}function Cc(i){this.g=i}(e1=_2.prototype).ea=function(i,t,e,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);t=t?t.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Jz.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:Jz),this.g.onreadystatechange=rn(this.Fa,this);try{this.F=!0,this.g.open(t,String(i),!0),this.F=!1}catch(f){return void GL(this,f)}i=e||"";var c=new _c(this.headers);o&&tx(o,function(f,v){c.set(v,f)}),o=function(i){e:{for(var t=xW,e=i.length,o="string"==typeof i?i.split(""):i,c=0;c<e;c++)if(c in o&&t.call(void 0,o[c],c,i)){t=c;break e}t=-1}return 0>t?null:"string"==typeof i?i.charAt(t):i[t]}(c.T()),e=N1.FormData&&i instanceof N1.FormData,!(0<=JD(EW,t))||o||e||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(f,v){this.g.setRequestHeader(v,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{QL(this),0<this.B&&((this.K=function(i){return gc&&UG()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=rn(this.pa,this)):this.A=Wz(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){GL(this,f)}},e1.pa=function(){void 0!==Mz&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,an(this,"timeout"),this.abort(8))},e1.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,an(this,"complete"),an(this,"abort"),Iv(this))},e1.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Iv(this,!0)),_2.Z.M.call(this)},e1.Fa=function(){this.s||(this.F||this.v||this.l?$L(this):this.cb())},e1.cb=function(){$L(this)},e1.ba=function(){try{return 2<d6(this)?this.g.status:-1}catch(i){return-1}},e1.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},e1.Qa=function(i){if(this.g){var t=this.g.responseText;return i&&0==t.indexOf(i)&&(t=t.substring(i.length)),wW(t)}},e1.Da=function(){return this.m},e1.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(e1=JL.prototype).ma=8,e1.G=1,e1.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(t){}},e1.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;var t=new T9(this,this.h,i,void 0),e=this.s;if(this.P&&(e?oL(e=rL(e),this.P):e=this.P),null===this.o&&(t.H=e),this.ja)e:{for(var o=0,c=0;c<this.l.length;c++){var f=this.l[c];if(void 0===(f="__data__"in f.g&&"string"==typeof(f=f.g.__data__)?f.length:void 0))break;if(4096<(o+=f)){o=c;break e}if(4096===o||c===this.l.length-1){o=c+1;break e}}o=1e3}else o=1e3;o=eR(this,t,o),Zt(c=h6(this.F),"RID",i),Zt(c,"CVER",22),this.D&&Zt(c,"X-HTTP-Session-Id",this.D),P9(this,c),this.o&&e&&sx(c,this.o,e),ix(this.i,t),this.Ra&&Zt(c,"TYPE","init"),this.ja?(Zt(c,"$req",o),Zt(c,"SID","null"),t.$=!0,Xz(t,c,null)):Xz(t,c,o),this.G=2}}else 3==this.G&&(i?XL(this,i):0==this.l.length||FL(this.i)||XL(this))},e1.Ga=function(){if(this.u=null,nR(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=x9(rn(this.bb,this),i)}},e1.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Un(10),Dv(this),nR(this))},e1.ab=function(){null!=this.v&&(this.v=null,Dv(this),ux(this),Un(19))},e1.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Un(2)):(this.h.info("Failed to ping google.com"),Un(1))},(e1=cR.prototype).xa=function(){},e1.wa=function(){},e1.va=function(){},e1.ua=function(){},e1.Oa=function(){},Vv.prototype.g=function(i,t){return new Ur(i,t)},on(Ur,Z2),Ur.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,t=this.l,e=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Bz(rn(i.hb,i,t))),Un(0),i.W=t,i.aa=e||{},i.N=i.X,i.F=aR(i,null,i.W),Lv(i)},Ur.prototype.close=function(){cx(this.g)},Ur.prototype.u=function(i){if("string"==typeof i){var t={};t.__data__=i,lx(this.g,t)}else this.v?((t={}).__data__=Zz(i),lx(this.g,t)):lx(this.g,i)},Ur.prototype.M=function(){this.g.j=null,delete this.j,cx(this.g),delete this.g,Ur.Z.M.call(this)},on(lR,Qz),on(uR,Yz),on(Cc,cR),Cc.prototype.xa=function(){an(this.g,"a")},Cc.prototype.wa=function(i){an(this.g,new lR(i))},Cc.prototype.va=function(i){an(this.g,new uR(i))},Cc.prototype.ua=function(){an(this.g,"b")},Vv.prototype.createWebChannel=Vv.prototype.g,Ur.prototype.send=Ur.prototype.u,Ur.prototype.open=Ur.prototype.m,Ur.prototype.close=Ur.prototype.close,Cv.NO_ERROR=0,Cv.TIMEOUT=8,Cv.HTTP_ERROR=6,EL.COMPLETE="complete",xL.EventType=S9,S9.OPEN="a",S9.CLOSE="b",S9.ERROR="c",S9.MESSAGE="d",Z2.prototype.listen=Z2.prototype.N,_2.prototype.listenOnce=_2.prototype.O,_2.prototype.getLastError=_2.prototype.La,_2.prototype.getLastErrorCode=_2.prototype.Da,_2.prototype.getStatus=_2.prototype.ba,_2.prototype.getResponseJson=_2.prototype.Qa,_2.prototype.getResponseText=_2.prototype.ga,_2.prototype.send=_2.prototype.ea;var kv=Cv,dR=EL,pR=W0,hx_PROXY=10,hx_NOPROXY=11,mR=V9,F9=xL,vR=_2,Zr=function(){function i(t,e){var o=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(c){return o.t(c)},this.i=function(c){return e.writeSequenceNumber(c)})}return i.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},i.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},i}();Zr.o=-1;var Ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Oe=function(i){function t(e,o){var c=this;return(c=i.call(this,o)||this).code=e,c.message=o,c.name="FirebaseError",c.toString=function(){return c.name+": [code="+c.code+"]: "+c.message},c}return(0,H.ZT)(t,i),t}(Error),Ai=new G0.Yd("@firebase/firestore");function dx(){return Ai.logLevel}function Ue(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(Ai.logLevel<=G0.in.DEBUG){var o=t.map(px);Ai.debug.apply(Ai,(0,H.ev)(["Firestore (8.10.0): "+i],o))}}function b2(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(Ai.logLevel<=G0.in.ERROR){var o=t.map(px);Ai.error.apply(Ai,(0,H.ev)(["Firestore (8.10.0): "+i],o))}}function U9(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(Ai.logLevel<=G0.in.WARN){var o=t.map(px);Ai.warn.apply(Ai,(0,H.ev)(["Firestore (8.10.0): "+i],o))}}function px(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(e){return i}}function l1(i){void 0===i&&(i="Unexpected state");var t="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+i;throw b2(t),new Error(t)}function A1(i,t){i||l1()}function Ge(i,t){return i}function NW(i){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(var o=0;o<i;o++)e[o]=Math.floor(256*Math.random());return e}var gR=function(){function i(){}return i.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,o="";o.length<20;)for(var c=NW(40),f=0;f<c.length;++f)o.length<20&&c[f]<e&&(o+=t.charAt(c[f]%t.length));return o},i}();function Y1(i,t){return i<t?-1:i>t?1:0}function Mc(i,t,e){return i.length===t.length&&i.every(function(o,c){return e(o,t[c])})}function yR(i){return i+"\0"}var cr=function(){function i(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Oe(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Oe(Ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Oe(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Oe(Ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return i.now=function(){return i.fromMillis(Date.now())},i.fromDate=function(t){return i.fromMillis(t.getTime())},i.fromMillis=function(t){var e=Math.floor(t/1e3);return new i(e,Math.floor(1e6*(t-1e3*e)))},i.prototype.toDate=function(){return new Date(this.toMillis())},i.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},i.prototype._compareTo=function(t){return this.seconds===t.seconds?Y1(this.nanoseconds,t.nanoseconds):Y1(this.seconds,t.seconds)},i.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},i.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},i.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},i.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},i}(),q1=function(){function i(t){this.timestamp=t}return i.fromTimestamp=function(t){return new i(t)},i.min=function(){return new i(new cr(0,0))},i.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},i.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},i.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},i.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},i.prototype.toTimestamp=function(){return this.timestamp},i}();function _R(i){var t=0;for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function K0(i,t){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function bR(i){for(var t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}var CR=function(){function i(t,e,o){void 0===e?e=0:e>t.length&&l1(),void 0===o?o=t.length-e:o>t.length-e&&l1(),this.segments=t,this.offset=e,this.len=o}return Object.defineProperty(i.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return 0===i.comparator(this,t)},i.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof i?t.forEach(function(o){e.push(o)}):e.push(t),this.construct(e)},i.prototype.limit=function(){return this.offset+this.length},i.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},i.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},i.prototype.firstSegment=function(){return this.segments[this.offset]},i.prototype.lastSegment=function(){return this.get(this.length-1)},i.prototype.get=function(t){return this.segments[this.offset+t]},i.prototype.isEmpty=function(){return 0===this.length},i.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},i.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},i.prototype.forEach=function(t){for(var e=this.offset,o=this.limit();e<o;e++)t(this.segments[e])},i.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},i.comparator=function(t,e){for(var o=Math.min(t.length,e.length),c=0;c<o;c++){var f=t.get(c),v=e.get(c);if(f<v)return-1;if(f>v)return 1}return t.length<e.length?-1:t.length>e.length?1:0},i}(),ht=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,H.ZT)(t,i),t.prototype.construct=function(e,o,c){return new t(e,o,c)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];for(var c=[],f=0,v=e;f<v.length;f++){var _=v[f];if(_.indexOf("//")>=0)throw new Oe(Ce.INVALID_ARGUMENT,"Invalid segment ("+_+"). Paths must not contain // in them.");c.push.apply(c,_.split("/").filter(function(M){return M.length>0}))}return new t(c)},t.emptyPath=function(){return new t([])},t}(CR),IW=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ei=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,H.ZT)(t,i),t.prototype.construct=function(e,o,c){return new t(e,o,c)},t.isValidIdentifier=function(e){return IW.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var o=[],c="",f=0,v=function(){if(0===c.length)throw new Oe(Ce.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");o.push(c),c=""},_=!1;f<e.length;){var M=e[f];if("\\"===M){if(f+1===e.length)throw new Oe(Ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var E=e[f+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Oe(Ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);c+=E,f+=2}else"`"===M?(_=!_,f++):"."!==M||_?(c+=M,f++):(v(),f++)}if(v(),_)throw new Oe(Ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(o)},t.emptyPath=function(){return new t([])},t}(CR),wc=function(){function i(t){this.fields=t,t.sort(Ei.comparator)}return i.prototype.covers=function(t){for(var e=0,o=this.fields;e<o.length;e++)if(o[e].isPrefixOf(t))return!0;return!1},i.prototype.isEqual=function(t){return Mc(this.fields,t.fields,function(e,o){return e.isEqual(o)})},i}(),Zn=function(){function i(t){this.binaryString=t}return i.fromBase64String=function(t){return new i(atob(t))},i.fromUint8Array=function(t){return new i(function(e){for(var o="",c=0;c<e.length;++c)o+=String.fromCharCode(e[c]);return o}(t))},i.prototype.toBase64=function(){return btoa(this.binaryString)},i.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),o=0;o<t.length;o++)e[o]=t.charCodeAt(o);return e}(this.binaryString)},i.prototype.approximateByteSize=function(){return 2*this.binaryString.length},i.prototype.compareTo=function(t){return Y1(this.binaryString,t.binaryString)},i.prototype.isEqual=function(t){return this.binaryString===t.binaryString},i}();Zn.EMPTY_BYTE_STRING=new Zn("");var DW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(i){if(A1(!!i),"string"==typeof i){var t=0,e=DW.exec(i);if(A1(!!e),e[1]){var o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}var c=new Date(i);return{seconds:Math.floor(c.getTime()/1e3),nanos:t}}return{seconds:C2(i.seconds),nanos:C2(i.nanos)}}function C2(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ac(i){return"string"==typeof i?Zn.fromBase64String(i):Zn.fromUint8Array(i)}function mx(i){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==i?void 0:i.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function MR(i){var t=i.mapValue.fields.__previous_value__;return mx(t)?MR(t):t}function Z9(i){var t=oa(i.mapValue.fields.__local_write_time__.timestampValue);return new cr(t.seconds,t.nanos)}function X0(i){return null==i}function Ov(i){return 0===i&&1/i==-1/0}function wR(i){return"number"==typeof i&&Number.isInteger(i)&&!Ov(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}var h1=function(){function i(t){this.path=t}return i.fromPath=function(t){return new i(ht.fromString(t))},i.fromName=function(t){return new i(ht.fromString(t).popFirst(5))},i.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},i.prototype.isEqual=function(t){return null!==t&&0===ht.comparator(this.path,t.path)},i.prototype.toString=function(){return this.path.toString()},i.comparator=function(t,e){return ht.comparator(t.path,e.path)},i.isDocumentKey=function(t){return t.length%2==0},i.fromSegments=function(t){return new i(new ht(t.slice()))},i}();function es(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?mx(i)?4:10:l1()}function d3(i,t){var c,e=es(i);if(e!==es(t))return!1;switch(e){case 0:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Z9(i).isEqual(Z9(t));case 3:return function(o,c){if("string"==typeof o.timestampValue&&"string"==typeof c.timestampValue&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;var f=oa(o.timestampValue),v=oa(c.timestampValue);return f.seconds===v.seconds&&f.nanos===v.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return c=t,Ac(i.bytesValue).isEqual(Ac(c.bytesValue));case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,c){return C2(o.geoPointValue.latitude)===C2(c.geoPointValue.latitude)&&C2(o.geoPointValue.longitude)===C2(c.geoPointValue.longitude)}(i,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return C2(o.integerValue)===C2(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){var f=C2(o.doubleValue),v=C2(c.doubleValue);return f===v?Ov(f)===Ov(v):isNaN(f)&&isNaN(v)}return!1}(i,t);case 9:return Mc(i.arrayValue.values||[],t.arrayValue.values||[],d3);case 10:return function(o,c){var f=o.mapValue.fields||{},v=c.mapValue.fields||{};if(_R(f)!==_R(v))return!1;for(var _ in f)if(f.hasOwnProperty(_)&&(void 0===v[_]||!d3(f[_],v[_])))return!1;return!0}(i,t);default:return l1()}}function B9(i,t){return void 0!==(i.values||[]).find(function(e){return d3(e,t)})}function Ec(i,t){var c,f,v,_,e=es(i),o=es(t);if(e!==o)return Y1(e,o);switch(e){case 0:return 0;case 1:return Y1(i.booleanValue,t.booleanValue);case 2:return f=t,(v=C2((c=i).integerValue||c.doubleValue))<(_=C2(f.integerValue||f.doubleValue))?-1:v>_?1:v===_?0:isNaN(v)?isNaN(_)?0:-1:1;case 3:return AR(i.timestampValue,t.timestampValue);case 4:return AR(Z9(i),Z9(t));case 5:return Y1(i.stringValue,t.stringValue);case 6:return function(c,f){var v=Ac(c),_=Ac(f);return v.compareTo(_)}(i.bytesValue,t.bytesValue);case 7:return function(c,f){for(var v=c.split("/"),_=f.split("/"),M=0;M<v.length&&M<_.length;M++){var E=Y1(v[M],_[M]);if(0!==E)return E}return Y1(v.length,_.length)}(i.referenceValue,t.referenceValue);case 8:return function(c,f){var v=Y1(C2(c.latitude),C2(f.latitude));return 0!==v?v:Y1(C2(c.longitude),C2(f.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return function(c,f){for(var v=c.values||[],_=f.values||[],M=0;M<v.length&&M<_.length;++M){var E=Ec(v[M],_[M]);if(E)return E}return Y1(v.length,_.length)}(i.arrayValue,t.arrayValue);case 10:return function(c,f){var v=c.fields||{},_=Object.keys(v),M=f.fields||{},E=Object.keys(M);_.sort(),E.sort();for(var S=0;S<_.length&&S<E.length;++S){var I=Y1(_[S],E[S]);if(0!==I)return I;var R=Ec(v[_[S]],M[E[S]]);if(0!==R)return R}return Y1(_.length,E.length)}(i.mapValue,t.mapValue);default:throw l1()}}function AR(i,t){if("string"==typeof i&&"string"==typeof t&&i.length===t.length)return Y1(i,t);var e=oa(i),o=oa(t),c=Y1(e.seconds,o.seconds);return 0!==c?c:Y1(e.nanos,o.nanos)}function vx(i){return gx(i)}function gx(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?"time("+(c=oa(i.timestampValue)).seconds+","+c.nanos+")":"stringValue"in i?i.stringValue:"bytesValue"in i?Ac(i.bytesValue).toBase64():"referenceValue"in i?h1.fromName(i.referenceValue).toString():"geoPointValue"in i?"geo("+(t=i.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in i?function(o){for(var c="[",f=!0,v=0,_=o.values||[];v<_.length;v++)f?f=!1:c+=",",c+=gx(_[v]);return c+"]"}(i.arrayValue):"mapValue"in i?function(o){for(var c="{",f=!0,v=0,_=Object.keys(o.fields||{}).sort();v<_.length;v++){var M=_[v];f?f=!1:c+=",",c+=M+":"+gx(o.fields[M])}return c+"}"}(i.mapValue):l1();var c,t}function Hv(i,t){return{referenceValue:"projects/"+i.projectId+"/databases/"+i.database+"/documents/"+t.path.canonicalString()}}function yx(i){return!!i&&"integerValue"in i}function _x(i){return!!i&&"arrayValue"in i}function ER(i){return!!i&&"nullValue"in i}function zR(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Pv(i){return!!i&&"mapValue"in i}function j9(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){var t={mapValue:{fields:{}}};return K0(i.mapValue.fields,function(c,f){return t.mapValue.fields[c]=j9(f)}),t}if(i.arrayValue){for(var e={arrayValue:{values:[]}},o=0;o<(i.arrayValue.values||[]).length;++o)e.arrayValue.values[o]=j9(i.arrayValue.values[o]);return e}return Object.assign({},i)}var Br=function(){function i(t){this.value=t}return i.empty=function(){return new i({mapValue:{}})},i.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,o=0;o<t.length-1;++o)if(!Pv(e=(e.mapValue.fields||{})[t.get(o)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},i.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=j9(e)},i.prototype.setAll=function(t){var e=this,o=Ei.emptyPath(),c={},f=[];t.forEach(function(_,M){if(!o.isImmediateParentOf(M)){var E=e.getFieldsMap(o);e.applyChanges(E,c,f),c={},f=[],o=M.popLast()}_?c[M.lastSegment()]=j9(_):f.push(M.lastSegment())});var v=this.getFieldsMap(o);this.applyChanges(v,c,f)},i.prototype.delete=function(t){var e=this.field(t.popLast());Pv(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},i.prototype.isEqual=function(t){return d3(this.value,t.value)},i.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var o=0;o<t.length;++o){var c=e.mapValue.fields[t.get(o)];Pv(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},e.mapValue.fields[t.get(o)]=c),e=c}return e.mapValue.fields},i.prototype.applyChanges=function(t,e,o){K0(e,function(_,M){return t[_]=M});for(var c=0,f=o;c<f.length;c++)delete t[f[c]]},i.prototype.clone=function(){return new i(j9(this.value))},i}();function xR(i){var t=[];return K0(i.fields,function(e,o){var c=new Ei([e]);if(Pv(o)){var f=xR(o.mapValue).fields;if(0===f.length)t.push(c);else for(var v=0,_=f;v<_.length;v++)t.push(c.child(_[v]))}else t.push(c)}),new wc(t)}var sn=function(){function i(t,e,o,c,f){this.key=t,this.documentType=e,this.version=o,this.data=c,this.documentState=f}return i.newInvalidDocument=function(t){return new i(t,0,q1.min(),Br.empty(),0)},i.newFoundDocument=function(t,e,o){return new i(t,1,e,o,0)},i.newNoDocument=function(t,e){return new i(t,2,e,Br.empty(),0)},i.newUnknownDocument=function(t,e){return new i(t,3,e,Br.empty(),2)},i.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},i.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Br.empty(),this.documentState=0,this},i.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Br.empty(),this.documentState=2,this},i.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},i.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(i.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),i.prototype.isValidDocument=function(){return 0!==this.documentType},i.prototype.isFoundDocument=function(){return 1===this.documentType},i.prototype.isNoDocument=function(){return 2===this.documentType},i.prototype.isUnknownDocument=function(){return 3===this.documentType},i.prototype.isEqual=function(t){return t instanceof i&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},i.prototype.clone=function(){return new i(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},i.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},i}(),LW=function(i,t,e,o,c,f,v){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===o&&(o=[]),void 0===c&&(c=null),void 0===f&&(f=null),void 0===v&&(v=null),this.path=i,this.collectionGroup=t,this.orderBy=e,this.filters=o,this.limit=c,this.startAt=f,this.endAt=v,this.h=null};function SR(i,t,e,o,c,f,v){return void 0===t&&(t=null),void 0===e&&(e=[]),void 0===o&&(o=[]),void 0===c&&(c=null),void 0===f&&(f=null),void 0===v&&(v=null),new LW(i,t,e,o,c,f,v)}function q9(i){var t=Ge(i);if(null===t.h){var e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(function(o){return(c=o).field.canonicalString()+c.op.toString()+vx(c.value);var c}).join(","),e+="|ob:",e+=t.orderBy.map(function(o){return(c=o).field.canonicalString()+c.dir;var c}).join(","),X0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=Zv(t.startAt)),t.endAt&&(e+="|ub:",e+=Zv(t.endAt)),t.h=e}return t.h}function Fv(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<i.orderBy.length;e++)if(!UW(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(var o=0;o<i.filters.length;o++)if((c=i.filters[o]).op!==(f=t.filters[o]).op||!c.field.isEqual(f.field)||!d3(c.value,f.value))return!1;var c,f;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!IR(i.startAt,t.startAt)&&IR(i.endAt,t.endAt)}function Uv(i){return h1.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}var jr=function(i){function t(e,o,c){var f=this;return(f=i.call(this)||this).field=e,f.op=o,f.value=c,f}return(0,H.ZT)(t,i),t.create=function(e,o,c){return e.isKeyField()?"in"===o||"not-in"===o?this.l(e,o,c):new RW(e,o,c):"array-contains"===o?new OW(e,c):"in"===o?new HW(e,c):"not-in"===o?new PW(e,c):"array-contains-any"===o?new FW(e,c):new t(e,o,c)},t.l=function(e,o,c){return"in"===o?new VW(e,c):new kW(e,c)},t.prototype.matches=function(e){var o=e.data.field(this.field);return"!="===this.op?null!==o&&this.m(Ec(o,this.value)):null!==o&&es(this.value)===es(o)&&this.m(Ec(o,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return l1()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),RW=function(i){function t(e,o,c){var f=this;return(f=i.call(this,e,o,c)||this).key=h1.fromName(c.referenceValue),f}return(0,H.ZT)(t,i),t.prototype.matches=function(e){var o=h1.comparator(e.key,this.key);return this.m(o)},t}(jr),VW=function(i){function t(e,o){var c=this;return(c=i.call(this,e,"in",o)||this).keys=TR(0,o),c}return(0,H.ZT)(t,i),t.prototype.matches=function(e){return this.keys.some(function(o){return o.isEqual(e.key)})},t}(jr),kW=function(i){function t(e,o){var c=this;return(c=i.call(this,e,"not-in",o)||this).keys=TR(0,o),c}return(0,H.ZT)(t,i),t.prototype.matches=function(e){return!this.keys.some(function(o){return o.isEqual(e.key)})},t}(jr);function TR(i,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(o){return h1.fromName(o.referenceValue)})}var OW=function(i){function t(e,o){return i.call(this,e,"array-contains",o)||this}return(0,H.ZT)(t,i),t.prototype.matches=function(e){var o=e.data.field(this.field);return _x(o)&&B9(o.arrayValue,this.value)},t}(jr),HW=function(i){function t(e,o){return i.call(this,e,"in",o)||this}return(0,H.ZT)(t,i),t.prototype.matches=function(e){var o=e.data.field(this.field);return null!==o&&B9(this.value.arrayValue,o)},t}(jr),PW=function(i){function t(e,o){return i.call(this,e,"not-in",o)||this}return(0,H.ZT)(t,i),t.prototype.matches=function(e){if(B9(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var o=e.data.field(this.field);return null!==o&&!B9(this.value.arrayValue,o)},t}(jr),FW=function(i){function t(e,o){return i.call(this,e,"array-contains-any",o)||this}return(0,H.ZT)(t,i),t.prototype.matches=function(e){var o=this,c=e.data.field(this.field);return!(!_x(c)||!c.arrayValue.values)&&c.arrayValue.values.some(function(f){return B9(o.value.arrayValue,f)})},t}(jr),G9=function(i,t){this.position=i,this.before=t};function Zv(i){return(i.before?"b":"a")+":"+i.position.map(function(t){return vx(t)}).join(",")}var zc=function(i,t){void 0===t&&(t="asc"),this.field=i,this.dir=t};function UW(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}function NR(i,t,e){for(var o=0,c=0;c<i.position.length;c++){var f=t[c],v=i.position[c];if(o=f.field.isKeyField()?h1.comparator(h1.fromName(v.referenceValue),e.key):Ec(v,e.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return i.before?o<=0:o<0}function IR(i,t){if(null===i)return null===t;if(null===t||i.before!==t.before||i.position.length!==t.position.length)return!1;for(var e=0;e<i.position.length;e++)if(!d3(i.position[e],t.position[e]))return!1;return!0}var p6=function(i,t,e,o,c,f,v,_){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===o&&(o=[]),void 0===c&&(c=null),void 0===f&&(f="F"),void 0===v&&(v=null),void 0===_&&(_=null),this.path=i,this.collectionGroup=t,this.explicitOrderBy=e,this.filters=o,this.limit=c,this.limitType=f,this.startAt=v,this.endAt=_,this.p=null,this.T=null};function DR(i,t,e,o,c,f,v,_){return new p6(i,t,e,o,c,f,v,_)}function xc(i){return new p6(i)}function Bv(i){return!X0(i.limit)&&"F"===i.limitType}function jv(i){return!X0(i.limit)&&"L"===i.limitType}function bx(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Cx(i){for(var t=0,e=i.filters;t<e.length;t++){var o=e[t];if(o.g())return o.field}return null}function Mx(i){return null!==i.collectionGroup}function Sc(i){var t=Ge(i);if(null===t.p){t.p=[];var e=Cx(t),o=bx(t);if(null!==e&&null===o)e.isKeyField()||t.p.push(new zc(e)),t.p.push(new zc(Ei.keyField(),"asc"));else{for(var c=!1,f=0,v=t.explicitOrderBy;f<v.length;f++){var _=v[f];t.p.push(_),_.field.isKeyField()&&(c=!0)}if(!c){var M=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new zc(Ei.keyField(),M))}}}return t.p}function L4(i){var t=Ge(i);if(!t.T)if("F"===t.limitType)t.T=SR(t.path,t.collectionGroup,Sc(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var e=[],o=0,c=Sc(t);o<c.length;o++){var f=c[o];e.push(new zc(f.field,"desc"===f.dir?"asc":"desc"))}var _=t.endAt?new G9(t.endAt.position,!t.endAt.before):null,M=t.startAt?new G9(t.startAt.position,!t.startAt.before):null;t.T=SR(t.path,t.collectionGroup,e,t.filters,t.limit,_,M)}return t.T}function LR(i,t,e){return new p6(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function W9(i,t){return Fv(L4(i),L4(t))&&i.limitType===t.limitType}function RR(i){return q9(L4(i))+"|lt:"+i.limitType}function wx(i){return"Query(target="+(e=(t=L4(i)).path.canonicalString(),null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(o){return(c=o).field.canonicalString()+" "+c.op+" "+vx(c.value);var c}).join(", ")+"]"),X0(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(o){return(c=o).field.canonicalString()+" ("+c.dir+")";var c}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Zv(t.startAt)),t.endAt&&(e+=", endAt: "+Zv(t.endAt)),"Target("+e+"); limitType=")+i.limitType+")";var t,e}function $9(i,t){return t.isFoundDocument()&&(c=(o=t).key.path,null!==(e=i).collectionGroup?o.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(c):h1.isDocumentKey(e.path)?e.path.isEqual(c):e.path.isImmediateParentOf(c))&&function(e,o){for(var c=0,f=e.explicitOrderBy;c<f.length;c++){var v=f[c];if(!v.field.isKeyField()&&null===o.data.field(v.field))return!1}return!0}(i,t)&&function(e,o){for(var c=0,f=e.filters;c<f.length;c++)if(!f[c].matches(o))return!1;return!0}(i,t)&&function(e,o){return!(e.startAt&&!NR(e.startAt,Sc(e),o)||e.endAt&&NR(e.endAt,Sc(e),o))}(i,t);var e,o,c}function VR(i){return function(t,e){for(var o=!1,c=0,f=Sc(i);c<f.length;c++){var v=f[c],_=ZW(v,t,e);if(0!==_)return _;o=o||v.field.isKeyField()}return 0}}function ZW(i,t,e){var c,v,_,M,o=i.field.isKeyField()?h1.comparator(t.key,e.key):(v=e,_=t.data.field(c=i.field),M=v.data.field(c),null!==_&&null!==M?Ec(_,M):l1());switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return l1()}}function kR(i,t){if(i.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ov(t)?"-0":t}}function OR(i){return{integerValue:""+i}}function HR(i,t){return wR(t)?OR(t):kR(i,t)}var qv=function(){this._=void 0};function BW(i,t,e){return i instanceof Tc?(f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(o=e).seconds,nanos:o.nanoseconds}}}},(c=t)&&(f.fields.__previous_value__=c),{mapValue:f}):i instanceof ts?FR(i,t):i instanceof ns?UR(i,t):function(o,c){var f=PR(o,c),v=ZR(f)+ZR(o.A);return yx(f)&&yx(o.A)?OR(v):kR(o.R,v)}(i,t);var o,c,f}function jW(i,t,e){return i instanceof ts?FR(i,t):i instanceof ns?UR(i,t):e}function PR(i,t){return i instanceof Nc?yx(e=t)||(o=e)&&"doubleValue"in o?t:{integerValue:0}:null;var o,e}var Tc=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,H.ZT)(t,i),t}(qv),ts=function(i){function t(e){var o=this;return(o=i.call(this)||this).elements=e,o}return(0,H.ZT)(t,i),t}(qv);function FR(i,t){for(var e=BR(t),o=function(v){e.some(function(_){return d3(_,v)})||e.push(v)},c=0,f=i.elements;c<f.length;c++)o(f[c]);return{arrayValue:{values:e}}}var ns=function(i){function t(e){var o=this;return(o=i.call(this)||this).elements=e,o}return(0,H.ZT)(t,i),t}(qv);function UR(i,t){for(var e=BR(t),o=function(v){e=e.filter(function(_){return!d3(_,v)})},c=0,f=i.elements;c<f.length;c++)o(f[c]);return{arrayValue:{values:e}}}var Nc=function(i){function t(e,o){var c=this;return(c=i.call(this)||this).R=e,c.A=o,c}return(0,H.ZT)(t,i),t}(qv);function ZR(i){return C2(i.integerValue||i.doubleValue)}function BR(i){return _x(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}var Q9=function(i,t){this.field=i,this.transform=t},qW=function(i,t){this.version=i,this.transformResults=t},bn=function(){function i(t,e){this.updateTime=t,this.exists=e}return i.none=function(){return new i},i.exists=function(t){return new i(void 0,t)},i.updateTime=function(t){return new i(t)},Object.defineProperty(i.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},i}();function Gv(i,t){return void 0!==i.updateTime?t.isFoundDocument()&&t.version.isEqual(i.updateTime):void 0===i.exists||i.exists===t.isFoundDocument()}var Wv=function(){};function GW(i,t,e){var o,c,f,v,_;i instanceof Y9?(c=t,f=e,v=(o=i).value.clone(),_=WR(o.fieldTransforms,c,f.transformResults),v.setAll(_),c.convertToFoundDocument(f.version,v).setHasCommittedMutations()):i instanceof aa?function(o,c,f){if(Gv(o.precondition,c)){var v=WR(o.fieldTransforms,c,f.transformResults),_=c.data;_.setAll(GR(o)),_.setAll(v),c.convertToFoundDocument(f.version,_).setHasCommittedMutations()}else c.convertToUnknownDocument(f.version)}(i,t,e):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,e)}function Ax(i,t,e){var c;i instanceof Y9?function(o,c,f){if(Gv(o.precondition,c)){var v=o.value.clone(),_=$R(o.fieldTransforms,f,c);v.setAll(_),c.convertToFoundDocument(qR(c),v).setHasLocalMutations()}}(i,t,e):i instanceof aa?function(o,c,f){if(Gv(o.precondition,c)){var v=$R(o.fieldTransforms,f,c),_=c.data;_.setAll(GR(o)),_.setAll(v),c.convertToFoundDocument(qR(c),_).setHasLocalMutations()}}(i,t,e):Gv(i.precondition,c=t)&&c.convertToNoDocument(q1.min())}function WW(i,t){for(var e=null,o=0,c=i.fieldTransforms;o<c.length;o++){var f=c[o],v=t.data.field(f.field),_=PR(f.transform,v||null);null!=_&&(null==e&&(e=Br.empty()),e.set(f.field,_))}return e||null}function jR(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&(o=t.fieldTransforms,!!(void 0===(e=i.fieldTransforms)&&void 0===o||e&&o&&Mc(e,o,function(c,f){return(v=c).field.isEqual((_=f).field)&&(E=_.transform,(M=v.transform)instanceof ts&&E instanceof ts||M instanceof ns&&E instanceof ns?Mc(M.elements,E.elements,d3):M instanceof Nc&&E instanceof Nc?d3(M.A,E.A):M instanceof Tc&&E instanceof Tc);var v,_,M,E})))&&(0===i.type?i.value.isEqual(t.value):1!==i.type||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask));var e,o}function qR(i){return i.isFoundDocument()?i.version:q1.min()}var Y9=function(i){function t(e,o,c,f){void 0===f&&(f=[]);var v=this;return(v=i.call(this)||this).key=e,v.value=o,v.precondition=c,v.fieldTransforms=f,v.type=0,v}return(0,H.ZT)(t,i),t}(Wv),aa=function(i){function t(e,o,c,f,v){void 0===v&&(v=[]);var _=this;return(_=i.call(this)||this).key=e,_.data=o,_.fieldMask=c,_.precondition=f,_.fieldTransforms=v,_.type=1,_}return(0,H.ZT)(t,i),t}(Wv);function GR(i){var t=new Map;return i.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var o=i.data.field(e);t.set(e,o)}}),t}function WR(i,t,e){var o=new Map;A1(i.length===e.length);for(var c=0;c<e.length;c++){var f=i[c],v=f.transform,_=t.data.field(f.field);o.set(f.field,jW(v,_,e[c]))}return o}function $R(i,t,e){for(var o=new Map,c=0,f=i;c<f.length;c++){var v=f[c],_=v.transform,M=e.data.field(v.field);o.set(v.field,BW(_,M,t))}return o}var M2,tt,J9=function(i){function t(e,o){var c=this;return(c=i.call(this)||this).key=e,c.precondition=o,c.type=2,c.fieldTransforms=[],c}return(0,H.ZT)(t,i),t}(Wv),Ex=function(i){function t(e,o){var c=this;return(c=i.call(this)||this).key=e,c.precondition=o,c.type=3,c.fieldTransforms=[],c}return(0,H.ZT)(t,i),t}(Wv),$W=function(i){this.count=i};function QR(i){switch(i){case Ce.OK:return l1();case Ce.CANCELLED:case Ce.UNKNOWN:case Ce.DEADLINE_EXCEEDED:case Ce.RESOURCE_EXHAUSTED:case Ce.INTERNAL:case Ce.UNAVAILABLE:case Ce.UNAUTHENTICATED:return!1;case Ce.INVALID_ARGUMENT:case Ce.NOT_FOUND:case Ce.ALREADY_EXISTS:case Ce.PERMISSION_DENIED:case Ce.FAILED_PRECONDITION:case Ce.ABORTED:case Ce.OUT_OF_RANGE:case Ce.UNIMPLEMENTED:case Ce.DATA_LOSS:return!0;default:return l1()}}function YR(i){if(void 0===i)return b2("GRPC error has no .code"),Ce.UNKNOWN;switch(i){case M2.OK:return Ce.OK;case M2.CANCELLED:return Ce.CANCELLED;case M2.UNKNOWN:return Ce.UNKNOWN;case M2.DEADLINE_EXCEEDED:return Ce.DEADLINE_EXCEEDED;case M2.RESOURCE_EXHAUSTED:return Ce.RESOURCE_EXHAUSTED;case M2.INTERNAL:return Ce.INTERNAL;case M2.UNAVAILABLE:return Ce.UNAVAILABLE;case M2.UNAUTHENTICATED:return Ce.UNAUTHENTICATED;case M2.INVALID_ARGUMENT:return Ce.INVALID_ARGUMENT;case M2.NOT_FOUND:return Ce.NOT_FOUND;case M2.ALREADY_EXISTS:return Ce.ALREADY_EXISTS;case M2.PERMISSION_DENIED:return Ce.PERMISSION_DENIED;case M2.FAILED_PRECONDITION:return Ce.FAILED_PRECONDITION;case M2.ABORTED:return Ce.ABORTED;case M2.OUT_OF_RANGE:return Ce.OUT_OF_RANGE;case M2.UNIMPLEMENTED:return Ce.UNIMPLEMENTED;case M2.DATA_LOSS:return Ce.DATA_LOSS;default:return l1()}}(tt=M2||(M2={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";var Cn=function(){function i(t,e){this.comparator=t,this.root=e||sa.EMPTY}return i.prototype.insert=function(t,e){return new i(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,sa.BLACK,null,null))},i.prototype.remove=function(t){return new i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sa.BLACK,null,null))},i.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var o=this.comparator(t,e.key);if(0===o)return e.value;o<0?e=e.left:o>0&&(e=e.right)}return null},i.prototype.indexOf=function(t){for(var e=0,o=this.root;!o.isEmpty();){var c=this.comparator(t,o.key);if(0===c)return e+o.left.size;c<0?o=o.left:(e+=o.left.size+1,o=o.right)}return-1},i.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(i.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),i.prototype.minKey=function(){return this.root.minKey()},i.prototype.maxKey=function(){return this.root.maxKey()},i.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},i.prototype.forEach=function(t){this.inorderTraversal(function(e,o){return t(e,o),!1})},i.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,o){return t.push(e+":"+o),!1}),"{"+t.join(", ")+"}"},i.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},i.prototype.getIterator=function(){return new $v(this.root,null,this.comparator,!1)},i.prototype.getIteratorFrom=function(t){return new $v(this.root,t,this.comparator,!1)},i.prototype.getReverseIterator=function(){return new $v(this.root,null,this.comparator,!0)},i.prototype.getReverseIteratorFrom=function(t){return new $v(this.root,t,this.comparator,!0)},i}(),$v=function(){function i(t,e,o,c){this.isReverse=c,this.nodeStack=[];for(var f=1;!t.isEmpty();)if(f=e?o(t.key,e):1,c&&(f*=-1),f<0)t=this.isReverse?t.left:t.right;else{if(0===f){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return i.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},i.prototype.hasNext=function(){return this.nodeStack.length>0},i.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},i}(),sa=function(){function i(t,e,o,c,f){this.key=t,this.value=e,this.color=null!=o?o:i.RED,this.left=null!=c?c:i.EMPTY,this.right=null!=f?f:i.EMPTY,this.size=this.left.size+1+this.right.size}return i.prototype.copy=function(t,e,o,c,f){return new i(null!=t?t:this.key,null!=e?e:this.value,null!=o?o:this.color,null!=c?c:this.left,null!=f?f:this.right)},i.prototype.isEmpty=function(){return!1},i.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},i.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},i.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},i.prototype.minKey=function(){return this.min().key},i.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},i.prototype.insert=function(t,e,o){var c=this,f=o(t,c.key);return(c=f<0?c.copy(null,null,null,c.left.insert(t,e,o),null):0===f?c.copy(null,e,null,null,null):c.copy(null,null,null,null,c.right.insert(t,e,o))).fixUp()},i.prototype.removeMin=function(){if(this.left.isEmpty())return i.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},i.prototype.remove=function(t,e){var o,c=this;if(e(t,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(t,e),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===e(t,c.key)){if(c.right.isEmpty())return i.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(t,e))}return c.fixUp()},i.prototype.isRed=function(){return this.color},i.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},i.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},i.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},i.prototype.rotateLeft=function(){var t=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},i.prototype.rotateRight=function(){var t=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},i.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},i.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},i.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw l1();var t=this.left.check();if(t!==this.right.check())throw l1();return t+(this.isRed()?0:1)},i}();sa.EMPTY=null,sa.RED=!0,sa.BLACK=!1,sa.EMPTY=new(function(){function i(){this.size=0}return Object.defineProperty(i.prototype,"key",{get:function(){throw l1()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){throw l1()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){throw l1()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){throw l1()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){throw l1()},enumerable:!1,configurable:!0}),i.prototype.copy=function(t,e,o,c,f){return this},i.prototype.insert=function(t,e,o){return new sa(t,e)},i.prototype.remove=function(t,e){return this},i.prototype.isEmpty=function(){return!0},i.prototype.inorderTraversal=function(t){return!1},i.prototype.reverseTraversal=function(t){return!1},i.prototype.minKey=function(){return null},i.prototype.maxKey=function(){return null},i.prototype.isRed=function(){return!1},i.prototype.checkMaxDepth=function(){return!0},i.prototype.check=function(){return 0},i}());var D2=function(){function i(t){this.comparator=t,this.data=new Cn(this.comparator)}return i.prototype.has=function(t){return null!==this.data.get(t)},i.prototype.first=function(){return this.data.minKey()},i.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(i.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),i.prototype.indexOf=function(t){return this.data.indexOf(t)},i.prototype.forEach=function(t){this.data.inorderTraversal(function(e,o){return t(e),!1})},i.prototype.forEachInRange=function(t,e){for(var o=this.data.getIteratorFrom(t[0]);o.hasNext();){var c=o.getNext();if(this.comparator(c.key,t[1])>=0)return;e(c.key)}},i.prototype.forEachWhile=function(t,e){var o;for(o=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return},i.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},i.prototype.getIterator=function(){return new JR(this.data.getIterator())},i.prototype.getIteratorFrom=function(t){return new JR(this.data.getIteratorFrom(t))},i.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},i.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},i.prototype.isEmpty=function(){return this.data.isEmpty()},i.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(o){e=e.add(o)}),e},i.prototype.isEqual=function(t){if(!(t instanceof i)||this.size!==t.size)return!1;for(var e=this.data.getIterator(),o=t.data.getIterator();e.hasNext();){var c=e.getNext().key,f=o.getNext().key;if(0!==this.comparator(c,f))return!1}return!0},i.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},i.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},i.prototype.copy=function(t){var e=new i(this.comparator);return e.data=t,e},i}(),JR=function(){function i(t){this.iter=t}return i.prototype.getNext=function(){return this.iter.getNext().key},i.prototype.hasNext=function(){return this.iter.hasNext()},i}(),QW=new Cn(h1.comparator);function R4(){return QW}var YW=new Cn(h1.comparator);function zx(){return YW}var JW=new Cn(h1.comparator);function KR(){return JW}var KW=new D2(h1.comparator);function bt(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];for(var e=KW,o=0,c=i;o<c.length;o++){var f=c[o];e=e.add(f)}return e}var XW=new D2(Y1);function Qv(){return XW}var xx=function(){function i(t,e,o,c,f){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=f}return i.createSynthesizedRemoteEventForCurrentChange=function(t,e){var o=new Map;return o.set(t,Sx.createSynthesizedTargetChangeForCurrentChange(t,e)),new i(q1.min(),o,Qv(),R4(),bt())},i}(),Sx=function(){function i(t,e,o,c,f){this.resumeToken=t,this.current=e,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=f}return i.createSynthesizedTargetChangeForCurrentChange=function(t,e){return new i(Zn.EMPTY_BYTE_STRING,e,bt(),bt(),bt())},i}(),Yv=function(i,t,e,o){this.v=i,this.removedTargetIds=t,this.key=e,this.P=o},XR=function(i,t){this.targetId=i,this.V=t},eV=function(i,t,e,o){void 0===e&&(e=Zn.EMPTY_BYTE_STRING),void 0===o&&(o=null),this.state=i,this.targetIds=t,this.resumeToken=e,this.cause=o},tV=function(){function i(){this.S=0,this.D=rV(),this.C=Zn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(i.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),i.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},i.prototype.M=function(){var t=bt(),e=bt(),o=bt();return this.D.forEach(function(c,f){switch(f){case 0:t=t.add(c);break;case 2:e=e.add(c);break;case 1:o=o.add(c);break;default:l1()}}),new Sx(this.C,this.N,t,e,o)},i.prototype.L=function(){this.k=!1,this.D=rV()},i.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},i.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},i.prototype.U=function(){this.S+=1},i.prototype.K=function(){this.S-=1},i.prototype.j=function(){this.k=!0,this.N=!0},i}(),e$=function(){function i(t){this.W=t,this.G=new Map,this.H=R4(),this.J=nV(),this.Y=new D2(Y1)}return i.prototype.X=function(t){for(var e=0,o=t.v;e<o.length;e++){var c=o[e];t.P&&t.P.isFoundDocument()?this.Z(c,t.P):this.tt(c,t.key,t.P)}for(var f=0,v=t.removedTargetIds;f<v.length;f++)this.tt(c=v[f],t.key,t.P)},i.prototype.et=function(t){var e=this;this.forEachTarget(t,function(o){var c=e.nt(o);switch(t.state){case 0:e.st(o)&&c.O(t.resumeToken);break;case 1:c.K(),c.F||c.L(),c.O(t.resumeToken);break;case 2:c.K(),c.F||e.removeTarget(o);break;case 3:e.st(o)&&(c.j(),c.O(t.resumeToken));break;case 4:e.st(o)&&(e.it(o),c.O(t.resumeToken));break;default:l1()}})},i.prototype.forEachTarget=function(t,e){var o=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(c,f){o.st(f)&&e(f)})},i.prototype.rt=function(t){var e=t.targetId,o=t.V.count,c=this.ot(e);if(c){var f=c.target;if(Uv(f))if(0===o){var v=new h1(f.path);this.tt(e,v,sn.newNoDocument(v,q1.min()))}else A1(1===o);else this.ct(e)!==o&&(this.it(e),this.Y=this.Y.add(e))}},i.prototype.ut=function(t){var e=this,o=new Map;this.G.forEach(function(v,_){var M=e.ot(_);if(M){if(v.current&&Uv(M.target)){var E=new h1(M.target.path);null!==e.H.get(E)||e.at(_,E)||e.tt(_,E,sn.newNoDocument(E,t))}v.$&&(o.set(_,v.M()),v.L())}});var c=bt();this.J.forEach(function(v,_){var M=!0;_.forEachWhile(function(E){var S=e.ot(E);return!S||2===S.purpose||(M=!1,!1)}),M&&(c=c.add(v))});var f=new xx(t,o,this.Y,this.H,c);return this.H=R4(),this.J=nV(),this.Y=new D2(Y1),f},i.prototype.Z=function(t,e){if(this.st(t)){var o=this.at(t,e.key)?2:0;this.nt(t).B(e.key,o),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},i.prototype.tt=function(t,e,o){if(this.st(t)){var c=this.nt(t);this.at(t,e)?c.B(e,1):c.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),o&&(this.H=this.H.insert(e,o))}},i.prototype.removeTarget=function(t){this.G.delete(t)},i.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},i.prototype.U=function(t){this.nt(t).U()},i.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new tV,this.G.set(t,e)),e},i.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new D2(Y1),this.J=this.J.insert(t,e)),e},i.prototype.st=function(t){var e=null!==this.ot(t);return e||Ue("WatchChangeAggregator","Detected inactive target",t),e},i.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},i.prototype.it=function(t){var e=this;this.G.set(t,new tV),this.W.getRemoteKeysForTarget(t).forEach(function(o){e.tt(t,o,null)})},i.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},i}();function nV(){return new Cn(h1.comparator)}function rV(){return new Cn(h1.comparator)}var t$={asc:"ASCENDING",desc:"DESCENDING"},n$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r$=function(i,t){this.databaseId=i,this.I=t};function K9(i,t){return i.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function iV(i,t){return i.I?t.toBase64():t.toUint8Array()}function i$(i,t){return K9(i,t.toTimestamp())}function B2(i){return A1(!!i),q1.fromTimestamp((e=oa(i),new cr(e.seconds,e.nanos)));var e}function Tx(i,t){return(e=i,new ht(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function oV(i){var t=ht.fromString(i);return A1(gV(t)),t}function X9(i,t){return Tx(i.databaseId,t.path)}function p3(i,t){var e=oV(t);if(e.get(1)!==i.databaseId.projectId)throw new Oe(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new Oe(Ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new h1(sV(e))}function Nx(i,t){return Tx(i.databaseId,t)}function aV(i){var t=oV(i);return 4===t.length?ht.emptyPath():sV(t)}function eu(i){return new ht(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function sV(i){return A1(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function cV(i,t,e){return{name:X9(i,t),fields:e.value.mapValue.fields}}function lV(i,t,e){var o=p3(i,t.name),c=B2(t.updateTime),f=new Br({mapValue:{fields:t.fields}}),v=sn.newFoundDocument(o,c,f);return e&&v.setHasCommittedMutations(),e?v.setHasCommittedMutations():v}function Jv(i,t){var e,c;if(t instanceof Y9)e={update:cV(i,t.key,t.value)};else if(t instanceof J9)e={delete:X9(i,t.key)};else if(t instanceof aa)e={update:cV(i,t.key,t.data),updateMask:l$(t.fieldMask)};else{if(!(t instanceof Ex))return l1();e={verify:X9(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(function(o){return function(c,f){var v=f.transform;if(v instanceof Tc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof ts)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof ns)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof Nc)return{fieldPath:f.field.canonicalString(),increment:v.A};throw l1()}(0,o)})),t.precondition.isNone||(e.currentDocument=void 0!==(c=t.precondition).updateTime?{updateTime:i$(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:l1()),e}function uV(i,t){var E,e=t.currentDocument?void 0!==(E=t.currentDocument).updateTime?bn.updateTime(B2(E.updateTime)):void 0!==E.exists?bn.exists(E.exists):bn.none():bn.none(),o=t.updateTransforms?t.updateTransforms.map(function(E){return function(S,I){var R=null;"setToServerValue"in I?(A1("REQUEST_TIME"===I.setToServerValue),R=new Tc):"appendMissingElements"in I?R=new ts(I.appendMissingElements.values||[]):"removeAllFromArray"in I?R=new ns(I.removeAllFromArray.values||[]):"increment"in I?R=new Nc(S,I.increment):l1();var J=Ei.fromServerFormat(I.fieldPath);return new Q9(J,R)}(i,E)}):[];if(t.update){var c=p3(i,t.update.name),f=new Br({mapValue:{fields:t.update.fields}});if(t.updateMask){var v=function(E){return new wc((E.fieldPaths||[]).map(function(I){return Ei.fromServerFormat(I)}))}(t.updateMask);return new aa(c,f,v,e,o)}return new Y9(c,f,e,o)}if(t.delete){var _=p3(i,t.delete);return new J9(_,e)}if(t.verify){var M=p3(i,t.verify);return new Ex(M,e)}return l1()}function fV(i,t){return{documents:[Nx(i,t.path)]}}function hV(i,t){var e={structuredQuery:{}},o=t.path;null!==t.collectionGroup?(e.parent=Nx(i,o),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Nx(i,o.popLast()),e.structuredQuery.from=[{collectionId:o.lastSegment()}]);var c=function(_){if(0!==_.length){var M=_.map(function(E){return function(S){if("=="===S.op){if(zR(S.value))return{unaryFilter:{field:Ic(S.field),op:"IS_NAN"}};if(ER(S.value))return{unaryFilter:{field:Ic(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(zR(S.value))return{unaryFilter:{field:Ic(S.field),op:"IS_NOT_NAN"}};if(ER(S.value))return{unaryFilter:{field:Ic(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ic(S.field),op:a$(S.op),value:S.value}}}(E)});return 1===M.length?M[0]:{compositeFilter:{op:"AND",filters:M}}}}(t.filters);c&&(e.structuredQuery.where=c);var f=function(_){if(0!==_.length)return _.map(function(M){return{field:Ic((E=M).field),direction:o$(E.dir)};var E})}(t.orderBy);f&&(e.structuredQuery.orderBy=f);var M,v=(M=t.limit,i.I||X0(M)?M:{value:M});return null!==v&&(e.structuredQuery.limit=v),t.startAt&&(e.structuredQuery.startAt=mV(t.startAt)),t.endAt&&(e.structuredQuery.endAt=mV(t.endAt)),e}function dV(i){var t=aV(i.parent),e=i.structuredQuery,o=e.from?e.from.length:0,c=null;if(o>0){A1(1===o);var f=e.from[0];f.allDescendants?c=f.collectionId:t=t.child(f.collectionId)}var v=[];e.where&&(v=pV(e.where));var _=[];e.orderBy&&(_=e.orderBy.map(function(I){return new zc(Dc((R=I).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));var I,R,M=null;e.limit&&(M=X0(R="object"==typeof(I=e.limit)?I.value:I)?null:R);var E=null;e.startAt&&(E=vV(e.startAt));var S=null;return e.endAt&&(S=vV(e.endAt)),DR(t,c,_,v,M,"F",E,S)}function pV(i){return i?void 0!==i.unaryFilter?[c$(i)]:void 0!==i.fieldFilter?[s$(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(function(t){return pV(t)}).reduce(function(t,e){return t.concat(e)}):l1():[]}function mV(i){return{before:i.before,values:i.position}}function vV(i){return new G9(i.values||[],!!i.before)}function o$(i){return t$[i]}function a$(i){return n$[i]}function Ic(i){return{fieldPath:i.canonicalString()}}function Dc(i){return Ei.fromServerFormat(i.fieldPath)}function s$(i){return jr.create(Dc(i.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return l1()}}(i.fieldFilter.op),i.fieldFilter.value)}function c$(i){switch(i.unaryFilter.op){case"IS_NAN":var t=Dc(i.unaryFilter.field);return jr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var e=Dc(i.unaryFilter.field);return jr.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var o=Dc(i.unaryFilter.field);return jr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var c=Dc(i.unaryFilter.field);return jr.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return l1()}}function l$(i){var t=[];return i.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function gV(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function zi(i){for(var t="",e=0;e<i.length;e++)t.length>0&&(t=yV(t)),t=u$(i.get(e),t);return yV(t)}function u$(i,t){for(var e=t,o=i.length,c=0;c<o;c++){var f=i.charAt(c);switch(f){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=f}}return e}function yV(i){return i+"\x01\x01"}function m6(i){var t=i.length;if(A1(t>=2),2===t)return A1("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),ht.emptyPath();for(var e=t-2,o=[],c="",f=0;f<t;){var v=i.indexOf("\x01",f);switch((v<0||v>e)&&l1(),i.charAt(v+1)){case"\x01":var _=i.substring(f,v),M=void 0;0===c.length?M=_:(M=c+=_,c=""),o.push(M);break;case"\x10":c+=i.substring(f,v),c+="\0";break;case"\x11":c+=i.substring(f,v+1);break;default:l1()}f=v+2}return new ht(o)}var f$=function(i,t){this.seconds=i,this.nanoseconds=t},qr=function(i,t,e){this.ownerId=i,this.allowTabSynchronization=t,this.leaseTimestampMs=e};qr.store="owner",qr.key="owner";var ca=function(i,t,e){this.userId=i,this.lastAcknowledgedBatchId=t,this.lastStreamToken=e};ca.store="mutationQueues",ca.keyPath="userId";var Rt=function(i,t,e,o,c){this.userId=i,this.batchId=t,this.localWriteTimeMs=e,this.baseMutations=o,this.mutations=c};Rt.store="mutations",Rt.keyPath="batchId",Rt.userMutationsIndex="userMutationsIndex",Rt.userMutationsKeyPath=["userId","batchId"];var Mn=function(){function i(){}return i.prefixForUser=function(t){return[t]},i.prefixForPath=function(t,e){return[t,zi(e)]},i.key=function(t,e,o){return[t,zi(e),o]},i}();Mn.store="documentMutations",Mn.PLACEHOLDER=new Mn;var h$=function(i,t){this.path=i,this.readTime=t},d$=function(i,t){this.path=i,this.version=t},e2=function(i,t,e,o,c,f){this.unknownDocument=i,this.noDocument=t,this.document=e,this.hasCommittedMutations=o,this.readTime=c,this.parentPath=f};e2.store="remoteDocuments",e2.readTimeIndex="readTimeIndex",e2.readTimeIndexPath="readTime",e2.collectionReadTimeIndex="collectionReadTimeIndex",e2.collectionReadTimeIndexPath=["parentPath","readTime"];var m3=function(i){this.byteSize=i};m3.store="remoteDocumentGlobal",m3.key="remoteDocumentGlobalKey";var lr=function(i,t,e,o,c,f,v){this.targetId=i,this.canonicalId=t,this.readTime=e,this.resumeToken=o,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=f,this.query=v};lr.store="targets",lr.keyPath="targetId",lr.queryTargetsIndexName="queryTargetsIndex",lr.queryTargetsKeyPath=["canonicalId","targetId"];var cn=function(i,t,e){this.targetId=i,this.path=t,this.sequenceNumber=e};cn.store="targetDocuments",cn.keyPath=["targetId","path"],cn.documentTargetsIndex="documentTargetsIndex",cn.documentTargetsKeyPath=["path","targetId"];var Gr=function(i,t,e,o){this.highestTargetId=i,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=e,this.targetCount=o};Gr.key="targetGlobalKey",Gr.store="targetGlobal";var rs=function(i,t){this.collectionId=i,this.parent=t};rs.store="collectionParents",rs.keyPath=["collectionId","parent"];var v6=function(i,t,e,o){this.clientId=i,this.updateTimeMs=t,this.networkEnabled=e,this.inForeground=o};v6.store="clientMetadata",v6.keyPath="clientId";var Lc=function(i,t,e){this.bundleId=i,this.createTime=t,this.version=e};Lc.store="bundles",Lc.keyPath="bundleId";var Rc=function(i,t,e){this.name=i,this.readTime=t,this.bundledQuery=e};Rc.store="namedQueries",Rc.keyPath="name";var p$=(0,H.ev)((0,H.ev)([],(0,H.ev)((0,H.ev)([],(0,H.ev)((0,H.ev)([],(0,H.ev)((0,H.ev)([],[ca.store,Rt.store,Mn.store,e2.store,lr.store,qr.store,Gr.store,cn.store]),[v6.store])),[m3.store])),[rs.store])),[Lc.store,Rc.store]),_V="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bV=function(){function i(){this.onCommittedListeners=[]}return i.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},i.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},i}(),wn=function(){var i=this;this.promise=new Promise(function(t,e){i.resolve=t,i.reject=e})},Pe=function(){function i(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(o){e.isDone=!0,e.result=o,e.nextCallback&&e.nextCallback(o)},function(o){e.isDone=!0,e.error=o,e.catchCallback&&e.catchCallback(o)})}return i.prototype.catch=function(t){return this.next(void 0,t)},i.prototype.next=function(t,e){var o=this;return this.callbackAttached&&l1(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new i(function(c,f){o.nextCallback=function(v){o.wrapSuccess(t,v).next(c,f)},o.catchCallback=function(v){o.wrapFailure(e,v).next(c,f)}})},i.prototype.toPromise=function(){var t=this;return new Promise(function(e,o){t.next(e,o)})},i.prototype.wrapUserFunction=function(t){try{var e=t();return e instanceof i?e:i.resolve(e)}catch(o){return i.reject(o)}},i.prototype.wrapSuccess=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):i.resolve(e)},i.prototype.wrapFailure=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):i.reject(e)},i.resolve=function(t){return new i(function(e,o){e(t)})},i.reject=function(t){return new i(function(e,o){o(t)})},i.waitFor=function(t){return new i(function(e,o){var c=0,f=0,v=!1;t.forEach(function(_){++c,_.next(function(){++f,v&&f===c&&e()},function(M){return o(M)})}),v=!0,f===c&&e()})},i.or=function(t){for(var e=i.resolve(!1),o=function(v){e=e.next(function(_){return _?i.resolve(_):v()})},c=0,f=t;c<f.length;c++)o(f[c]);return e},i.forEach=function(t,e){var o=this,c=[];return t.forEach(function(f,v){c.push(e.call(o,f,v))}),this.waitFor(c)},i}(),CV=function(){function i(t,e){var o=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new wn,this.transaction.oncomplete=function(){o.ft.resolve()},this.transaction.onabort=function(){e.error?o.ft.reject(new tu(t,e.error)):o.ft.resolve()},this.transaction.onerror=function(c){var f=Ix(c.target.error);o.ft.reject(new tu(t,f))}}return i.open=function(t,e,o,c){try{return new i(e,t.transaction(c,o))}catch(f){throw new tu(e,f)}},Object.defineProperty(i.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),i.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Ue("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},i.prototype.store=function(t){var e=this.transaction.objectStore(t);return new v$(e)},i}(),Vc=function(){function i(t,e,o){this.name=t,this.version=e,this.wt=o,12.2===i._t((0,P1.z$)())&&b2("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return i.delete=function(t){return Ue("SimpleDb","Removing database:",t),os(window.indexedDB.deleteDatabase(t)).toPromise()},i.yt=function(){if("undefined"==typeof indexedDB)return!1;if(i.gt())return!0;var t=(0,P1.z$)(),e=i._t(t),o=0<e&&e<10,c=i.Et(t),f=0<c&&c<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||o||f)},i.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},i.It=function(t,e){return t.store(e)},i._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(o)},i.Et=function(t){var e=t.match(/Android ([\d.]+)/i),o=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(o)},i.prototype.At=function(t){return(0,H.mG)(this,void 0,void 0,function(){var e,o=this;return(0,H.Jh)(this,function(c){switch(c.label){case 0:return this.db?[3,2]:(Ue("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(f,v){var _=indexedDB.open(o.name,o.version);_.onsuccess=function(M){f(M.target.result)},_.onblocked=function(){v(new tu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},_.onerror=function(M){var E=M.target.error;v("VersionError"===E.name?new Oe(Ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new tu(t,E))},_.onupgradeneeded=function(M){Ue("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',M.oldVersion),o.wt.Rt(M.target.result,_.transaction,M.oldVersion,o.version).next(function(){Ue("SimpleDb","Database upgrade to version "+o.version+" complete")})}})]);case 1:e.db=c.sent(),c.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(f){return o.bt(f)}),this.db)]}})})},i.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},i.prototype.runTransaction=function(t,e,o,c){return(0,H.mG)(this,void 0,void 0,function(){var f,v,_,M,E;return(0,H.Jh)(this,function(S){switch(S.label){case 0:f="readonly"===e,v=0,_=function(){var I,R,O,U,J;return(0,H.Jh)(this,function(le){switch(le.label){case 0:++v,le.label=1;case 1:return le.trys.push([1,4,,5]),[4,M.At(t)];case 2:return M.db=le.sent(),I=CV.open(M.db,t,f?"readonly":"readwrite",o),R=c(I).catch(function(ge){return I.abort(ge),Pe.reject(ge)}).toPromise(),O={},R.catch(function(){}),[4,I.dt];case 3:return[2,(O.value=(le.sent(),R),O)];case 4:return Ue("SimpleDb","Transaction failed with error:",(U=le.sent()).message,"Retrying:",J="FirebaseError"!==U.name&&v<3),M.close(),J?[3,5]:[2,{value:Promise.reject(U)}];case 5:return[2]}})},M=this,S.label=1;case 1:return[5,_()];case 2:if("object"==typeof(E=S.sent()))return[2,E.value];S.label=3;case 3:return[3,1];case 4:return[2]}})})},i.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},i}(),m$=function(){function i(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(i.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),i.prototype.done=function(){this.Vt=!0},i.prototype.Ct=function(t){this.St=t},i.prototype.delete=function(){return os(this.Pt.delete())},i}(),tu=function(i){function t(e,o){var c=this;return(c=i.call(this,Ce.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+o)||this).name="IndexedDbTransactionError",c}return(0,H.ZT)(t,i),t}(Oe);function is(i){return"IndexedDbTransactionError"===i.name}var v$=function(){function i(t){this.store=t}return i.prototype.put=function(t,e){var o;return void 0!==e?(Ue("SimpleDb","PUT",this.store.name,t,e),o=this.store.put(e,t)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",t),o=this.store.put(t)),os(o)},i.prototype.add=function(t){return Ue("SimpleDb","ADD",this.store.name,t,t),os(this.store.add(t))},i.prototype.get=function(t){var e=this;return os(this.store.get(t)).next(function(o){return void 0===o&&(o=null),Ue("SimpleDb","GET",e.store.name,t,o),o})},i.prototype.delete=function(t){return Ue("SimpleDb","DELETE",this.store.name,t),os(this.store.delete(t))},i.prototype.count=function(){return Ue("SimpleDb","COUNT",this.store.name),os(this.store.count())},i.prototype.Nt=function(t,e){var o=this.cursor(this.options(t,e)),c=[];return this.xt(o,function(f,v){c.push(v)}).next(function(){return c})},i.prototype.kt=function(t,e){Ue("SimpleDb","DELETE ALL",this.store.name);var o=this.options(t,e);o.Ft=!1;var c=this.cursor(o);return this.xt(c,function(f,v,_){return _.delete()})},i.prototype.$t=function(t,e){var o;e?o=t:(o={},e=t);var c=this.cursor(o);return this.xt(c,e)},i.prototype.Ot=function(t){var e=this.cursor({});return new Pe(function(o,c){e.onerror=function(f){var v=Ix(f.target.error);c(v)},e.onsuccess=function(f){var v=f.target.result;v?t(v.primaryKey,v.value).next(function(_){_?v.continue():o()}):o()}})},i.prototype.xt=function(t,e){var o=[];return new Pe(function(c,f){t.onerror=function(v){f(v.target.error)},t.onsuccess=function(v){var _=v.target.result;if(_){var M=new m$(_),E=e(_.primaryKey,_.value,M);if(E instanceof Pe){var S=E.catch(function(I){return M.done(),Pe.reject(I)});o.push(S)}M.isDone?c():null===M.Dt?_.continue():_.continue(M.Dt)}else c()}}).next(function(){return Pe.waitFor(o)})},i.prototype.options=function(t,e){var o;return void 0!==t&&("string"==typeof t?o=t:e=t),{index:o,range:e}},i.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var o=this.store.index(t.index);return t.Ft?o.openKeyCursor(t.range,e):o.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},i}();function os(i){return new Pe(function(t,e){i.onsuccess=function(o){t(o.target.result)},i.onerror=function(o){var c=Ix(o.target.error);e(c)}})}var MV=!1;function Ix(i){var t=Vc._t((0,P1.z$)());if(t>=12.2&&t<13){var e="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(e)>=0){var o=new Oe("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return MV||(MV=!0,setTimeout(function(){throw o},0)),o}}return i}var wV=function(i){function t(e,o){var c=this;return(c=i.call(this)||this).Mt=e,c.currentSequenceNumber=o,c}return(0,H.ZT)(t,i),t}(bV);function ur(i,t){var e=Ge(i);return Vc.It(e.Mt,t)}var Dx=function(){function i(t,e,o,c){this.batchId=t,this.localWriteTime=e,this.baseMutations=o,this.mutations=c}return i.prototype.applyToRemoteDocument=function(t,e){for(var o=e.mutationResults,c=0;c<this.mutations.length;c++){var f=this.mutations[c];f.key.isEqual(t.key)&&GW(f,t,o[c])}},i.prototype.applyToLocalView=function(t){for(var e=0,o=this.baseMutations;e<o.length;e++)(v=o[e]).key.isEqual(t.key)&&Ax(v,t,this.localWriteTime);for(var c=0,f=this.mutations;c<f.length;c++){var v;(v=f[c]).key.isEqual(t.key)&&Ax(v,t,this.localWriteTime)}},i.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(o){var c=t.get(o.key),f=c;e.applyToLocalView(f),c.isValidDocument()||f.convertToNoDocument(q1.min())})},i.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},bt())},i.prototype.isEqual=function(t){return this.batchId===t.batchId&&Mc(this.mutations,t.mutations,function(e,o){return jR(e,o)})&&Mc(this.baseMutations,t.baseMutations,function(e,o){return jR(e,o)})},i}(),g$=function(){function i(t,e,o,c){this.batch=t,this.commitVersion=e,this.mutationResults=o,this.docVersions=c}return i.from=function(t,e,o){A1(t.mutations.length===o.length);for(var c=KR(),f=t.mutations,v=0;v<f.length;v++)c=c.insert(f[v].key,o[v].version);return new i(t,e,o,c)},i}(),Kv=function(){function i(t,e,o,c,f,v,_){void 0===f&&(f=q1.min()),void 0===v&&(v=q1.min()),void 0===_&&(_=Zn.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=_}return i.prototype.withSequenceNumber=function(t){return new i(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},i.prototype.withResumeToken=function(t,e){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},i.prototype.withLastLimboFreeSnapshotVersion=function(t){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},i}(),AV=function(i){this.Lt=i};function Lx(i,t){if(t.document)return lV(i.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=h1.fromSegments(t.noDocument.path),o=Oc(t.noDocument.readTime),c=sn.newNoDocument(e,o);return t.hasCommittedMutations?c.setHasCommittedMutations():c}if(t.unknownDocument){var f=h1.fromSegments(t.unknownDocument.path);return o=Oc(t.unknownDocument.version),sn.newUnknownDocument(f,o)}return l1()}function EV(i,t,e){var I,R,o=Rx(e),c=t.key.path.popLast().toArray();if(t.isFoundDocument()){var f={name:X9(I=i.Lt,(R=t).key),fields:R.data.value.mapValue.fields,updateTime:K9(I,R.version.toTimestamp())},v=t.hasCommittedMutations;return new e2(null,null,f,v,o,c)}if(t.isNoDocument()){var _=t.key.path.toArray(),M=kc(t.version);return v=t.hasCommittedMutations,new e2(null,new h$(_,M),null,v,o,c)}if(t.isUnknownDocument()){var E=t.key.path.toArray(),S=kc(t.version);return new e2(new d$(E,S),null,null,!0,o,c)}return l1()}function Rx(i){var t=i.toTimestamp();return[t.seconds,t.nanoseconds]}function zV(i){var t=new cr(i[0],i[1]);return q1.fromTimestamp(t)}function kc(i){var t=i.toTimestamp();return new f$(t.seconds,t.nanoseconds)}function Oc(i){var t=new cr(i.seconds,i.nanoseconds);return q1.fromTimestamp(t)}function Hc(i,t){for(var e=(t.baseMutations||[]).map(function(M){return uV(i.Lt,M)}),o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);var v=t.mutations.map(function(M){return uV(i.Lt,M)}),_=cr.fromMillis(t.localWriteTimeMs);return new Dx(t.batchId,_,e,v)}function nu(i){var t,e,o=Oc(i.readTime),c=void 0!==i.lastLimboFreeSnapshotVersion?Oc(i.lastLimboFreeSnapshotVersion):q1.min();return void 0!==i.query.documents?(A1(1===(e=i.query).documents.length),t=L4(xc(aV(e.documents[0])))):t=L4(dV(i.query)),new Kv(t,i.targetId,0,i.lastListenSequenceNumber,o,c,Zn.fromBase64String(i.resumeToken))}function xV(i,t){var e,o=kc(t.snapshotVersion),c=kc(t.lastLimboFreeSnapshotVersion);e=Uv(t.target)?fV(i.Lt,t.target):hV(i.Lt,t.target);var f=t.resumeToken.toBase64();return new lr(t.targetId,q9(t.target),o,f,t.sequenceNumber,c,e)}function Vx(i){var t=dV({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?LR(t,t.limit,"L"):t}var y$=function(){function i(){}return i.prototype.getBundleMetadata=function(t,e){return SV(t).get(e).next(function(o){if(o)return{id:(c=o).bundleId,createTime:Oc(c.createTime),version:c.version};var c})},i.prototype.saveBundleMetadata=function(t,e){return SV(t).put({bundleId:(o=e).id,createTime:kc(B2(o.createTime)),version:o.version});var o},i.prototype.getNamedQuery=function(t,e){return TV(t).get(e).next(function(o){if(o)return{name:(c=o).name,query:Vx(c.bundledQuery),readTime:Oc(c.readTime)};var c})},i.prototype.saveNamedQuery=function(t,e){return TV(t).put({name:(o=e).name,readTime:kc(B2(o.readTime)),bundledQuery:o.bundledQuery});var o},i}();function SV(i){return ur(i,Lc.store)}function TV(i){return ur(i,Rc.store)}var _$=function(){function i(){this.Bt=new kx}return i.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Pe.resolve()},i.prototype.getCollectionParents=function(t,e){return Pe.resolve(this.Bt.getEntries(e))},i}(),kx=function(){function i(){this.index={}}return i.prototype.add=function(t){var e=t.lastSegment(),o=t.popLast(),c=this.index[e]||new D2(ht.comparator),f=!c.has(o);return this.index[e]=c.add(o),f},i.prototype.has=function(t){var e=t.lastSegment(),o=t.popLast(),c=this.index[e];return c&&c.has(o)},i.prototype.getEntries=function(t){return(this.index[t]||new D2(ht.comparator)).toArray()},i}(),b$=function(){function i(){this.qt=new kx}return i.prototype.addToCollectionParentIndex=function(t,e){var o=this;if(!this.qt.has(e)){var c=e.lastSegment(),f=e.popLast();t.addOnCommittedListener(function(){o.qt.add(e)});var v={collectionId:c,parent:zi(f)};return NV(t).put(v)}return Pe.resolve()},i.prototype.getCollectionParents=function(t,e){var o=[],c=IDBKeyRange.bound([e,""],[yR(e),""],!1,!0);return NV(t).Nt(c).next(function(f){for(var v=0,_=f;v<_.length;v++){var M=_[v];if(M.collectionId!==e)break;o.push(m6(M.parent))}return o})},i}();function NV(i){return ur(i,rs.store)}var IV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},v3=function(){function i(t,e,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=o}return i.withCacheSize=function(t){return new i(t,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},i}();function DV(i,t,e){var o=i.store(Rt.store),c=i.store(Mn.store),f=[],v=IDBKeyRange.only(e.batchId),_=0,M=o.$t({range:v},function(U,J,le){return _++,le.delete()});f.push(M.next(function(){A1(1===_)}));for(var E=[],S=0,I=e.mutations;S<I.length;S++){var R=I[S],O=Mn.key(t,R.key.path,e.batchId);f.push(c.delete(O)),E.push(R.key)}return Pe.waitFor(f).next(function(){return E})}function Xv(i){if(!i)return 0;var t;if(i.document)t=i.document;else if(i.unknownDocument)t=i.unknownDocument;else{if(!i.noDocument)throw l1();t=i.noDocument}return JSON.stringify(t).length}v3.DEFAULT_COLLECTION_PERCENTILE=10,v3.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,v3.DEFAULT=new v3(41943040,v3.DEFAULT_COLLECTION_PERCENTILE,v3.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),v3.DISABLED=new v3(-1,0,0);var C$=function(){function i(t,e,o,c){this.userId=t,this.R=e,this.Ut=o,this.referenceDelegate=c,this.Kt={}}return i.Qt=function(t,e,o,c){return A1(""!==t.uid),new i(t.isAuthenticated()?t.uid:"",e,o,c)},i.prototype.checkEmpty=function(t){var e=!0,o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return la(t).$t({index:Rt.userMutationsIndex,range:o},function(c,f,v){e=!1,v.done()}).next(function(){return e})},i.prototype.addMutationBatch=function(t,e,o,c){var f=this,v=Pc(t),_=la(t);return _.add({}).next(function(M){A1("number"==typeof M);for(var E=new Dx(M,e,o,c),S=function(ge,Ae,xe){var Re=xe.baseMutations.map(function(i1){return Jv(ge.Lt,i1)}),Ve=xe.mutations.map(function(i1){return Jv(ge.Lt,i1)});return new Rt(Ae,xe.batchId,xe.localWriteTime.toMillis(),Re,Ve)}(f.R,f.userId,E),I=[],R=new D2(function(ge,Ae){return Y1(ge.canonicalString(),Ae.canonicalString())}),O=0,U=c;O<U.length;O++){var J=U[O],le=Mn.key(f.userId,J.key.path,M);R=R.add(J.key.path.popLast()),I.push(_.put(S)),I.push(v.put(le,Mn.PLACEHOLDER))}return R.forEach(function(ge){I.push(f.Ut.addToCollectionParentIndex(t,ge))}),t.addOnCommittedListener(function(){f.Kt[M]=E.keys()}),Pe.waitFor(I).next(function(){return E})})},i.prototype.lookupMutationBatch=function(t,e){var o=this;return la(t).get(e).next(function(c){return c?(A1(c.userId===o.userId),Hc(o.R,c)):null})},i.prototype.jt=function(t,e){var o=this;return this.Kt[e]?Pe.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(c){if(c){var f=c.keys();return o.Kt[e]=f,f}return null})},i.prototype.getNextMutationBatchAfterBatchId=function(t,e){var o=this,c=e+1,f=IDBKeyRange.lowerBound([this.userId,c]),v=null;return la(t).$t({index:Rt.userMutationsIndex,range:f},function(_,M,E){M.userId===o.userId&&(A1(M.batchId>=c),v=Hc(o.R,M)),E.done()}).next(function(){return v})},i.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),o=-1;return la(t).$t({index:Rt.userMutationsIndex,range:e,reverse:!0},function(c,f,v){o=f.batchId,v.done()}).next(function(){return o})},i.prototype.getAllMutationBatches=function(t){var e=this,o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return la(t).Nt(Rt.userMutationsIndex,o).next(function(c){return c.map(function(f){return Hc(e.R,f)})})},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var o=this,c=Mn.prefixForPath(this.userId,e.path),f=IDBKeyRange.lowerBound(c),v=[];return Pc(t).$t({range:f},function(_,M,E){var S=_[0],R=_[2],O=m6(_[1]);if(S===o.userId&&e.path.isEqual(O))return la(t).get(R).next(function(U){if(!U)throw l1();A1(U.userId===o.userId),v.push(Hc(o.R,U))});E.done()}).next(function(){return v})},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var o=this,c=new D2(Y1),f=[];return e.forEach(function(v){var _=Mn.prefixForPath(o.userId,v.path),M=IDBKeyRange.lowerBound(_),E=Pc(t).$t({range:M},function(S,I,R){var O=S[0],J=S[2],le=m6(S[1]);O===o.userId&&v.path.isEqual(le)?c=c.add(J):R.done()});f.push(E)}),Pe.waitFor(f).next(function(){return o.Wt(t,c)})},i.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var o=this,c=e.path,f=c.length+1,v=Mn.prefixForPath(this.userId,c),_=IDBKeyRange.lowerBound(v),M=new D2(Y1);return Pc(t).$t({range:_},function(E,S,I){var R=E[0],U=E[2],J=m6(E[1]);R===o.userId&&c.isPrefixOf(J)?J.length===f&&(M=M.add(U)):I.done()}).next(function(){return o.Wt(t,M)})},i.prototype.Wt=function(t,e){var o=this,c=[],f=[];return e.forEach(function(v){f.push(la(t).get(v).next(function(_){if(null===_)throw l1();A1(_.userId===o.userId),c.push(Hc(o.R,_))}))}),Pe.waitFor(f).next(function(){return c})},i.prototype.removeMutationBatch=function(t,e){var o=this;return DV(t.Mt,this.userId,e).next(function(c){return t.addOnCommittedListener(function(){o.Gt(e.batchId)}),Pe.forEach(c,function(f){return o.referenceDelegate.markPotentiallyOrphaned(t,f)})})},i.prototype.Gt=function(t){delete this.Kt[t]},i.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(o){if(!o)return Pe.resolve();var c=IDBKeyRange.lowerBound(Mn.prefixForUser(e.userId)),f=[];return Pc(t).$t({range:c},function(v,_,M){if(v[0]===e.userId){var E=m6(v[1]);f.push(E)}else M.done()}).next(function(){A1(0===f.length)})})},i.prototype.containsKey=function(t,e){return LV(t,this.userId,e)},i.prototype.zt=function(t){var e=this;return RV(t).get(this.userId).next(function(o){return o||new ca(e.userId,-1,"")})},i}();function LV(i,t,e){var o=Mn.prefixForPath(t,e.path),c=o[1],f=IDBKeyRange.lowerBound(o),v=!1;return Pc(i).$t({range:f,Ft:!0},function(_,M,E){_[0]===t&&_[1]===c&&(v=!0),E.done()}).next(function(){return v})}function la(i){return ur(i,Rt.store)}function Pc(i){return ur(i,Mn.store)}function RV(i){return ur(i,ca.store)}var eg=function(){function i(t){this.Ht=t}return i.prototype.next=function(){return this.Ht+=2,this.Ht},i.Jt=function(){return new i(0)},i.Yt=function(){return new i(-1)},i}(),M$=function(){function i(t,e){this.referenceDelegate=t,this.R=e}return i.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(o){var c=new eg(o.highestTargetId);return o.highestTargetId=c.next(),e.Zt(t,o).next(function(){return o.highestTargetId})})},i.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(e){return q1.fromTimestamp(new cr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},i.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(e){return e.highestListenSequenceNumber})},i.prototype.setTargetsMetadata=function(t,e,o){var c=this;return this.Xt(t).next(function(f){return f.highestListenSequenceNumber=e,o&&(f.lastRemoteSnapshotVersion=o.toTimestamp()),e>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=e),c.Zt(t,f)})},i.prototype.addTargetData=function(t,e){var o=this;return this.te(t,e).next(function(){return o.Xt(t).next(function(c){return c.targetCount+=1,o.ee(e,c),o.Zt(t,c)})})},i.prototype.updateTargetData=function(t,e){return this.te(t,e)},i.prototype.removeTargetData=function(t,e){var o=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Fc(t).delete(e.targetId)}).next(function(){return o.Xt(t)}).next(function(c){return A1(c.targetCount>0),c.targetCount-=1,o.Zt(t,c)})},i.prototype.removeTargets=function(t,e,o){var c=this,f=0,v=[];return Fc(t).$t(function(_,M){var E=nu(M);E.sequenceNumber<=e&&null===o.get(E.targetId)&&(f++,v.push(c.removeTargetData(t,E)))}).next(function(){return Pe.waitFor(v)}).next(function(){return f})},i.prototype.forEachTarget=function(t,e){return Fc(t).$t(function(o,c){var f=nu(c);e(f)})},i.prototype.Xt=function(t){return VV(t).get(Gr.key).next(function(e){return A1(null!==e),e})},i.prototype.Zt=function(t,e){return VV(t).put(Gr.key,e)},i.prototype.te=function(t,e){return Fc(t).put(xV(this.R,e))},i.prototype.ee=function(t,e){var o=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,o=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,o=!0),o},i.prototype.getTargetCount=function(t){return this.Xt(t).next(function(e){return e.targetCount})},i.prototype.getTargetData=function(t,e){var o=q9(e),c=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]),f=null;return Fc(t).$t({range:c,index:lr.queryTargetsIndexName},function(v,_,M){var E=nu(_);Fv(e,E.target)&&(f=E,M.done())}).next(function(){return f})},i.prototype.addMatchingKeys=function(t,e,o){var c=this,f=[],v=ua(t);return e.forEach(function(_){var M=zi(_.path);f.push(v.put(new cn(o,M))),f.push(c.referenceDelegate.addReference(t,o,_))}),Pe.waitFor(f)},i.prototype.removeMatchingKeys=function(t,e,o){var c=this,f=ua(t);return Pe.forEach(e,function(v){var _=zi(v.path);return Pe.waitFor([f.delete([o,_]),c.referenceDelegate.removeReference(t,o,v)])})},i.prototype.removeMatchingKeysForTargetId=function(t,e){var o=ua(t),c=IDBKeyRange.bound([e],[e+1],!1,!0);return o.delete(c)},i.prototype.getMatchingKeysForTargetId=function(t,e){var o=IDBKeyRange.bound([e],[e+1],!1,!0),c=ua(t),f=bt();return c.$t({range:o,Ft:!0},function(v,_,M){var E=m6(v[1]),S=new h1(E);f=f.add(S)}).next(function(){return f})},i.prototype.containsKey=function(t,e){var o=zi(e.path),c=IDBKeyRange.bound([o],[yR(o)],!1,!0),f=0;return ua(t).$t({index:cn.documentTargetsIndex,Ft:!0,range:c},function(v,_,M){0!==v[0]&&(f++,M.done())}).next(function(){return f>0})},i.prototype.lt=function(t,e){return Fc(t).get(e).next(function(o){return o?nu(o):null})},i}();function Fc(i){return ur(i,lr.store)}function VV(i){return ur(i,Gr.store)}function ua(i){return ur(i,cn.store)}function as(i){return(0,H.mG)(this,void 0,void 0,function(){return(0,H.Jh)(this,function(t){if(i.code!==Ce.FAILED_PRECONDITION||i.message!==_V)throw i;return Ue("LocalStore","Unexpectedly lost primary lease"),[2]})})}function kV(i,t){var o=i[1],f=t[1],v=Y1(i[0],t[0]);return 0===v?Y1(o,f):v}var w$=function(){function i(t){this.ne=t,this.buffer=new D2(kV),this.se=0}return i.prototype.ie=function(){return++this.se},i.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var o=this.buffer.last();kV(e,o)<0&&(this.buffer=this.buffer.delete(o).add(e))}},Object.defineProperty(i.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),i}(),A$=function(){function i(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return i.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},i.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(i.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),i.prototype.ue=function(t){var e=this,o=this.oe?3e5:6e4;Ue("LruGarbageCollector","Garbage collection scheduled in "+o+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,function(){return(0,H.mG)(e,void 0,void 0,function(){var c;return(0,H.Jh)(this,function(f){switch(f.label){case 0:this.ce=null,this.oe=!0,f.label=1;case 1:return f.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return f.sent(),[3,7];case 3:return is(c=f.sent())?(Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",c),[3,6]):[3,4];case 4:return[4,as(c)];case 5:f.sent(),f.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return f.sent(),[2]}})})})},i}(),E$=function(){function i(t,e){this.ae=t,this.params=e}return i.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(o){return Math.floor(e/100*o)})},i.prototype.nthSequenceNumber=function(t,e){var o=this;if(0===e)return Pe.resolve(Zr.o);var c=new w$(e);return this.ae.forEachTarget(t,function(f){return c.re(f.sequenceNumber)}).next(function(){return o.ae.le(t,function(f){return c.re(f)})}).next(function(){return c.maxValue})},i.prototype.removeTargets=function(t,e,o){return this.ae.removeTargets(t,e,o)},i.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},i.prototype.collect=function(t,e){var o=this;return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(IV)):this.getCacheSize(t).next(function(c){return c<o.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; Cache size "+c+" is lower than threshold "+o.params.cacheSizeCollectionThreshold),IV):o.fe(t,e)})},i.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},i.prototype.fe=function(t,e){var o,c,f,v,_,M,E,S=this,I=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(R){return R>S.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+S.params.maximumSequenceNumbersToCollect+" from "+R),c=S.params.maximumSequenceNumbersToCollect):c=R,v=Date.now(),S.nthSequenceNumber(t,c)}).next(function(R){return o=R,_=Date.now(),S.removeTargets(t,o,e)}).next(function(R){return f=R,M=Date.now(),S.removeOrphanedDocuments(t,o)}).next(function(R){return E=Date.now(),dx()<=G0.in.DEBUG&&Ue("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(v-I)+"ms\n\tDetermined least recently used "+c+" in "+(_-v)+"ms\n\tRemoved "+f+" targets in "+(M-_)+"ms\n\tRemoved "+R+" documents in "+(E-M)+"ms\nTotal Duration: "+(E-I)+"ms"),Pe.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:f,documentsRemoved:R})})},i}(),z$=function(){function i(t,e){this.db=t,this.garbageCollector=new E$(this,e)}return i.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(o){return e.next(function(c){return o+c})})},i.prototype.de=function(t){var e=0;return this.le(t,function(o){e++}).next(function(){return e})},i.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},i.prototype.le=function(t,e){return this.we(t,function(o,c){return e(c)})},i.prototype.addReference=function(t,e,o){return tg(t,o)},i.prototype.removeReference=function(t,e,o){return tg(t,o)},i.prototype.removeTargets=function(t,e,o){return this.db.getTargetCache().removeTargets(t,e,o)},i.prototype.markPotentiallyOrphaned=function(t,e){return tg(t,e)},i.prototype._e=function(t,e){return c=e,f=!1,RV(o=t).Ot(function(v){return LV(o,v,c).next(function(_){return _&&(f=!0),Pe.resolve(!_)})}).next(function(){return f});var o,c,f},i.prototype.removeOrphanedDocuments=function(t,e){var o=this,c=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[],v=0;return this.we(t,function(_,M){if(M<=e){var E=o._e(t,_).next(function(S){if(!S)return v++,c.getEntry(t,_).next(function(){return c.removeEntry(_),ua(t).delete([0,zi(_.path)])})});f.push(E)}}).next(function(){return Pe.waitFor(f)}).next(function(){return c.apply(t)}).next(function(){return v})},i.prototype.removeTarget=function(t,e){var o=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,o)},i.prototype.updateLimboDocument=function(t,e){return tg(t,e)},i.prototype.we=function(t,e){var o,c=ua(t),f=Zr.o;return c.$t({index:cn.documentTargetsIndex},function(v,_){var E=_.path,S=_.sequenceNumber;0===v[0]?(f!==Zr.o&&e(new h1(m6(o)),f),f=S,o=E):f=Zr.o}).next(function(){f!==Zr.o&&e(new h1(m6(o)),f)})},i.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},i}();function tg(i,t){return ua(i).put((o=i.currentSequenceNumber,new cn(0,zi(t.path),o)));var o}var Uc=function(){function i(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return i.prototype.get=function(t){var e=this.mapKeyFn(t),o=this.inner[e];if(void 0!==o)for(var c=0,f=o;c<f.length;c++){var v=f[c],M=v[1];if(this.equalsFn(v[0],t))return M}},i.prototype.has=function(t){return void 0!==this.get(t)},i.prototype.set=function(t,e){var o=this.mapKeyFn(t),c=this.inner[o];if(void 0!==c){for(var f=0;f<c.length;f++)if(this.equalsFn(c[f][0],t))return void(c[f]=[t,e]);c.push([t,e])}else this.inner[o]=[[t,e]]},i.prototype.delete=function(t){var e=this.mapKeyFn(t),o=this.inner[e];if(void 0===o)return!1;for(var c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return 1===o.length?delete this.inner[e]:o.splice(c,1),!0;return!1},i.prototype.forEach=function(t){K0(this.inner,function(e,o){for(var c=0,f=o;c<f.length;c++){var v=f[c];t(v[0],v[1])}})},i.prototype.isEmpty=function(){return bR(this.inner)},i}(),OV=function(){function i(){this.changes=new Uc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return i.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:q1.min()},i.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},i.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:sn.newInvalidDocument(t),readTime:e})},i.prototype.getEntry=function(t,e){this.assertNotApplied();var o=this.changes.get(e);return void 0!==o?Pe.resolve(o.document):this.getFromCache(t,e)},i.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},i.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},i.prototype.assertNotApplied=function(){},i}(),x$=function(){function i(t,e){this.R=t,this.Ut=e}return i.prototype.addEntry=function(t,e,o){return fa(t).put(ng(e),o)},i.prototype.removeEntry=function(t,e){var o=fa(t),c=ng(e);return o.delete(c)},i.prototype.updateMetadata=function(t,e){var o=this;return this.getMetadata(t).next(function(c){return c.byteSize+=e,o.me(t,c)})},i.prototype.getEntry=function(t,e){var o=this;return fa(t).get(ng(e)).next(function(c){return o.ye(e,c)})},i.prototype.ge=function(t,e){var o=this;return fa(t).get(ng(e)).next(function(c){return{document:o.ye(e,c),size:Xv(c)}})},i.prototype.getEntries=function(t,e){var o=this,c=R4();return this.pe(t,e,function(f,v){var _=o.ye(f,v);c=c.insert(f,_)}).next(function(){return c})},i.prototype.Ee=function(t,e){var o=this,c=R4(),f=new Cn(h1.comparator);return this.pe(t,e,function(v,_){var M=o.ye(v,_);c=c.insert(v,M),f=f.insert(v,Xv(_))}).next(function(){return{documents:c,Te:f}})},i.prototype.pe=function(t,e,o){if(e.isEmpty())return Pe.resolve();var c=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),f=e.getIterator(),v=f.getNext();return fa(t).$t({range:c},function(_,M,E){for(var S=h1.fromSegments(_);v&&h1.comparator(v,S)<0;)o(v,null),v=f.getNext();v&&v.isEqual(S)&&(o(v,M),v=f.hasNext()?f.getNext():null),v?E.Ct(v.path.toArray()):E.done()}).next(function(){for(;v;)o(v,null),v=f.hasNext()?f.getNext():null})},i.prototype.getDocumentsMatchingQuery=function(t,e,o){var c=this,f=R4(),v=e.path.length+1,_={};if(o.isEqual(q1.min())){var M=e.path.toArray();_.range=IDBKeyRange.lowerBound(M)}else{var E=e.path.toArray(),S=Rx(o);_.range=IDBKeyRange.lowerBound([E,S],!0),_.index=e2.collectionReadTimeIndex}return fa(t).$t(_,function(I,R,O){if(I.length===v){var U=Lx(c.R,R);e.path.isPrefixOf(U.key.path)?$9(e,U)&&(f=f.insert(U.key,U)):O.done()}}).next(function(){return f})},i.prototype.newChangeBuffer=function(t){return new S$(this,!!t&&t.trackRemovals)},i.prototype.getSize=function(t){return this.getMetadata(t).next(function(e){return e.byteSize})},i.prototype.getMetadata=function(t){return HV(t).get(m3.key).next(function(e){return A1(!!e),e})},i.prototype.me=function(t,e){return HV(t).put(m3.key,e)},i.prototype.ye=function(t,e){if(e){var o=Lx(this.R,e);if(!o.isNoDocument()||!o.version.isEqual(q1.min()))return o}return sn.newInvalidDocument(t)},i}(),S$=function(i){function t(e,o){var c=this;return(c=i.call(this)||this).Ie=e,c.trackRemovals=o,c.Ae=new Uc(function(f){return f.toString()},function(f,v){return f.isEqual(v)}),c}return(0,H.ZT)(t,i),t.prototype.applyChanges=function(e){var o=this,c=[],f=0,v=new D2(function(_,M){return Y1(_.canonicalString(),M.canonicalString())});return this.changes.forEach(function(_,M){var E=o.Ae.get(_);if(M.document.isValidDocument()){var S=EV(o.Ie.R,M.document,o.getReadTime(_));v=v.add(_.path.popLast());var I=Xv(S);f+=I-E,c.push(o.Ie.addEntry(e,_,S))}else if(f-=E,o.trackRemovals){var R=EV(o.Ie.R,sn.newNoDocument(_,q1.min()),o.getReadTime(_));c.push(o.Ie.addEntry(e,_,R))}else c.push(o.Ie.removeEntry(e,_))}),v.forEach(function(_){c.push(o.Ie.Ut.addToCollectionParentIndex(e,_))}),c.push(this.Ie.updateMetadata(e,f)),Pe.waitFor(c)},t.prototype.getFromCache=function(e,o){var c=this;return this.Ie.ge(e,o).next(function(f){return c.Ae.set(o,f.size),f.document})},t.prototype.getAllFromCache=function(e,o){var c=this;return this.Ie.Ee(e,o).next(function(f){var v=f.documents;return f.Te.forEach(function(_,M){c.Ae.set(_,M)}),v})},t}(OV);function HV(i){return ur(i,m3.store)}function fa(i){return ur(i,e2.store)}function ng(i){return i.path.toArray()}var T$=function(){function i(t){this.R=t}return i.prototype.Rt=function(t,e,o,c){var f=this;A1(o<c&&o>=0&&c<=11);var M,v=new CV("createOrUpgrade",e);o<1&&c>=1&&(t.createObjectStore(qr.store),(M=t).createObjectStore(ca.store,{keyPath:ca.keyPath}),M.createObjectStore(Rt.store,{keyPath:Rt.keyPath,autoIncrement:!0}).createIndex(Rt.userMutationsIndex,Rt.userMutationsKeyPath,{unique:!0}),M.createObjectStore(Mn.store),PV(t),function(M){M.createObjectStore(e2.store)}(t));var _=Pe.resolve();return o<3&&c>=3&&(0!==o&&(function(M){M.deleteObjectStore(cn.store),M.deleteObjectStore(lr.store),M.deleteObjectStore(Gr.store)}(t),PV(t)),_=_.next(function(){return function(M){var E=M.store(Gr.store),S=new Gr(0,0,q1.min().toTimestamp(),0);return E.put(Gr.key,S)}(v)})),o<4&&c>=4&&(0!==o&&(_=_.next(function(){return function(M,E){return E.store(Rt.store).Nt().next(function(S){M.deleteObjectStore(Rt.store),M.createObjectStore(Rt.store,{keyPath:Rt.keyPath,autoIncrement:!0}).createIndex(Rt.userMutationsIndex,Rt.userMutationsKeyPath,{unique:!0});var I=E.store(Rt.store),R=S.map(function(O){return I.put(O)});return Pe.waitFor(R)})}(t,v)})),_=_.next(function(){!function(M){M.createObjectStore(v6.store,{keyPath:v6.keyPath})}(t)})),o<5&&c>=5&&(_=_.next(function(){return f.Re(v)})),o<6&&c>=6&&(_=_.next(function(){return function(M){M.createObjectStore(m3.store)}(t),f.be(v)})),o<7&&c>=7&&(_=_.next(function(){return f.ve(v)})),o<8&&c>=8&&(_=_.next(function(){return f.Pe(t,v)})),o<9&&c>=9&&(_=_.next(function(){(function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")})(t),function(M){var E=M.objectStore(e2.store);E.createIndex(e2.readTimeIndex,e2.readTimeIndexPath,{unique:!1}),E.createIndex(e2.collectionReadTimeIndex,e2.collectionReadTimeIndexPath,{unique:!1})}(e)})),o<10&&c>=10&&(_=_.next(function(){return f.Ve(v)})),o<11&&c>=11&&(_=_.next(function(){(function(M){M.createObjectStore(Lc.store,{keyPath:Lc.keyPath})})(t),function(M){M.createObjectStore(Rc.store,{keyPath:Rc.keyPath})}(t)})),_},i.prototype.be=function(t){var e=0;return t.store(e2.store).$t(function(o,c){e+=Xv(c)}).next(function(){var o=new m3(e);return t.store(m3.store).put(m3.key,o)})},i.prototype.Re=function(t){var e=this,o=t.store(ca.store),c=t.store(Rt.store);return o.Nt().next(function(f){return Pe.forEach(f,function(v){var _=IDBKeyRange.bound([v.userId,-1],[v.userId,v.lastAcknowledgedBatchId]);return c.Nt(Rt.userMutationsIndex,_).next(function(M){return Pe.forEach(M,function(E){A1(E.userId===v.userId);var S=Hc(e.R,E);return DV(t,v.userId,S).next(function(){})})})})})},i.prototype.ve=function(t){var e=t.store(cn.store),o=t.store(e2.store);return t.store(Gr.store).get(Gr.key).next(function(c){var f=[];return o.$t(function(v,_){var M=new ht(v),E=[0,zi(M)];f.push(e.get(E).next(function(S){return S?Pe.resolve():e.put(new cn(0,zi(M),c.highestListenSequenceNumber))}))}).next(function(){return Pe.waitFor(f)})})},i.prototype.Pe=function(t,e){t.createObjectStore(rs.store,{keyPath:rs.keyPath});var o=e.store(rs.store),c=new kx,f=function(v){if(c.add(v)){var _=v.lastSegment(),M=v.popLast();return o.put({collectionId:_,parent:zi(M)})}};return e.store(e2.store).$t({Ft:!0},function(v,_){var M=new ht(v);return f(M.popLast())}).next(function(){return e.store(Mn.store).$t({Ft:!0},function(v,_){var E=m6(v[1]);return f(E.popLast())})})},i.prototype.Ve=function(t){var e=this,o=t.store(lr.store);return o.$t(function(c,f){var v=nu(f),_=xV(e.R,v);return o.put(_)})},i}();function PV(i){i.createObjectStore(cn.store,{keyPath:cn.keyPath}).createIndex(cn.documentTargetsIndex,cn.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(lr.store,{keyPath:lr.keyPath}).createIndex(lr.queryTargetsIndexName,lr.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(Gr.store)}var Ox="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",N$=function(){function i(t,e,o,c,f,v,_,M,E,S){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=o,this.Se=f,this.window=v,this.document=_,this.De=E,this.Ce=S,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(I){return Promise.resolve()},!i.yt())throw new Oe(Ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new z$(this,c),this.Le=e+"main",this.R=new AV(M),this.Be=new Vc(this.Le,11,new T$(this.R)),this.qe=new M$(this.referenceDelegate,this.R),this.Ut=new b$,this.Ue=new x$(this.R,this.Ut),this.Ke=new y$,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===S&&b2("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return i.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Oe(Ce.FAILED_PRECONDITION,Ox);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Zr(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},i.prototype.He=function(t){var e=this;return this.Me=function(o){return(0,H.mG)(e,void 0,void 0,function(){return(0,H.Jh)(this,function(c){return this.started?[2,t(o)]:[2]})})},t(this.isPrimary)},i.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(o){return(0,H.mG)(e,void 0,void 0,function(){return(0,H.Jh)(this,function(c){switch(c.label){case 0:return null===o.newVersion?[4,t()]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})})},i.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,H.mG)(e,void 0,void 0,function(){return(0,H.Jh)(this,function(o){switch(o.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})}))},i.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return rg(e).put(new v6(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(o){o||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(o){return t.isPrimary&&!o?t.Xe(e).next(function(){return!1}):!!o&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(is(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},i.prototype.Je=function(t){var e=this;return ru(t).get(qr.key).next(function(o){return Pe.resolve(e.tn(o))})},i.prototype.en=function(t){return rg(t).delete(this.clientId)},i.prototype.nn=function(){return(0,H.mG)(this,void 0,void 0,function(){var t,e,o,f=this;return(0,H.Jh)(this,function(v){switch(v.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(_){var M=ur(_,v6.store);return M.Nt().next(function(E){var S=f.rn(E,18e5),I=E.filter(function(R){return-1===S.indexOf(R)});return Pe.forEach(I,function(R){return M.delete(R.clientId)}).next(function(){return I})})}).catch(function(){return[]})]);case 1:if(t=v.sent(),this.Qe)for(e=0,o=t;e<o.length;e++)this.Qe.removeItem(this.on(o[e].clientId));v.label=2;case 2:return[2]}})})},i.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},i.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},i.prototype.Ye=function(t){var e=this;return this.Ce?Pe.resolve(!0):ru(t).get(qr.key).next(function(o){if(null!==o&&e.sn(o.leaseTimestampMs,5e3)&&!e.cn(o.ownerId)){if(e.tn(o)&&e.networkEnabled)return!0;if(!e.tn(o)){if(!o.allowTabSynchronization)throw new Oe(Ce.FAILED_PRECONDITION,Ox);return!1}}return!(!e.networkEnabled||!e.inForeground)||rg(t).Nt().next(function(c){return void 0===e.rn(c,5e3).find(function(f){return!(e.clientId===f.clientId||!(!e.networkEnabled&&f.networkEnabled||!e.inForeground&&f.inForeground&&e.networkEnabled===f.networkEnabled))})})}).next(function(o){return e.isPrimary!==o&&Ue("IndexedDbPersistence","Client "+(o?"is":"is not")+" eligible for a primary lease."),o})},i.prototype.shutdown=function(){return(0,H.mG)(this,void 0,void 0,function(){var t=this;return(0,H.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[qr.store,v6.store],function(o){var c=new wV(o,Zr.o);return t.Xe(c).next(function(){return t.en(c)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},i.prototype.rn=function(t,e){var o=this;return t.filter(function(c){return o.sn(c.updateTimeMs,e)&&!o.cn(c.clientId)})},i.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return rg(e).Nt().next(function(o){return t.rn(o,18e5).map(function(c){return c.clientId})})})},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.getMutationQueue=function(t){return C$.Qt(t,this.R,this.Ut,this.referenceDelegate)},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(t,e,o){var f,c=this;return Ue("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",p$,function(_){return f=new wV(_,c.Ne?c.Ne.next():Zr.o),"readwrite-primary"===e?c.Je(f).next(function(M){return!!M||c.Ye(f)}).next(function(M){if(!M)throw b2("Failed to obtain primary lease for action '"+t+"'."),c.isPrimary=!1,c.Se.enqueueRetryable(function(){return c.Me(!1)}),new Oe(Ce.FAILED_PRECONDITION,_V);return o(f)}).next(function(M){return c.Ze(f).next(function(){return M})}):c.dn(f).next(function(){return o(f)})}).then(function(_){return f.raiseOnCommittedEvent(),_})},i.prototype.dn=function(t){var e=this;return ru(t).get(qr.key).next(function(o){if(null!==o&&e.sn(o.leaseTimestampMs,5e3)&&!e.cn(o.ownerId)&&!e.tn(o)&&!(e.Ce||e.allowTabSynchronization&&o.allowTabSynchronization))throw new Oe(Ce.FAILED_PRECONDITION,Ox)})},i.prototype.Ze=function(t){var e=new qr(this.clientId,this.allowTabSynchronization,Date.now());return ru(t).put(qr.key,e)},i.yt=function(){return Vc.yt()},i.prototype.Xe=function(t){var e=this,o=ru(t);return o.get(qr.key).next(function(c){return e.tn(c)?(Ue("IndexedDbPersistence","Releasing primary lease."),o.delete(qr.key)):Pe.resolve()})},i.prototype.sn=function(t,e){var o=Date.now();return!(t<o-e||t>o&&(b2("Detected an update time that is in the future: "+t+" > "+o),1))},i.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},i.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},i.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),(0,P1.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},i.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},i.prototype.cn=function(t){var e;try{var o=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Ue("IndexedDbPersistence","Client '"+t+"' "+(o?"is":"is not")+" zombied in LocalStorage"),o}catch(c){return b2("IndexedDbPersistence","Failed to get zombied client id.",c),!1}},i.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){b2("Failed to set zombie client id.",t)}},i.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},i.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},i}();function ru(i){return ur(i,qr.store)}function rg(i){return ur(i,v6.store)}function Hx(i,t){var e=i.projectId;return i.isDefaultDatabase||(e+="."+i.database),"firestore/"+t+"/"+e+"/"}var I$=function(i,t){this.progress=i,this.wn=t},FV=function(){function i(t,e,o){this.Ue=t,this._n=e,this.Ut=o}return i.prototype.mn=function(t,e){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(c){return o.yn(t,e,c)})},i.prototype.yn=function(t,e,o){return this.Ue.getEntry(t,e).next(function(c){for(var f=0,v=o;f<v.length;f++)v[f].applyToLocalView(c);return c})},i.prototype.gn=function(t,e){t.forEach(function(o,c){for(var f=0,v=e;f<v.length;f++)v[f].applyToLocalView(c)})},i.prototype.pn=function(t,e){var o=this;return this.Ue.getEntries(t,e).next(function(c){return o.En(t,c).next(function(){return c})})},i.prototype.En=function(t,e){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(c){return o.gn(e,c)})},i.prototype.getDocumentsMatchingQuery=function(t,e,o){return h1.isDocumentKey((c=e).path)&&null===c.collectionGroup&&0===c.filters.length?this.Tn(t,e.path):Mx(e)?this.In(t,e,o):this.An(t,e,o);var c},i.prototype.Tn=function(t,e){return this.mn(t,new h1(e)).next(function(o){var c=zx();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})},i.prototype.In=function(t,e,o){var c=this,f=e.collectionGroup,v=zx();return this.Ut.getCollectionParents(t,f).next(function(_){return Pe.forEach(_,function(M){var S,I,E=(S=e,I=M.child(f),new p6(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));return c.An(t,E,o).next(function(S){S.forEach(function(I,R){v=v.insert(I,R)})})}).next(function(){return v})})},i.prototype.An=function(t,e,o){var c,f,v=this;return this.Ue.getDocumentsMatchingQuery(t,e,o).next(function(_){return c=_,v._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(_){return v.Rn(t,f=_,c).next(function(M){c=M;for(var E=0,S=f;E<S.length;E++)for(var I=S[E],R=0,O=I.mutations;R<O.length;R++){var U=O[R],J=U.key,le=c.get(J);null==le&&(le=sn.newInvalidDocument(J),c=c.insert(J,le)),Ax(U,le,I.localWriteTime),le.isFoundDocument()||(c=c.remove(J))}})}).next(function(){return c.forEach(function(_,M){$9(e,M)||(c=c.remove(_))}),c})},i.prototype.Rn=function(t,e,o){for(var c=bt(),f=0,v=e;f<v.length;f++)for(var _=0,M=v[f].mutations;_<M.length;_++){var E=M[_];E instanceof aa&&null===o.get(E.key)&&(c=c.add(E.key))}var S=o;return this.Ue.getEntries(t,c).next(function(I){return I.forEach(function(R,O){O.isFoundDocument()&&(S=S.insert(R,O))}),S})},i}(),D$=function(){function i(t,e,o,c){this.targetId=t,this.fromCache=e,this.bn=o,this.vn=c}return i.Pn=function(t,e){for(var o=bt(),c=bt(),f=0,v=e.docChanges;f<v.length;f++){var _=v[f];switch(_.type){case 0:o=o.add(_.doc.key);break;case 1:c=c.add(_.doc.key)}}return new i(t,e.fromCache,o,c)},i}(),UV=function(){function i(){}return i.prototype.Vn=function(t){this.Sn=t},i.prototype.getDocumentsMatchingQuery=function(t,e,o,c){var v,f=this;return 0===(v=e).filters.length&&null===v.limit&&null==v.startAt&&null==v.endAt&&(0===v.explicitOrderBy.length||1===v.explicitOrderBy.length&&v.explicitOrderBy[0].field.isKeyField())||o.isEqual(q1.min())?this.Dn(t,e):this.Sn.pn(t,c).next(function(v){var _=f.Cn(e,v);return(Bv(e)||jv(e))&&f.Nn(e.limitType,_,c,o)?f.Dn(t,e):(dx()<=G0.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wx(e)),f.Sn.getDocumentsMatchingQuery(t,e,o).next(function(M){return _.forEach(function(E){M=M.insert(E.key,E)}),M}))})},i.prototype.Cn=function(t,e){var o=new D2(VR(t));return e.forEach(function(c,f){$9(t,f)&&(o=o.add(f))}),o},i.prototype.Nn=function(t,e,o,c){if(o.size!==e.size)return!0;var f="F"===t?e.last():e.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(c)>0)},i.prototype.Dn=function(t,e){return dx()<=G0.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",wx(e)),this.Sn.getDocumentsMatchingQuery(t,e,q1.min())},i}(),L$=function(){function i(t,e,o,c){this.persistence=t,this.xn=e,this.R=c,this.kn=new Cn(Y1),this.Fn=new Uc(function(f){return q9(f)},Fv),this.$n=q1.min(),this._n=t.getMutationQueue(o),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new FV(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return i.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(o){return t.collect(o,e.kn)})},i}();function ZV(i,t,e,o){return new L$(i,t,e,o)}function BV(i,t){return(0,H.mG)(this,void 0,void 0,function(){var e,o,c,f;return(0,H.Jh)(this,function(v){switch(v.label){case 0:return e=Ge(i),o=e._n,c=e.Mn,[4,e.persistence.runTransaction("Handle user change","readonly",function(_){var M;return e._n.getAllMutationBatches(_).next(function(E){return M=E,o=e.persistence.getMutationQueue(t),c=new FV(e.On,o,e.persistence.getIndexManager()),o.getAllMutationBatches(_)}).next(function(E){for(var S=[],I=[],R=bt(),O=0,U=M;O<U.length;O++){var J=U[O];S.push(J.batchId);for(var le=0,ge=J.mutations;le<ge.length;le++)R=R.add(ge[le].key)}for(var xe=0,Re=E;xe<Re.length;xe++){var Ve=Re[xe];I.push(Ve.batchId);for(var i1=0,K1=Ve.mutations;i1<K1.length;i1++)R=R.add(K1[i1].key)}return c.pn(_,R).next(function(Vt){return{Ln:Vt,removedBatchIds:S,addedBatchIds:I}})})})];case 1:return f=v.sent(),[2,(e._n=o,e.Mn=c,e.xn.Vn(e.Mn),f)]}})})}function R$(i,t){var e=Ge(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(o){var v,_,M,E,S,I,R,c=t.batch.keys(),f=e.On.newChangeBuffer({trackRemovals:!0});return(v=e,_=o,M=t,E=f,S=M.batch,I=S.keys(),R=Pe.resolve(),I.forEach(function(O){R=R.next(function(){return E.getEntry(_,O)}).next(function(U){var J=M.docVersions.get(O);A1(null!==J),U.version.compareTo(J)<0&&(S.applyToRemoteDocument(U,M),U.isValidDocument()&&E.addEntry(U,M.commitVersion))})}),R.next(function(){return v._n.removeMutationBatch(_,S)})).next(function(){return f.apply(o)}).next(function(){return e._n.performConsistencyCheck(o)}).next(function(){return e.Mn.pn(o,c)})})}function jV(i){var t=Ge(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.qe.getLastRemoteSnapshotVersion(e)})}function V$(i,t){var e=Ge(i),o=t.snapshotVersion,c=e.kn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",function(f){var v=e.On.newChangeBuffer({trackRemovals:!0});c=e.kn;var _=[];t.targetChanges.forEach(function(S,I){var J,le,ge,R=c.get(I);if(R){_.push(e.qe.removeMatchingKeys(f,S.removedDocuments,I).next(function(){return e.qe.addMatchingKeys(f,S.addedDocuments,I)}));var O=S.resumeToken;if(O.approximateByteSize()>0){var U=R.withResumeToken(O,o).withSequenceNumber(f.currentSequenceNumber);c=c.insert(I,U),J=R,ge=S,A1((le=U).resumeToken.approximateByteSize()>0),(0===J.resumeToken.approximateByteSize()||le.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8||ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0)&&_.push(e.qe.updateTargetData(f,U))}}});var M=R4();if(t.documentUpdates.forEach(function(S,I){t.resolvedLimboDocuments.has(S)&&_.push(e.persistence.referenceDelegate.updateLimboDocument(f,S))}),_.push(qV(f,v,t.documentUpdates,o,void 0).next(function(S){M=S})),!o.isEqual(q1.min())){var E=e.qe.getLastRemoteSnapshotVersion(f).next(function(S){return e.qe.setTargetsMetadata(f,f.currentSequenceNumber,o)});_.push(E)}return Pe.waitFor(_).next(function(){return v.apply(f)}).next(function(){return e.Mn.En(f,M)}).next(function(){return M})}).then(function(f){return e.kn=c,f})}function qV(i,t,e,o,c){var f=bt();return e.forEach(function(v){return f=f.add(v)}),t.getEntries(i,f).next(function(v){var _=R4();return e.forEach(function(M,E){var S=v.get(M),I=(null==c?void 0:c.get(M))||o;E.isNoDocument()&&E.version.isEqual(q1.min())?(t.removeEntry(M,I),_=_.insert(M,E)):!S.isValidDocument()||E.version.compareTo(S.version)>0||0===E.version.compareTo(S.version)&&S.hasPendingWrites?(t.addEntry(E,I),_=_.insert(M,E)):Ue("LocalStore","Ignoring outdated watch update for ",M,". Current version:",S.version," Watch version:",E.version)}),_})}function k$(i,t){var e=Ge(i);return e.persistence.runTransaction("Get next mutation batch","readonly",function(o){return void 0===t&&(t=-1),e._n.getNextMutationBatchAfterBatchId(o,t)})}function Zc(i,t){var e=Ge(i);return e.persistence.runTransaction("Allocate target","readwrite",function(o){var c;return e.qe.getTargetData(o,t).next(function(f){return f?Pe.resolve(c=f):e.qe.allocateTargetId(o).next(function(v){return c=new Kv(t,v,0,o.currentSequenceNumber),e.qe.addTargetData(o,c).next(function(){return c})})})}).then(function(o){var c=e.kn.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(e.kn=e.kn.insert(o.targetId,o),e.Fn.set(t,o.targetId)),o})}function Bc(i,t,e){return(0,H.mG)(this,void 0,void 0,function(){var o,c,f,v;return(0,H.Jh)(this,function(_){switch(_.label){case 0:o=Ge(i),c=o.kn.get(t),f=e?"readwrite":"readwrite-primary",_.label=1;case 1:return _.trys.push([1,4,,5]),e?[3,3]:[4,o.persistence.runTransaction("Release target",f,function(M){return o.persistence.referenceDelegate.removeTarget(M,c)})];case 2:_.sent(),_.label=3;case 3:return[3,5];case 4:if(!is(v=_.sent()))throw v;return Ue("LocalStore","Failed to update sequence numbers for target "+t+": "+v),[3,5];case 5:return o.kn=o.kn.remove(t),o.Fn.delete(c.target),[2]}})})}function ig(i,t,e){var o=Ge(i),c=q1.min(),f=bt();return o.persistence.runTransaction("Execute query","readonly",function(v){return(_=o,M=v,E=L4(t),S=Ge(_),I=S.Fn.get(E),void 0!==I?Pe.resolve(S.kn.get(I)):S.qe.getTargetData(M,E)).next(function(_){if(_)return c=_.lastLimboFreeSnapshotVersion,o.qe.getMatchingKeysForTargetId(v,_.targetId).next(function(M){f=M})}).next(function(){return o.xn.getDocumentsMatchingQuery(v,t,e?c:q1.min(),e?f:bt())}).next(function(_){return{documents:_,Bn:f}});var _,M,E,S,I})}function GV(i,t){var e=Ge(i),o=Ge(e.qe),c=e.kn.get(t);return c?Promise.resolve(c.target):e.persistence.runTransaction("Get target data","readonly",function(f){return o.lt(f,t).next(function(v){return v?v.target:null})})}function WV(i){var t=Ge(i);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return c=e,f=t.$n,v=Ge(t.On),_=R4(),M=Rx(f),E=fa(c),S=IDBKeyRange.lowerBound(M,!0),E.$t({index:e2.readTimeIndex,range:S},function(I,R){var O=Lx(v.R,R);_=_.insert(O.key,O),M=R.readTime}).next(function(){return{wn:_,readTime:zV(M)}});var c,f,v,_,M,E,S}).then(function(e){var o=e.wn;return t.$n=e.readTime,o})}function O$(i){return(0,H.mG)(this,void 0,void 0,function(){var t;return(0,H.Jh)(this,function(e){return[2,(t=Ge(i)).persistence.runTransaction("Synchronize last document change read time","readonly",function(o){return f=fa(o),v=q1.min(),f.$t({index:e2.readTimeIndex,reverse:!0},function(_,M,E){M.readTime&&(v=zV(M.readTime)),E.done()}).next(function(){return v});var f,v}).then(function(o){t.$n=o})]})})}function H$(i,t,e,o){return(0,H.mG)(this,void 0,void 0,function(){var c,f,v,_,M,E,S,I,R,O;return(0,H.Jh)(this,function(U){switch(U.label){case 0:for(c=Ge(i),f=bt(),v=R4(),_=KR(),M=0,E=e;M<E.length;M++)I=t.qn((S=E[M]).metadata.name),S.document&&(f=f.add(I)),v=v.insert(I,t.Un(S)),_=_.insert(I,t.Kn(S.metadata.readTime));return R=c.On.newChangeBuffer({trackRemovals:!0}),[4,Zc(c,(J=o,L4(xc(ht.fromString("__bundle__/docs/"+J)))))];case 1:return O=U.sent(),[2,c.persistence.runTransaction("Apply bundle documents","readwrite",function(J){return qV(J,R,v,q1.min(),_).next(function(le){return R.apply(J),le}).next(function(le){return c.qe.removeMatchingKeysForTargetId(J,O.targetId).next(function(){return c.qe.addMatchingKeys(J,f,O.targetId)}).next(function(){return c.Mn.En(J,le)}).next(function(){return le})})})]}var J})})}function P$(i,t,e){return void 0===e&&(e=bt()),(0,H.mG)(this,void 0,void 0,function(){var o,c;return(0,H.Jh)(this,function(f){switch(f.label){case 0:return[4,Zc(i,L4(Vx(t.bundledQuery)))];case 1:return o=f.sent(),[2,(c=Ge(i)).persistence.runTransaction("Save named query","readwrite",function(v){var _=B2(t.readTime);if(o.snapshotVersion.compareTo(_)>=0)return c.Ke.saveNamedQuery(v,t);var M=o.withResumeToken(Zn.EMPTY_BYTE_STRING,_);return c.kn=c.kn.insert(M.targetId,M),c.qe.updateTargetData(v,M).next(function(){return c.qe.removeMatchingKeysForTargetId(v,o.targetId)}).next(function(){return c.qe.addMatchingKeys(v,e,o.targetId)}).next(function(){return c.Ke.saveNamedQuery(v,t)})})]}})})}var F$=function(){function i(t){this.R=t,this.Qn=new Map,this.jn=new Map}return i.prototype.getBundleMetadata=function(t,e){return Pe.resolve(this.Qn.get(e))},i.prototype.saveBundleMetadata=function(t,e){var o;return this.Qn.set(e.id,{id:(o=e).id,version:o.version,createTime:B2(o.createTime)}),Pe.resolve()},i.prototype.getNamedQuery=function(t,e){return Pe.resolve(this.jn.get(e))},i.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(o=e).name,query:Vx(o.bundledQuery),readTime:B2(o.readTime)}),Pe.resolve();var o},i}(),Px=function(){function i(){this.Wn=new D2(j2.Gn),this.zn=new D2(j2.Hn)}return i.prototype.isEmpty=function(){return this.Wn.isEmpty()},i.prototype.addReference=function(t,e){var o=new j2(t,e);this.Wn=this.Wn.add(o),this.zn=this.zn.add(o)},i.prototype.Jn=function(t,e){var o=this;t.forEach(function(c){return o.addReference(c,e)})},i.prototype.removeReference=function(t,e){this.Yn(new j2(t,e))},i.prototype.Xn=function(t,e){var o=this;t.forEach(function(c){return o.removeReference(c,e)})},i.prototype.Zn=function(t){var e=this,o=new h1(new ht([])),c=new j2(o,t),f=new j2(o,t+1),v=[];return this.zn.forEachInRange([c,f],function(_){e.Yn(_),v.push(_.key)}),v},i.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},i.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},i.prototype.es=function(t){var e=new h1(new ht([])),o=new j2(e,t),c=new j2(e,t+1),f=bt();return this.zn.forEachInRange([o,c],function(v){f=f.add(v.key)}),f},i.prototype.containsKey=function(t){var e=new j2(t,0),o=this.Wn.firstAfterOrEqual(e);return null!==o&&t.isEqual(o.key)},i}(),j2=function(){function i(t,e){this.key=t,this.ns=e}return i.Gn=function(t,e){return h1.comparator(t.key,e.key)||Y1(t.ns,e.ns)},i.Hn=function(t,e){return Y1(t.ns,e.ns)||h1.comparator(t.key,e.key)},i}(),U$=function(){function i(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new D2(j2.Gn)}return i.prototype.checkEmpty=function(t){return Pe.resolve(0===this._n.length)},i.prototype.addMutationBatch=function(t,e,o,c){var f=this.ss;this.ss++;var v=new Dx(f,e,o,c);this._n.push(v);for(var _=0,M=c;_<M.length;_++){var E=M[_];this.rs=this.rs.add(new j2(E.key,f)),this.Ut.addToCollectionParentIndex(t,E.key.path.popLast())}return Pe.resolve(v)},i.prototype.lookupMutationBatch=function(t,e){return Pe.resolve(this.os(e))},i.prototype.getNextMutationBatchAfterBatchId=function(t,e){var c=this.cs(e+1),f=c<0?0:c;return Pe.resolve(this._n.length>f?this._n[f]:null)},i.prototype.getHighestUnacknowledgedBatchId=function(){return Pe.resolve(0===this._n.length?-1:this.ss-1)},i.prototype.getAllMutationBatches=function(t){return Pe.resolve(this._n.slice())},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var o=this,c=new j2(e,0),f=new j2(e,Number.POSITIVE_INFINITY),v=[];return this.rs.forEachInRange([c,f],function(_){var M=o.os(_.ns);v.push(M)}),Pe.resolve(v)},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var o=this,c=new D2(Y1);return e.forEach(function(f){var v=new j2(f,0),_=new j2(f,Number.POSITIVE_INFINITY);o.rs.forEachInRange([v,_],function(M){c=c.add(M.ns)})}),Pe.resolve(this.us(c))},i.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var o=e.path,c=o.length+1,f=o;h1.isDocumentKey(f)||(f=f.child(""));var v=new j2(new h1(f),0),_=new D2(Y1);return this.rs.forEachWhile(function(M){var E=M.key.path;return!!o.isPrefixOf(E)&&(E.length===c&&(_=_.add(M.ns)),!0)},v),Pe.resolve(this.us(_))},i.prototype.us=function(t){var e=this,o=[];return t.forEach(function(c){var f=e.os(c);null!==f&&o.push(f)}),o},i.prototype.removeMutationBatch=function(t,e){var o=this;A1(0===this.hs(e.batchId,"removed")),this._n.shift();var c=this.rs;return Pe.forEach(e.mutations,function(f){var v=new j2(f.key,e.batchId);return c=c.delete(v),o.referenceDelegate.markPotentiallyOrphaned(t,f.key)}).next(function(){o.rs=c})},i.prototype.Gt=function(t){},i.prototype.containsKey=function(t,e){var o=new j2(e,0),c=this.rs.firstAfterOrEqual(o);return Pe.resolve(e.isEqual(c&&c.key))},i.prototype.performConsistencyCheck=function(t){return Pe.resolve()},i.prototype.hs=function(t,e){return this.cs(t)},i.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},i.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},i}(),Z$=function(){function i(t,e){this.Ut=t,this.ls=e,this.docs=new Cn(h1.comparator),this.size=0}return i.prototype.addEntry=function(t,e,o){var c=e.key,f=this.docs.get(c),v=f?f.size:0,_=this.ls(e);return this.docs=this.docs.insert(c,{document:e.clone(),size:_,readTime:o}),this.size+=_-v,this.Ut.addToCollectionParentIndex(t,c.path.popLast())},i.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},i.prototype.getEntry=function(t,e){var o=this.docs.get(e);return Pe.resolve(o?o.document.clone():sn.newInvalidDocument(e))},i.prototype.getEntries=function(t,e){var o=this,c=R4();return e.forEach(function(f){var v=o.docs.get(f);c=c.insert(f,v?v.document.clone():sn.newInvalidDocument(f))}),Pe.resolve(c)},i.prototype.getDocumentsMatchingQuery=function(t,e,o){for(var c=R4(),f=new h1(e.path.child("")),v=this.docs.getIteratorFrom(f);v.hasNext();){var _=v.getNext(),E=_.value,S=E.document,I=E.readTime;if(!e.path.isPrefixOf(_.key.path))break;I.compareTo(o)<=0||$9(e,S)&&(c=c.insert(S.key,S.clone()))}return Pe.resolve(c)},i.prototype.fs=function(t,e){return Pe.forEach(this.docs,function(o){return e(o)})},i.prototype.newChangeBuffer=function(t){return new B$(this)},i.prototype.getSize=function(t){return Pe.resolve(this.size)},i}(),B$=function(i){function t(e){var o=this;return(o=i.call(this)||this).Ie=e,o}return(0,H.ZT)(t,i),t.prototype.applyChanges=function(e){var o=this,c=[];return this.changes.forEach(function(f,v){v.document.isValidDocument()?c.push(o.Ie.addEntry(e,v.document,o.getReadTime(f))):o.Ie.removeEntry(f)}),Pe.waitFor(c)},t.prototype.getFromCache=function(e,o){return this.Ie.getEntry(e,o)},t.prototype.getAllFromCache=function(e,o){return this.Ie.getEntries(e,o)},t}(OV),j$=function(){function i(t){this.persistence=t,this.ds=new Uc(function(e){return q9(e)},Fv),this.lastRemoteSnapshotVersion=q1.min(),this.highestTargetId=0,this.ws=0,this._s=new Px,this.targetCount=0,this.ys=eg.Jt()}return i.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(o,c){return e(c)}),Pe.resolve()},i.prototype.getLastRemoteSnapshotVersion=function(t){return Pe.resolve(this.lastRemoteSnapshotVersion)},i.prototype.getHighestSequenceNumber=function(t){return Pe.resolve(this.ws)},i.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Pe.resolve(this.highestTargetId)},i.prototype.setTargetsMetadata=function(t,e,o){return o&&(this.lastRemoteSnapshotVersion=o),e>this.ws&&(this.ws=e),Pe.resolve()},i.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new eg(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},i.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Pe.resolve()},i.prototype.updateTargetData=function(t,e){return this.te(e),Pe.resolve()},i.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Pe.resolve()},i.prototype.removeTargets=function(t,e,o){var c=this,f=0,v=[];return this.ds.forEach(function(_,M){M.sequenceNumber<=e&&null===o.get(M.targetId)&&(c.ds.delete(_),v.push(c.removeMatchingKeysForTargetId(t,M.targetId)),f++)}),Pe.waitFor(v).next(function(){return f})},i.prototype.getTargetCount=function(t){return Pe.resolve(this.targetCount)},i.prototype.getTargetData=function(t,e){var o=this.ds.get(e)||null;return Pe.resolve(o)},i.prototype.addMatchingKeys=function(t,e,o){return this._s.Jn(e,o),Pe.resolve()},i.prototype.removeMatchingKeys=function(t,e,o){this._s.Xn(e,o);var c=this.persistence.referenceDelegate,f=[];return c&&e.forEach(function(v){f.push(c.markPotentiallyOrphaned(t,v))}),Pe.waitFor(f)},i.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Pe.resolve()},i.prototype.getMatchingKeysForTargetId=function(t,e){var o=this._s.es(e);return Pe.resolve(o)},i.prototype.containsKey=function(t,e){return Pe.resolve(this._s.containsKey(e))},i}(),q$=function(){function i(t,e){var o=this;this.gs={},this.Ne=new Zr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new j$(this),this.Ut=new _$,this.Ue=new Z$(this.Ut,function(v){return o.referenceDelegate.ps(v)}),this.R=new AV(e),this.Ke=new F$(this.R)}return i.prototype.start=function(){return Promise.resolve()},i.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.setDatabaseDeletedListener=function(){},i.prototype.setNetworkEnabled=function(){},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new U$(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(t,e,o){var c=this;Ue("MemoryPersistence","Starting transaction:",t);var f=new G$(this.Ne.next());return this.referenceDelegate.Es(),o(f).next(function(v){return c.referenceDelegate.Ts(f).next(function(){return v})}).toPromise().then(function(v){return f.raiseOnCommittedEvent(),v})},i.prototype.Is=function(t,e){return Pe.or(Object.values(this.gs).map(function(o){return function(){return o.containsKey(t,e)}}))},i}(),G$=function(i){function t(e){var o=this;return(o=i.call(this)||this).currentSequenceNumber=e,o}return(0,H.ZT)(t,i),t}(bV),W$=function(){function i(t){this.persistence=t,this.As=new Px,this.Rs=null}return i.bs=function(t){return new i(t)},Object.defineProperty(i.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw l1()},enumerable:!1,configurable:!0}),i.prototype.addReference=function(t,e,o){return this.As.addReference(o,e),this.vs.delete(o.toString()),Pe.resolve()},i.prototype.removeReference=function(t,e,o){return this.As.removeReference(o,e),this.vs.add(o.toString()),Pe.resolve()},i.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Pe.resolve()},i.prototype.removeTarget=function(t,e){var o=this;this.As.Zn(e.targetId).forEach(function(f){return o.vs.add(f.toString())});var c=this.persistence.getTargetCache();return c.getMatchingKeysForTargetId(t,e.targetId).next(function(f){f.forEach(function(v){return o.vs.add(v.toString())})}).next(function(){return c.removeTargetData(t,e)})},i.prototype.Es=function(){this.Rs=new Set},i.prototype.Ts=function(t){var e=this,o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.vs,function(c){var f=h1.fromPath(c);return e.Ps(t,f).next(function(v){v||o.removeEntry(f)})}).next(function(){return e.Rs=null,o.apply(t)})},i.prototype.updateLimboDocument=function(t,e){var o=this;return this.Ps(t,e).next(function(c){c?o.vs.delete(e.toString()):o.vs.add(e.toString())})},i.prototype.ps=function(t){return 0},i.prototype.Ps=function(t,e){var o=this;return Pe.or([function(){return Pe.resolve(o.As.containsKey(e))},function(){return o.persistence.getTargetCache().containsKey(t,e)},function(){return o.persistence.Is(t,e)}])},i}(),ln=function(){function i(t){this.uid=t}return i.prototype.isAuthenticated=function(){return null!=this.uid},i.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},i.prototype.isEqual=function(t){return t.uid===this.uid},i}();function $V(i,t){return"firestore_clients_"+i+"_"+t}function QV(i,t,e){var o="firestore_mutations_"+i+"_"+e;return t.isAuthenticated()&&(o+="_"+t.uid),o}function Fx(i,t){return"firestore_targets_"+i+"_"+t}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");var YV=function(){function i(t,e,o,c){this.user=t,this.batchId=e,this.state=o,this.error=c}return i.Vs=function(t,e,o){var c,f=JSON.parse(o),v="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return v&&f.error&&(v="string"==typeof f.error.message&&"string"==typeof f.error.code)&&(c=new Oe(f.error.code,f.error.message)),v?new i(t,e,f.state,c):(b2("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+o),null)},i.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},i}(),Ux=function(){function i(t,e,o){this.targetId=t,this.state=e,this.error=o}return i.Vs=function(t,e){var o,c=JSON.parse(e),f="object"==typeof c&&-1!==["not-current","current","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return f&&c.error&&(f="string"==typeof c.error.message&&"string"==typeof c.error.code)&&(o=new Oe(c.error.code,c.error.message)),f?new i(t,c.state,o):(b2("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},i.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},i}(),JV=function(){function i(t,e){this.clientId=t,this.activeTargetIds=e}return i.Vs=function(t,e){for(var o=JSON.parse(e),c="object"==typeof o&&o.activeTargetIds instanceof Array,f=Qv(),v=0;c&&v<o.activeTargetIds.length;++v)c=wR(o.activeTargetIds[v]),f=f.add(o.activeTargetIds[v]);return c?new i(t,f):(b2("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},i}(),$$=function(){function i(t,e){this.clientId=t,this.onlineState=e}return i.Vs=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new i(e.clientId,e.onlineState):(b2("SharedClientState","Failed to parse online state: "+t),null)},i}(),Zx=function(){function i(){this.activeTargetIds=Qv()}return i.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},i.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},i.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},i}(),Bx=function(){function i(t,e,o,c,f){this.window=t,this.Se=e,this.persistenceKey=o,this.Ns=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Cn(Y1),this.started=!1,this.$s=[];var v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Os=$V(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new Zx),this.Ls=new RegExp("^firestore_clients_"+v+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+v+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+v+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(_){return"firestore_bundle_loaded_"+_}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return i.yt=function(t){return!(!t||!t.localStorage)},i.prototype.start=function(){return(0,H.mG)(this,void 0,void 0,function(){var t,e,o,c,f,v,_,M,E,S,R=this;return(0,H.Jh)(this,function(O){switch(O.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=O.sent(),e=0,o=t;e<o.length;e++)(c=o[e])!==this.Ns&&(f=this.getItem($V(this.persistenceKey,c)))&&(v=JV.Vs(c,f))&&(this.Fs=this.Fs.insert(v.clientId,v));for(this.Qs(),(_=this.storage.getItem(this.Us))&&(M=this.js(_))&&this.Ws(M),E=0,S=this.$s;E<S.length;E++)this.ks(S[E]);return this.$s=[],this.window.addEventListener("pagehide",function(){return R.shutdown()}),this.started=!0,[2]}})})},i.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},i.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},i.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(o,c){c.activeTargetIds.has(t)&&(e=!0)}),e},i.prototype.addPendingMutation=function(t){this.zs(t,"pending")},i.prototype.updateMutationState=function(t,e,o){this.zs(t,e,o),this.Hs(t)},i.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var o=this.storage.getItem(Fx(this.persistenceKey,t));if(o){var c=Ux.Vs(t,o);c&&(e=c.state)}}return this.Js.Ds(t),this.Qs(),e},i.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},i.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},i.prototype.clearQueryState=function(t){this.removeItem(Fx(this.persistenceKey,t))},i.prototype.updateQueryState=function(t,e,o){this.Ys(t,e,o)},i.prototype.handleUserChange=function(t,e,o){var c=this;e.forEach(function(f){c.Hs(f)}),this.currentUser=t,o.forEach(function(f){c.addPendingMutation(f)})},i.prototype.setOnlineState=function(t){this.Xs(t)},i.prototype.notifyBundleLoaded=function(){this.Zs()},i.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},i.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ue("SharedClientState","READ",t,e),e},i.prototype.setItem=function(t,e){Ue("SharedClientState","SET",t,e),this.storage.setItem(t,e)},i.prototype.removeItem=function(t){Ue("SharedClientState","REMOVE",t),this.storage.removeItem(t)},i.prototype.ks=function(t){var e=this,o=t;if(o.storageArea===this.storage){if(Ue("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Os)return void b2("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,H.mG)(e,void 0,void 0,function(){var c,f,v,_,M,E;return(0,H.Jh)(this,function(S){if(this.started){if(null!==o.key)if(this.Ls.test(o.key)){if(null==o.newValue)return c=this.ti(o.key),[2,this.ei(c,null)];if(f=this.ni(o.key,o.newValue))return[2,this.ei(f.clientId,f)]}else if(this.Bs.test(o.key)){if(null!==o.newValue&&(v=this.si(o.key,o.newValue)))return[2,this.ii(v)]}else if(this.qs.test(o.key)){if(null!==o.newValue&&(_=this.ri(o.key,o.newValue)))return[2,this.oi(_)]}else if(o.key===this.Us){if(null!==o.newValue&&(M=this.js(o.newValue)))return[2,this.Ws(M)]}else if(o.key===this.Ms)(E=function(I){var R=Zr.o;if(null!=I)try{var O=JSON.parse(I);A1("number"==typeof O),R=O}catch(U){b2("SharedClientState","Failed to read sequence number from WebStorage",U)}return R}(o.newValue))!==Zr.o&&this.sequenceNumberHandler(E);else if(o.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(o);return[2]})})})}},Object.defineProperty(i.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),i.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},i.prototype.zs=function(t,e,o){var c=new YV(this.currentUser,t,e,o),f=QV(this.persistenceKey,this.currentUser,t);this.setItem(f,c.Ss())},i.prototype.Hs=function(t){var e=QV(this.persistenceKey,this.currentUser,t);this.removeItem(e)},i.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},i.prototype.Ys=function(t,e,o){var c=Fx(this.persistenceKey,t),f=new Ux(t,e,o);this.setItem(c,f.Ss())},i.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},i.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},i.prototype.ni=function(t,e){var o=this.ti(t);return JV.Vs(o,e)},i.prototype.si=function(t,e){var o=this.Bs.exec(t),c=Number(o[1]);return YV.Vs(new ln(void 0!==o[2]?o[2]:null),c,e)},i.prototype.ri=function(t,e){var o=this.qs.exec(t),c=Number(o[1]);return Ux.Vs(c,e)},i.prototype.js=function(t){return $$.Vs(t)},i.prototype.ii=function(t){return(0,H.mG)(this,void 0,void 0,function(){return(0,H.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Ue("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},i.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},i.prototype.ei=function(t,e){var o=this,c=e?this.Fs.insert(t,e):this.Fs.remove(t),f=this.Gs(this.Fs),v=this.Gs(c),_=[],M=[];return v.forEach(function(E){f.has(E)||_.push(E)}),f.forEach(function(E){v.has(E)||M.push(E)}),this.syncEngine.hi(_,M).then(function(){o.Fs=c})},i.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},i.prototype.Gs=function(t){var e=Qv();return t.forEach(function(o,c){e=e.unionWith(c.activeTargetIds)}),e},i}(),KV=function(){function i(){this.li=new Zx,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return i.prototype.addPendingMutation=function(t){},i.prototype.updateMutationState=function(t,e,o){},i.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},i.prototype.updateQueryState=function(t,e,o){this.fi[t]=e},i.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},i.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},i.prototype.clearQueryState=function(t){delete this.fi[t]},i.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},i.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},i.prototype.start=function(){return this.li=new Zx,Promise.resolve()},i.prototype.handleUserChange=function(t,e,o){},i.prototype.setOnlineState=function(t){},i.prototype.shutdown=function(){},i.prototype.writeSequenceNumber=function(t){},i.prototype.notifyBundleLoaded=function(){},i}(),Q$=function(){function i(){}return i.prototype.di=function(t){},i.prototype.shutdown=function(){},i}(),XV=function(){function i(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return i.prototype.di=function(t){this.gi.push(t)},i.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},i.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},i.prototype._i=function(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},i.prototype.yi=function(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},i.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},i}(),Y$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},J$=function(){function i(t){this.Ei=t.Ei,this.Ti=t.Ti}return i.prototype.Ii=function(t){this.Ai=t},i.prototype.Ri=function(t){this.bi=t},i.prototype.onMessage=function(t){this.vi=t},i.prototype.close=function(){this.Ti()},i.prototype.send=function(t){this.Ei(t)},i.prototype.Pi=function(){this.Ai()},i.prototype.Vi=function(t){this.bi(t)},i.prototype.Si=function(t){this.vi(t)},i}(),K$=function(i){function t(e){var o=this;return(o=i.call(this,e)||this).forceLongPolling=e.forceLongPolling,o.autoDetectLongPolling=e.autoDetectLongPolling,o.useFetchStreams=e.useFetchStreams,o}return(0,H.ZT)(t,i),t.prototype.Fi=function(e,o,c,f){return new Promise(function(v,_){var M=new vR;M.listenOnce(dR.COMPLETE,function(){try{switch(M.getLastErrorCode()){case kv.NO_ERROR:var S=M.getResponseJson();Ue("Connection","XHR received:",JSON.stringify(S)),v(S);break;case kv.TIMEOUT:Ue("Connection",'RPC "'+e+'" timed out'),_(new Oe(Ce.DEADLINE_EXCEEDED,"Request time out"));break;case kv.HTTP_ERROR:var I=M.getStatus();if(Ue("Connection",'RPC "'+e+'" failed with status:',I,"response text:",M.getResponseText()),I>0){var R=M.getResponseJson().error;if(R&&R.status&&R.message){var O=(J=R.status.toLowerCase().replace(/_/g,"-"),Object.values(Ce).indexOf(J)>=0?J:Ce.UNKNOWN);_(new Oe(O,R.message))}else _(new Oe(Ce.UNKNOWN,"Server responded with status "+M.getStatus()))}else _(new Oe(Ce.UNAVAILABLE,"Connection failed."));break;default:l1()}}finally{Ue("Connection",'RPC "'+e+'" completed.')}var J});var E=JSON.stringify(f);M.send(o,"POST",E,c,15)})},t.prototype.Oi=function(e,o){var c=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=new Vv,v=bv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new mR({})),this.ki(_.initMessageHeaders,o),(0,P1.uI)()||(0,P1.b$)()||(0,P1.d)()||(0,P1.w1)()||(0,P1.Mn)()||(0,P1.ru)()||(_.httpHeadersOverwriteParam="$httpHeaders");var M=c.join("");Ue("Connection","Creating WebChannel: "+M,_);var E=f.createWebChannel(M,_),S=!1,I=!1,R=new J$({Ei:function(U){I?Ue("Connection","Not sending because WebChannel is closed:",U):(S||(Ue("Connection","Opening WebChannel transport."),E.open(),S=!0),Ue("Connection","WebChannel sending:",U),E.send(U))},Ti:function(){return E.close()}}),O=function(U,J,le){U.listen(J,function(ge){try{le(ge)}catch(Ae){setTimeout(function(){throw Ae},0)}})};return O(E,F9.EventType.OPEN,function(){I||Ue("Connection","WebChannel transport opened.")}),O(E,F9.EventType.CLOSE,function(){I||(I=!0,Ue("Connection","WebChannel transport closed"),R.Vi())}),O(E,F9.EventType.ERROR,function(U){I||(I=!0,U9("Connection","WebChannel transport errored:",U),R.Vi(new Oe(Ce.UNAVAILABLE,"The operation could not be completed")))}),O(E,F9.EventType.MESSAGE,function(U){var J;if(!I){var le=U.data[0];A1(!!le);var Ae=le.error||(null===(J=le[0])||void 0===J?void 0:J.error);if(Ae){Ue("Connection","WebChannel received error:",Ae);var xe=Ae.status,Re=function(i1){var K1=M2[i1];if(void 0!==K1)return YR(K1)}(xe),Ve=Ae.message;void 0===Re&&(Re=Ce.INTERNAL,Ve="Unknown error status: "+xe+" with message "+Ae.message),I=!0,R.Vi(new Oe(Re,Ve)),E.close()}else Ue("Connection","WebChannel received:",le),R.Si(le)}}),O(v,pR.STAT_EVENT,function(U){U.stat===hx_PROXY?Ue("Connection","Detected buffering proxy"):U.stat===hx_NOPROXY&&Ue("Connection","Detected no buffering proxy")}),setTimeout(function(){R.Pi()},0),R},t}(function(){function i(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return i.prototype.Ni=function(t,e,o,c){var f=this.xi(t,e);Ue("RestConnection","Sending: ",f,o);var v={};return this.ki(v,c),this.Fi(t,f,v,o).then(function(_){return Ue("RestConnection","Received: ",_),_},function(_){throw U9("RestConnection",t+" failed with error: ",_,"url: ",f,"request:",o),_})},i.prototype.$i=function(t,e,o,c){return this.Ni(t,e,o,c)},i.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var o in e.authHeaders)e.authHeaders.hasOwnProperty(o)&&(t[o]=e.authHeaders[o])},i.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Y$[t]},i}());function ek(){return"undefined"!=typeof window?window:null}function og(){return"undefined"!=typeof document?document:null}function iu(i){return new r$(i,!0)}var jx=function(){function i(t,e,o,c,f){void 0===o&&(o=1e3),void 0===c&&(c=1.5),void 0===f&&(f=6e4),this.Se=t,this.timerId=e,this.Mi=o,this.Li=c,this.Bi=f,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return i.prototype.reset=function(){this.qi=0},i.prototype.Qi=function(){this.qi=this.Bi},i.prototype.ji=function(t){var e=this;this.cancel();var o=Math.floor(this.qi+this.Wi()),c=Math.max(0,Date.now()-this.Ki),f=Math.max(0,o-c);f>0&&Ue("ExponentialBackoff","Backing off for "+f+" ms (base delay: "+this.qi+" ms, delay with jitter: "+o+" ms, last attempt: "+c+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,f,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},i.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},i.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},i.prototype.Wi=function(){return(Math.random()-.5)*this.qi},i}(),tk=function(){function i(t,e,o,c,f,v){this.Se=t,this.zi=o,this.Hi=c,this.Ji=f,this.listener=v,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new jx(t,e)}return i.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},i.prototype.er=function(){return 2===this.state},i.prototype.start=function(){3!==this.state?this.auth():this.nr()},i.prototype.stop=function(){return(0,H.mG)(this,void 0,void 0,function(){return(0,H.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},i.prototype.sr=function(){this.state=0,this.Zi.reset()},i.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},i.prototype.cr=function(t){this.ur(),this.stream.send(t)},i.prototype.rr=function(){return(0,H.mG)(this,void 0,void 0,function(){return(0,H.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},i.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},i.prototype.close=function(t,e){return(0,H.mG)(this,void 0,void 0,function(){return(0,H.Jh)(this,function(o){switch(o.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Ce.RESOURCE_EXHAUSTED?(b2(e.toString()),b2("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Ce.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return o.sent(),[2]}})})},i.prototype.ar=function(){},i.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),o=this.Yi;this.Ji.getToken().then(function(c){t.Yi===o&&t.lr(c)},function(c){e(function(){var f=new Oe(Ce.UNKNOWN,"Fetching auth token failed: "+c.message);return t.dr(f)})})},i.prototype.lr=function(t){var e=this,o=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){o(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(c){o(function(){return e.dr(c)})}),this.stream.onMessage(function(c){o(function(){return e.onMessage(c)})})},i.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,H.mG)(t,void 0,void 0,function(){return(0,H.Jh)(this,function(e){return this.state=0,this.start(),[2]})})})},i.prototype.dr=function(t){return Ue("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},i.prototype.hr=function(t){var e=this;return function(o){e.Se.enqueueAndForget(function(){return e.Yi===t?o():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},i}(),X$=function(i){function t(e,o,c,f,v){var _=this;return(_=i.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",o,c,v)||this).R=f,_}return(0,H.ZT)(t,i),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var o=function(f,v){var _,le;if("targetChange"in v){var M="NO_CHANGE"===(le=v.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===le?1:"REMOVE"===le?2:"CURRENT"===le?3:"RESET"===le?4:l1(),E=v.targetChange.targetIds||[],S=function(le,ge){return le.I?(A1(void 0===ge||"string"==typeof ge),Zn.fromBase64String(ge||"")):(A1(void 0===ge||ge instanceof Uint8Array),Zn.fromUint8Array(ge||new Uint8Array))}(f,v.targetChange.resumeToken),I=(R=v.targetChange.cause)&&function(le){var ge=void 0===le.code?Ce.UNKNOWN:YR(le.code);return new Oe(ge,le.message||"")}(R);_=new eV(M,E,S,I||null)}else if("documentChange"in v){E=p3(f,(M=v.documentChange).document.name),S=B2(M.document.updateTime);var R=new Br({mapValue:{fields:M.document.fields}}),O=(I=sn.newFoundDocument(E,S,R),M.targetIds||[]);_=new Yv(O,M.removedTargetIds||[],I.key,I)}else if("documentDelete"in v)E=p3(f,(M=v.documentDelete).document),S=M.readTime?B2(M.readTime):q1.min(),R=sn.newNoDocument(E,S),_=new Yv([],I=M.removedTargetIds||[],R.key,R);else if("documentRemove"in v)E=p3(f,(M=v.documentRemove).document),_=new Yv([],S=M.removedTargetIds||[],E,null);else{if(!("filter"in v))return l1();var J=v.filter;E=new $W(M=J.count||0),_=new XR(S=J.targetId,E)}return _}(this.R,e),c=function(f){if(!("targetChange"in f))return q1.min();var v=f.targetChange;return v.targetIds&&v.targetIds.length?q1.min():v.readTime?B2(v.readTime):q1.min()}(e);return this.listener._r(o,c)},t.prototype.mr=function(e){var f,v,_,M,o={};o.database=eu(this.R),o.addTarget=(f=this.R,(_=Uv(M=(v=e).target)?{documents:fV(f,M)}:{query:hV(f,M)}).targetId=v.targetId,v.resumeToken.approximateByteSize()>0?_.resumeToken=iV(f,v.resumeToken):v.snapshotVersion.compareTo(q1.min())>0&&(_.readTime=K9(f,v.snapshotVersion.toTimestamp())),_);var c=function(f,v){var _=function(M,E){switch(E){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return l1()}}(0,v.purpose);return null==_?null:{"goog-listen-tags":_}}(0,e);c&&(o.labels=c),this.cr(o)},t.prototype.yr=function(e){var o={};o.database=eu(this.R),o.removeTarget=e,this.cr(o)},t}(tk),eQ=function(i){function t(e,o,c,f,v){var _=this;return(_=i.call(this,e,"write_stream_connection_backoff","write_stream_idle",o,c,v)||this).R=f,_.gr=!1,_}return(0,H.ZT)(t,i),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,i.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(A1(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var o=(v=e.commitTime,(f=e.writeResults)&&f.length>0?(A1(void 0!==v),f.map(function(_){return E=v,(S=B2((M=_).updateTime?M.updateTime:E)).isEqual(q1.min())&&(S=B2(E)),new qW(S,M.transformResults||[]);var M,E,S})):[]),c=B2(e.commitTime);return this.listener.Tr(c,o)}var f,v;return A1(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=eu(this.R),this.cr(e)},t.prototype.Er=function(e){var o=this,c={streamToken:this.lastStreamToken,writes:e.map(function(f){return Jv(o.R,f)})};this.cr(c)},t}(tk),tQ=function(i){function t(e,o,c){var f=this;return(f=i.call(this)||this).credentials=e,f.Hi=o,f.R=c,f.Rr=!1,f}return(0,H.ZT)(t,i),t.prototype.br=function(){if(this.Rr)throw new Oe(Ce.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,o,c){var f=this;return this.br(),this.credentials.getToken().then(function(v){return f.Hi.Ni(e,o,c,v)}).catch(function(v){throw"FirebaseError"===v.name?(v.code===Ce.UNAUTHENTICATED&&f.credentials.invalidateToken(),v):new Oe(Ce.UNKNOWN,v.toString())})},t.prototype.$i=function(e,o,c){var f=this;return this.br(),this.credentials.getToken().then(function(v){return f.Hi.$i(e,o,c,v)}).catch(function(v){throw"FirebaseError"===v.name?(v.code===Ce.UNAUTHENTICATED&&f.credentials.invalidateToken(),v):new Oe(Ce.UNKNOWN,v.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),nQ=function(){function i(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return i.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},i.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},i.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},i.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},i.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(b2(e),this.Vr=!1):Ue("OnlineStateTracker",e)},i.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},i}(),rQ=function(i,t,e,o,c){var f=this;this.localStore=i,this.datastore=t,this.asyncQueue=e,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=c,this.Lr.di(function(v){e.enqueueAndForget(function(){return(0,H.mG)(f,void 0,void 0,function(){return(0,H.Jh)(this,function(_){switch(_.label){case 0:return ha(this)?(Ue("RemoteStore","Restarting streams for network reachability change."),[4,function(M){return(0,H.mG)(this,void 0,void 0,function(){var E;return(0,H.Jh)(this,function(S){switch(S.label){case 0:return(E=Ge(M)).Or.add(4),[4,jc(E)];case 1:return S.sent(),E.Br.set("Unknown"),E.Or.delete(4),[4,ou(E)];case 2:return S.sent(),[2]}})})}(this)]):[3,2];case 1:_.sent(),_.label=2;case 2:return[2]}})})})}),this.Br=new nQ(e,o)};function ou(i){return(0,H.mG)(this,void 0,void 0,function(){var t,e;return(0,H.Jh)(this,function(o){switch(o.label){case 0:if(!ha(i))return[3,4];t=0,e=i.Mr,o.label=1;case 1:return t<e.length?[4,(0,e[t])(!0)]:[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function jc(i){return(0,H.mG)(this,void 0,void 0,function(){var t,e;return(0,H.Jh)(this,function(o){switch(o.label){case 0:t=0,e=i.Mr,o.label=1;case 1:return t<e.length?[4,(0,e[t])(!1)]:[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function ag(i,t){var e=Ge(i);e.$r.has(t.targetId)||(e.$r.set(t.targetId,t),Wx(e)?Gx(e):Gc(e).er()&&qx(e,t))}function au(i,t){var e=Ge(i),o=Gc(e);e.$r.delete(t),o.er()&&nk(e,t),0===e.$r.size&&(o.er()?o.ir():ha(e)&&e.Br.set("Unknown"))}function qx(i,t){i.qr.U(t.targetId),Gc(i).mr(t)}function nk(i,t){i.qr.U(t),Gc(i).yr(t)}function Gx(i){i.qr=new e$({getRemoteKeysForTarget:function(t){return i.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return i.$r.get(t)||null}}),Gc(i).start(),i.Br.Sr()}function Wx(i){return ha(i)&&!Gc(i).tr()&&i.$r.size>0}function ha(i){return 0===Ge(i).Or.size}function rk(i){i.qr=void 0}function iQ(i){return(0,H.mG)(this,void 0,void 0,function(){return(0,H.Jh)(this,function(t){return i.$r.forEach(function(e,o){qx(i,e)}),[2]})})}function oQ(i,t){return(0,H.mG)(this,void 0,void 0,function(){return(0,H.Jh)(this,function(e){return rk(i),Wx(i)?(i.Br.Nr(t),Gx(i)):i.Br.set("Unknown"),[2]})})}function aQ(i,t,e){return(0,H.mG)(this,void 0,void 0,function(){var o,c,f;return(0,H.Jh)(this,function(v){switch(v.label){case 0:if(i.Br.set("Online"),!(t instanceof eV&&2===t.state&&t.cause))return[3,6];v.label=1;case 1:return v.trys.push([1,3,,5]),[4,function(_,M){return(0,H.mG)(this,void 0,void 0,function(){var E,S,I,R;return(0,H.Jh)(this,function(O){switch(O.label){case 0:E=M.cause,S=0,I=M.targetIds,O.label=1;case 1:return S<I.length?_.$r.has(R=I[S])?[4,_.remoteSyncer.rejectListen(R,E)]:[3,3]:[3,5];case 2:O.sent(),_.$r.delete(R),_.qr.removeTarget(R),O.label=3;case 3:O.label=4;case 4:return S++,[3,1];case 5:return[2]}})})}(i,t)];case 2:return v.sent(),[3,5];case 3:return o=v.sent(),Ue("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),[4,sg(i,o)];case 4:return v.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Yv?i.qr.X(t):t instanceof XR?i.qr.rt(t):i.qr.et(t),e.isEqual(q1.min()))return[3,13];v.label=7;case 7:return v.trys.push([7,11,,13]),[4,jV(i.localStore)];case 8:return c=v.sent(),e.compareTo(c)>=0?[4,(_=i,M=e,E=_.qr.ut(M),E.targetChanges.forEach(function(S,I){if(S.resumeToken.approximateByteSize()>0){var R=_.$r.get(I);R&&_.$r.set(I,R.withResumeToken(S.resumeToken,M))}}),E.targetMismatches.forEach(function(S){var I=_.$r.get(S);if(I){_.$r.set(S,I.withResumeToken(Zn.EMPTY_BYTE_STRING,I.snapshotVersion)),nk(_,S);var R=new Kv(I.target,S,1,I.sequenceNumber);qx(_,R)}}),_.remoteSyncer.applyRemoteEvent(E))]:[3,10];case 9:v.sent(),v.label=10;case 10:return[3,13];case 11:return Ue("RemoteStore","Failed to raise snapshot:",f=v.sent()),[4,sg(i,f)];case 12:return v.sent(),[3,13];case 13:return[2]}var _,M,E})})}function sg(i,t,e){return(0,H.mG)(this,void 0,void 0,function(){var o=this;return(0,H.Jh)(this,function(c){switch(c.label){case 0:if(!is(t))throw t;return i.Or.add(1),[4,jc(i)];case 1:return c.sent(),i.Br.set("Offline"),e||(e=function(){return jV(i.localStore)}),i.asyncQueue.enqueueRetryable(function(){return(0,H.mG)(o,void 0,void 0,function(){return(0,H.Jh)(this,function(f){switch(f.label){case 0:return Ue("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return f.sent(),i.Or.delete(1),[4,ou(i)];case 2:return f.sent(),[2]}})})}),[2]}})})}function ik(i,t){return t().catch(function(e){return sg(i,e,t)})}function qc(i){return(0,H.mG)(this,void 0,void 0,function(){var t,e,o,c,f;return(0,H.Jh)(this,function(v){switch(v.label){case 0:t=Ge(i),e=da(t),o=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,v.label=1;case 1:if(!(ha(_=t)&&_.Fr.length<10))return[3,7];v.label=2;case 2:return v.trys.push([2,4,,6]),[4,k$(t.localStore,o)];case 3:return null===(c=v.sent())?(0===t.Fr.length&&e.ir(),[3,7]):(o=c.batchId,function(_,M){_.Fr.push(M);var E=da(_);E.er()&&E.pr&&E.Er(M.mutations)}(t,c),[3,6]);case 4:return f=v.sent(),[4,sg(t,f)];case 5:return v.sent(),[3,6];case 6:return[3,1];case 7:return ok(t)&&ak(t),[2]}var _})})}function ok(i){return ha(i)&&!da(i).tr()&&i.Fr.length>0}function ak(i){da(i).start()}function sQ(i){return(0,H.mG)(this,void 0,void 0,function(){return(0,H.Jh)(this,function(t){return da(i).Ar(),[2]})})}function cQ(i){return(0,H.mG)(this,void 0,void 0,function(){var t,e,o;return(0,H.Jh)(this,function(f){for(t=da(i),e=0,o=i.Fr;e<o.length;e++)t.Er(o[e].mutations);return[2]})})}function lQ(i,t,e){return(0,H.mG)(this,void 0,void 0,function(){var o,c;return(0,H.Jh)(this,function(f){switch(f.label){case 0:return o=i.Fr.shift(),c=g$.from(o,t,e),[4,ik(i,function(){return i.remoteSyncer.applySuccessfulWrite(c)})];case 1:return f.sent(),[4,qc(i)];case 2:return f.sent(),[2]}})})}function uQ(i,t){return(0,H.mG)(this,void 0,void 0,function(){return(0,H.Jh)(this,function(e){switch(e.label){case 0:return t&&da(i).pr?[4,function(o,c){return(0,H.mG)(this,void 0,void 0,function(){var f,v;return(0,H.Jh)(this,function(_){switch(_.label){case 0:return QR(v=c.code)&&v!==Ce.ABORTED?(f=o.Fr.shift(),da(o).sr(),[4,ik(o,function(){return o.remoteSyncer.rejectFailedWrite(f.batchId,c)})]):[3,3];case 1:return _.sent(),[4,qc(o)];case 2:_.sent(),_.label=3;case 3:return[2]}})})}(i,t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return ok(i)&&ak(i),[2]}})})}function $x(i,t){return(0,H.mG)(this,void 0,void 0,function(){var e;return(0,H.Jh)(this,function(o){switch(o.label){case 0:return e=Ge(i),t?(e.Or.delete(2),[4,ou(e)]):[3,2];case 1:return o.sent(),[3,5];case 2:return t?[3,4]:(e.Or.add(2),[4,jc(e)]);case 3:o.sent(),e.Br.set("Unknown"),o.label=4;case 4:o.label=5;case 5:return[2]}})})}function Gc(i){var e,o,c,f,t=this;return i.Ur||(i.Ur=(e=i.datastore,o=i.asyncQueue,c={Ii:iQ.bind(null,i),Ri:oQ.bind(null,i),_r:aQ.bind(null,i)},(f=Ge(e)).br(),new X$(o,f.Hi,f.credentials,f.R,c)),i.Mr.push(function(e){return(0,H.mG)(t,void 0,void 0,function(){return(0,H.Jh)(this,function(o){switch(o.label){case 0:return e?(i.Ur.sr(),Wx(i)?Gx(i):i.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,i.Ur.stop()];case 2:o.sent(),rk(i),o.label=3;case 3:return[2]}})})})),i.Ur}function da(i){var e,o,c,f,t=this;return i.Kr||(i.Kr=(e=i.datastore,o=i.asyncQueue,c={Ii:sQ.bind(null,i),Ri:uQ.bind(null,i),Ir:cQ.bind(null,i),Tr:lQ.bind(null,i)},(f=Ge(e)).br(),new eQ(o,f.Hi,f.credentials,f.R,c)),i.Mr.push(function(e){return(0,H.mG)(t,void 0,void 0,function(){return(0,H.Jh)(this,function(o){switch(o.label){case 0:return e?(i.Kr.sr(),[4,qc(i)]):[3,2];case 1:return o.sent(),[3,4];case 2:return[4,i.Kr.stop()];case 3:o.sent(),i.Fr.length>0&&(Ue("RemoteStore","Stopping write stream with "+i.Fr.length+" pending writes"),i.Fr=[]),o.label=4;case 4:return[2]}})})})),i.Kr}var fQ=function(){function i(t,e,o,c,f){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=o,this.op=c,this.removalCallback=f,this.deferred=new wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(v){})}return i.createAndSchedule=function(t,e,o,c,f){var v=new i(t,e,Date.now()+o,c,f);return v.start(o),v},i.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},i.prototype.skipDelay=function(){return this.handleDelayElapsed()},i.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(Ce.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},i.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},i.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},i}();function Wc(i,t){if(b2("AsyncQueue",t+": "+i),is(i))return new Oe(Ce.UNAVAILABLE,t+": "+i);throw i}var sk=function(){function i(t){this.comparator=t?function(e,o){return t(e,o)||h1.comparator(e.key,o.key)}:function(e,o){return h1.comparator(e.key,o.key)},this.keyedMap=zx(),this.sortedSet=new Cn(this.comparator)}return i.emptySet=function(t){return new i(t.comparator)},i.prototype.has=function(t){return null!=this.keyedMap.get(t)},i.prototype.get=function(t){return this.keyedMap.get(t)},i.prototype.first=function(){return this.sortedSet.minKey()},i.prototype.last=function(){return this.sortedSet.maxKey()},i.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},i.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(i.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,o){return t(e),!1})},i.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},i.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},i.prototype.isEqual=function(t){if(!(t instanceof i)||this.size!==t.size)return!1;for(var e=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();e.hasNext();){var c=e.getNext().key,f=o.getNext().key;if(!c.isEqual(f))return!1}return!0},i.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},i.prototype.copy=function(t,e){var o=new i;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=e,o},i}(),ck=function(){function i(){this.Qr=new Cn(h1.comparator)}return i.prototype.track=function(t){var e=t.doc.key,o=this.Qr.get(e);o?0!==t.type&&3===o.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==o.type?this.Qr=this.Qr.insert(e,{type:o.type,doc:t.doc}):2===t.type&&2===o.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===o.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===o.type?this.Qr=this.Qr.remove(e):1===t.type&&2===o.type?this.Qr=this.Qr.insert(e,{type:1,doc:o.doc}):0===t.type&&1===o.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):l1():this.Qr=this.Qr.insert(e,t)},i.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,o){t.push(o)}),t},i}(),cg=function(){function i(t,e,o,c,f,v,_,M){this.query=t,this.docs=e,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=f,this.fromCache=v,this.syncStateChanged=_,this.excludesMetadataChanges=M}return i.fromInitialDocuments=function(t,e,o,c){var f=[];return e.forEach(function(v){f.push({type:0,doc:v})}),new i(t,e,sk.emptySet(e),f,o,c,!0,!1)},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&W9(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,o=t.docChanges;if(e.length!==o.length)return!1;for(var c=0;c<e.length;c++)if(e[c].type!==o[c].type||!e[c].doc.isEqual(o[c].doc))return!1;return!0},i}(),hQ=function(){this.Wr=void 0,this.listeners=[]},dQ=function(){this.queries=new Uc(function(i){return RR(i)},W9),this.onlineState="Unknown",this.Gr=new Set};function Qx(i,t){return(0,H.mG)(this,void 0,void 0,function(){var e,o,c,f,v,_,M;return(0,H.Jh)(this,function(E){switch(E.label){case 0:if(e=Ge(i),c=!1,(f=e.queries.get(o=t.query))||(c=!0,f=new hQ),!c)return[3,4];E.label=1;case 1:return E.trys.push([1,3,,4]),v=f,[4,e.onListen(o)];case 2:return v.Wr=E.sent(),[3,4];case 3:return _=E.sent(),M=Wc(_,"Initialization of query '"+wx(t.query)+"' failed"),[2,void t.onError(M)];case 4:return e.queries.set(o,f),f.listeners.push(t),t.zr(e.onlineState),f.Wr&&t.Hr(f.Wr)&&Jx(e),[2]}})})}function Yx(i,t){return(0,H.mG)(this,void 0,void 0,function(){var e,o,c,f,v;return(0,H.Jh)(this,function(_){return e=Ge(i),c=!1,(f=e.queries.get(o=t.query))&&(v=f.listeners.indexOf(t))>=0&&(f.listeners.splice(v,1),c=0===f.listeners.length),c?[2,(e.queries.delete(o),e.onUnlisten(o))]:[2]})})}function pQ(i,t){for(var e=Ge(i),o=!1,c=0,f=t;c<f.length;c++){var v=f[c],M=e.queries.get(v.query);if(M){for(var E=0,S=M.listeners;E<S.length;E++)S[E].Hr(v)&&(o=!0);M.Wr=v}}o&&Jx(e)}function mQ(i,t,e){var o=Ge(i),c=o.queries.get(t);if(c)for(var f=0,v=c.listeners;f<v.length;f++)v[f].onError(e);o.queries.delete(t)}function Jx(i){i.Gr.forEach(function(t){t.next()})}var Kx=function(){function i(t,e,o){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=o||{}}return i.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],o=0,c=t.docChanges;o<c.length;o++){var f=c[o];3!==f.type&&e.push(f)}t=new cg(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var v=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),v=!0):this.eo(t,this.onlineState)&&(this.no(t),v=!0),this.Xr=t,v},i.prototype.onError=function(t){this.Jr.error(t)},i.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},i.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},i.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},i.prototype.no=function(t){t=cg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},i}(),vQ=function(){function i(t,e){this.payload=t,this.byteLength=e}return i.prototype.io=function(){return"metadata"in this.payload},i}(),lk=function(){function i(t){this.R=t}return i.prototype.qn=function(t){return p3(this.R,t)},i.prototype.Un=function(t){return t.metadata.exists?lV(this.R,t.document,!1):sn.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},i.prototype.Kn=function(t){return B2(t)},i}();!function(){function i(t,e,o){this.ro=t,this.localStore=e,this.R=o,this.queries=[],this.documents=[],this.progress=function(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}(t)}i.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},i.prototype.co=function(t){for(var e=new Map,o=new lk(this.R),c=0,f=t;c<f.length;c++){var v=f[c];if(v.metadata.queries)for(var _=o.qn(v.metadata.name),M=0,E=v.metadata.queries;M<E.length;M++){var S=E[M],I=(e.get(S)||bt()).add(_);e.set(S,I)}}return e},i.prototype.complete=function(){return(0,H.mG)(this,void 0,void 0,function(){var t,e,o,c,f;return(0,H.Jh)(this,function(v){switch(v.label){case 0:return[4,H$(this.localStore,new lk(this.R),this.documents,this.ro.id)];case 1:t=v.sent(),e=this.co(this.documents),o=0,c=this.queries,v.label=2;case 2:return o<c.length?[4,P$(this.localStore,f=c[o],e.get(f.name))]:[3,5];case 3:v.sent(),v.label=4;case 4:return o++,[3,2];case 5:return[2,(this.progress.taskState="Success",new I$(Object.assign({},this.progress),t))]}})})}}();var fk=function(i){this.key=i},hk=function(i){this.key=i},dk=function(){function i(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=bt(),this.mutatedKeys=bt(),this.lo=VR(t),this.fo=new sk(this.lo)}return Object.defineProperty(i.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),i.prototype._o=function(t,e){var o=this,c=e?e.mo:new ck,f=e?e.fo:this.fo,v=e?e.mutatedKeys:this.mutatedKeys,_=f,M=!1,E=Bv(this.query)&&f.size===this.query.limit?f.last():null,S=jv(this.query)&&f.size===this.query.limit?f.first():null;if(t.inorderTraversal(function(R,O){var U=f.get(R),J=$9(o.query,O)?O:null,le=!!U&&o.mutatedKeys.has(U.key),ge=!!J&&(J.hasLocalMutations||o.mutatedKeys.has(J.key)&&J.hasCommittedMutations),Ae=!1;U&&J?U.data.isEqual(J.data)?le!==ge&&(c.track({type:3,doc:J}),Ae=!0):o.yo(U,J)||(c.track({type:2,doc:J}),Ae=!0,(E&&o.lo(J,E)>0||S&&o.lo(J,S)<0)&&(M=!0)):!U&&J?(c.track({type:0,doc:J}),Ae=!0):U&&!J&&(c.track({type:1,doc:U}),Ae=!0,(E||S)&&(M=!0)),Ae&&(J?(_=_.add(J),v=ge?v.add(R):v.delete(R)):(_=_.delete(R),v=v.delete(R)))}),Bv(this.query)||jv(this.query))for(;_.size>this.query.limit;){var I=Bv(this.query)?_.last():_.first();_=_.delete(I.key),v=v.delete(I.key),c.track({type:1,doc:I})}return{fo:_,mo:c,Nn:M,mutatedKeys:v}},i.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},i.prototype.applyChanges=function(t,e,o){var c=this,f=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var v=t.mo.jr();v.sort(function(S,I){return O=I.type,(U=function(J){switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return l1()}})(S.type)-U(O)||c.lo(S.doc,I.doc);var O,U}),this.po(o);var _=e?this.Eo():[],M=0===this.ho.size&&this.current?1:0,E=M!==this.ao;return this.ao=M,0!==v.length||E?{snapshot:new cg(this.query,t.fo,f,v,t.mutatedKeys,0===M,E,!1),To:_}:{To:_}},i.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new ck,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},i.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},i.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(o){return e.uo=e.uo.add(o)}),t.modifiedDocuments.forEach(function(o){}),t.removedDocuments.forEach(function(o){return e.uo=e.uo.delete(o)}),this.current=t.current)},i.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=bt(),this.fo.forEach(function(c){t.Io(c.key)&&(t.ho=t.ho.add(c.key))});var o=[];return e.forEach(function(c){t.ho.has(c)||o.push(new hk(c))}),this.ho.forEach(function(c){e.has(c)||o.push(new fk(c))}),o},i.prototype.Ao=function(t){this.uo=t.Bn,this.ho=bt();var e=this._o(t.documents);return this.applyChanges(e,!0)},i.prototype.Ro=function(){return cg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},i}(),yQ=function(i,t,e){this.query=i,this.targetId=t,this.view=e},_Q=function(i){this.key=i,this.bo=!1},bQ=function(){function i(t,e,o,c,f,v){this.localStore=t,this.remoteStore=e,this.eventManager=o,this.sharedClientState=c,this.currentUser=f,this.maxConcurrentLimboResolutions=v,this.vo={},this.Po=new Uc(function(_){return RR(_)},W9),this.Vo=new Map,this.So=new Set,this.Do=new Cn(h1.comparator),this.Co=new Map,this.No=new Px,this.xo={},this.ko=new Map,this.Fo=eg.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(i.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),i}();function CQ(i,t){return(0,H.mG)(this,void 0,void 0,function(){var e,c,f,v,_;return(0,H.Jh)(this,function(M){switch(M.label){case 0:return e=iS(i),(f=e.Po.get(t))?(e.sharedClientState.addLocalQueryTarget(f.targetId),c=f.view.Ro(),[3,4]):[3,1];case 1:return[4,Zc(e.localStore,L4(t))];case 2:return v=M.sent(),_=e.sharedClientState.addLocalQueryTarget(v.targetId),[4,Xx(e,t,v.targetId,"current"===_)];case 3:c=M.sent(),e.isPrimaryClient&&ag(e.remoteStore,v),M.label=4;case 4:return[2,c]}})})}function Xx(i,t,e,o){return(0,H.mG)(this,void 0,void 0,function(){var c,f,v,_,M,E;return(0,H.Jh)(this,function(S){switch(S.label){case 0:return i.Oo=function(I,R,O){return function(U,J,le,ge){return(0,H.mG)(this,void 0,void 0,function(){var Ae,xe,Re;return(0,H.Jh)(this,function(Ve){switch(Ve.label){case 0:return(Ae=J.view._o(le)).Nn?[4,ig(U.localStore,J.query,!1).then(function(i1){return J.view._o(i1.documents,Ae)})]:[3,2];case 1:Ae=Ve.sent(),Ve.label=2;case 2:return xe=ge&&ge.targetChanges.get(J.targetId),Re=J.view.applyChanges(Ae,U.isPrimaryClient,xe),[2,(nS(U,J.targetId,Re.To),Re.snapshot)]}})})}(i,I,R,O)},[4,ig(i.localStore,t,!0)];case 1:return c=S.sent(),f=new dk(t,c.Bn),v=f._o(c.documents),_=Sx.createSynthesizedTargetChangeForCurrentChange(e,o&&"Offline"!==i.onlineState),M=f.applyChanges(v,i.isPrimaryClient,_),nS(i,e,M.To),E=new yQ(t,e,f),[2,(i.Po.set(t,E),i.Vo.has(e)?i.Vo.get(e).push(t):i.Vo.set(e,[t]),M.snapshot)]}})})}function MQ(i,t){return(0,H.mG)(this,void 0,void 0,function(){var e,o,c;return(0,H.Jh)(this,function(f){switch(f.label){case 0:return e=Ge(i),o=e.Po.get(t),(c=e.Vo.get(o.targetId)).length>1?[2,(e.Vo.set(o.targetId,c.filter(function(v){return!W9(v,t)})),void e.Po.delete(t))]:e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(o.targetId),e.sharedClientState.isActiveQueryTarget(o.targetId)?[3,2]:[4,Bc(e.localStore,o.targetId,!1).then(function(){e.sharedClientState.clearQueryState(o.targetId),au(e.remoteStore,o.targetId),$c(e,o.targetId)}).catch(as)]):[3,3];case 1:f.sent(),f.label=2;case 2:return[3,5];case 3:return $c(e,o.targetId),[4,Bc(e.localStore,o.targetId,!0)];case 4:f.sent(),f.label=5;case 5:return[2]}})})}function wQ(i,t,e){return(0,H.mG)(this,void 0,void 0,function(){var o,c,f,v;return(0,H.Jh)(this,function(_){switch(_.label){case 0:o=oS(i),_.label=1;case 1:return _.trys.push([1,5,,6]),[4,(M=o.localStore,E=t,I=Ge(M),R=cr.now(),O=E.reduce(function(U,J){return U.add(J.key)},bt()),I.persistence.runTransaction("Locally write mutations","readwrite",function(U){return I.Mn.pn(U,O).next(function(J){S=J;for(var le=[],ge=0,Ae=E;ge<Ae.length;ge++){var xe=Ae[ge],Re=WW(xe,S.get(xe.key));null!=Re&&le.push(new aa(xe.key,Re,xR(Re.value.mapValue),bn.exists(!0)))}return I._n.addMutationBatch(U,R,le,E)})}).then(function(U){return U.applyToLocalDocumentSet(S),{batchId:U.batchId,changes:S}}))];case 2:return c=_.sent(),o.sharedClientState.addPendingMutation(c.batchId),function(M,E,S){var I=M.xo[M.currentUser.toKey()];I||(I=new Cn(Y1)),I=I.insert(E,S),M.xo[M.currentUser.toKey()]=I}(o,c.batchId,e),[4,g6(o,c.changes)];case 3:return _.sent(),[4,qc(o.remoteStore)];case 4:return _.sent(),[3,6];case 5:return f=_.sent(),v=Wc(f,"Failed to persist write"),e.reject(v),[3,6];case 6:return[2]}var M,E,S,I,R,O})})}function pk(i,t){return(0,H.mG)(this,void 0,void 0,function(){var e,o;return(0,H.Jh)(this,function(c){switch(c.label){case 0:e=Ge(i),c.label=1;case 1:return c.trys.push([1,4,,6]),[4,V$(e.localStore,t)];case 2:return o=c.sent(),t.targetChanges.forEach(function(f,v){var _=e.Co.get(v);_&&(A1(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?_.bo=!0:f.modifiedDocuments.size>0?A1(_.bo):f.removedDocuments.size>0&&(A1(_.bo),_.bo=!1))}),[4,g6(e,o,t)];case 3:return c.sent(),[3,6];case 4:return[4,as(c.sent())];case 5:return c.sent(),[3,6];case 6:return[2]}})})}function mk(i,t,e){var o=Ge(i);if(o.isPrimaryClient&&0===e||!o.isPrimaryClient&&1===e){var c=[];o.Po.forEach(function(f,v){var _=v.view.zr(t);_.snapshot&&c.push(_.snapshot)}),function(f,v){var _=Ge(f);_.onlineState=v;var M=!1;_.queries.forEach(function(E,S){for(var I=0,R=S.listeners;I<R.length;I++)R[I].zr(v)&&(M=!0)}),M&&Jx(_)}(o.eventManager,t),c.length&&o.vo._r(c),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}function AQ(i,t,e){return(0,H.mG)(this,void 0,void 0,function(){var o,c,f,v,_,M;return(0,H.Jh)(this,function(E){switch(E.label){case 0:return(o=Ge(i)).sharedClientState.updateQueryState(t,"rejected",e),c=o.Co.get(t),(f=c&&c.key)?(v=(v=new Cn(h1.comparator)).insert(f,sn.newNoDocument(f,q1.min())),_=bt().add(f),M=new xx(q1.min(),new Map,new D2(Y1),v,_),[4,pk(o,M)]):[3,2];case 1:return E.sent(),o.Do=o.Do.remove(f),o.Co.delete(t),rS(o),[3,4];case 2:return[4,Bc(o.localStore,t,!1).then(function(){return $c(o,t,e)}).catch(as)];case 3:E.sent(),E.label=4;case 4:return[2]}})})}function EQ(i,t){return(0,H.mG)(this,void 0,void 0,function(){var e,o,c;return(0,H.Jh)(this,function(f){switch(f.label){case 0:e=Ge(i),o=t.batch.batchId,f.label=1;case 1:return f.trys.push([1,4,,6]),[4,R$(e.localStore,t)];case 2:return c=f.sent(),tS(e,o,null),eS(e,o),e.sharedClientState.updateMutationState(o,"acknowledged"),[4,g6(e,c)];case 3:return f.sent(),[3,6];case 4:return[4,as(f.sent())];case 5:return f.sent(),[3,6];case 6:return[2]}})})}function zQ(i,t,e){return(0,H.mG)(this,void 0,void 0,function(){var o,c;return(0,H.Jh)(this,function(f){switch(f.label){case 0:o=Ge(i),f.label=1;case 1:return f.trys.push([1,4,,6]),[4,(v=o.localStore,_=t,M=Ge(v),M.persistence.runTransaction("Reject batch","readwrite-primary",function(E){var S;return M._n.lookupMutationBatch(E,_).next(function(I){return A1(null!==I),S=I.keys(),M._n.removeMutationBatch(E,I)}).next(function(){return M._n.performConsistencyCheck(E)}).next(function(){return M.Mn.pn(E,S)})}))];case 2:return c=f.sent(),tS(o,t,e),eS(o,t),o.sharedClientState.updateMutationState(t,"rejected",e),[4,g6(o,c)];case 3:return f.sent(),[3,6];case 4:return[4,as(f.sent())];case 5:return f.sent(),[3,6];case 6:return[2]}var v,_,M})})}function xQ(i,t){return(0,H.mG)(this,void 0,void 0,function(){var e,o,c,f,v;return(0,H.Jh)(this,function(_){switch(_.label){case 0:ha((e=Ge(i)).remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),_.label=1;case 1:return _.trys.push([1,3,,4]),[4,(M=e.localStore,E=Ge(M),E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(S){return E._n.getHighestUnacknowledgedBatchId(S)}))];case 2:return-1===(o=_.sent())?[2,void t.resolve()]:((c=e.ko.get(o)||[]).push(t),e.ko.set(o,c),[3,4]);case 3:return f=_.sent(),v=Wc(f,"Initialization of waitForPendingWrites() operation failed"),t.reject(v),[3,4];case 4:return[2]}var M,E})})}function eS(i,t){(i.ko.get(t)||[]).forEach(function(e){e.resolve()}),i.ko.delete(t)}function tS(i,t,e){var o=Ge(i),c=o.xo[o.currentUser.toKey()];if(c){var f=c.get(t);f&&(e?f.reject(e):f.resolve(),c=c.remove(t)),o.xo[o.currentUser.toKey()]=c}}function $c(i,t,e){void 0===e&&(e=null),i.sharedClientState.removeLocalQueryTarget(t);for(var o=0,c=i.Vo.get(t);o<c.length;o++){var f=c[o];i.Po.delete(f),e&&i.vo.Mo(f,e)}i.Vo.delete(t),i.isPrimaryClient&&i.No.Zn(t).forEach(function(v){i.No.containsKey(v)||vk(i,v)})}function vk(i,t){i.So.delete(t.path.canonicalString());var e=i.Do.get(t);null!==e&&(au(i.remoteStore,e),i.Do=i.Do.remove(t),i.Co.delete(e),rS(i))}function nS(i,t,e){for(var o=0,c=e;o<c.length;o++){var f=c[o];f instanceof fk?(i.No.addReference(f.key,t),SQ(i,f)):f instanceof hk?(Ue("SyncEngine","Document no longer in limbo: "+f.key),i.No.removeReference(f.key,t),i.No.containsKey(f.key)||vk(i,f.key)):l1()}}function SQ(i,t){var e=t.key,o=e.path.canonicalString();i.Do.get(e)||i.So.has(o)||(Ue("SyncEngine","New document in limbo: "+e),i.So.add(o),rS(i))}function rS(i){for(;i.So.size>0&&i.Do.size<i.maxConcurrentLimboResolutions;){var t=i.So.values().next().value;i.So.delete(t);var e=new h1(ht.fromString(t)),o=i.Fo.next();i.Co.set(o,new _Q(e)),i.Do=i.Do.insert(e,o),ag(i.remoteStore,new Kv(L4(xc(e.path)),o,2,Zr.o))}}function g6(i,t,e){return(0,H.mG)(this,void 0,void 0,function(){var o,c,f,v;return(0,H.Jh)(this,function(_){switch(_.label){case 0:return o=Ge(i),c=[],f=[],v=[],o.Po.isEmpty()?[3,3]:(o.Po.forEach(function(M,E){v.push(o.Oo(E,t,e).then(function(S){if(S){o.isPrimaryClient&&o.sharedClientState.updateQueryState(E.targetId,S.fromCache?"not-current":"current"),c.push(S);var I=D$.Pn(E.targetId,S);f.push(I)}}))}),[4,Promise.all(v)]);case 1:return _.sent(),o.vo._r(c),[4,function(M,E){return(0,H.mG)(this,void 0,void 0,function(){var S,I,R,O,U,J,le,Ae;return(0,H.Jh)(this,function(xe){switch(xe.label){case 0:S=Ge(M),xe.label=1;case 1:return xe.trys.push([1,3,,4]),[4,S.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Re){return Pe.forEach(E,function(Ve){return Pe.forEach(Ve.bn,function(i1){return S.persistence.referenceDelegate.addReference(Re,Ve.targetId,i1)}).next(function(){return Pe.forEach(Ve.vn,function(i1){return S.persistence.referenceDelegate.removeReference(Re,Ve.targetId,i1)})})})})];case 2:return xe.sent(),[3,4];case 3:if(!is(I=xe.sent()))throw I;return Ue("LocalStore","Failed to update sequence numbers: "+I),[3,4];case 4:for(R=0,O=E;R<O.length;R++)J=(U=O[R]).targetId,U.fromCache||(le=S.kn.get(J),Ae=le.withLastLimboFreeSnapshotVersion(le.snapshotVersion),S.kn=S.kn.insert(J,Ae));return[2]}})})}(o.localStore,f)];case 2:_.sent(),_.label=3;case 3:return[2]}})})}function TQ(i,t){return(0,H.mG)(this,void 0,void 0,function(){var e,o;return(0,H.Jh)(this,function(c){switch(c.label){case 0:return(e=Ge(i)).currentUser.isEqual(t)?[3,3]:(Ue("SyncEngine","User change. New user:",t.toKey()),[4,BV(e.localStore,t)]);case 1:return o=c.sent(),e.currentUser=t,(f=e).ko.forEach(function(_){_.forEach(function(M){M.reject(new Oe(Ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ko.clear(),e.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),[4,g6(e,o.Ln)];case 2:c.sent(),c.label=3;case 3:return[2]}var f})})}function NQ(i,t){var e=Ge(i),o=e.Co.get(t);if(o&&o.bo)return bt().add(o.key);var c=bt(),f=e.Vo.get(t);if(!f)return c;for(var v=0,_=f;v<_.length;v++){var E=e.Po.get(_[v]);c=c.unionWith(E.view.wo)}return c}function IQ(i,t){return(0,H.mG)(this,void 0,void 0,function(){var e,o,c;return(0,H.Jh)(this,function(f){switch(f.label){case 0:return[4,ig((e=Ge(i)).localStore,t.query,!0)];case 1:return o=f.sent(),c=t.view.Ao(o),[2,(e.isPrimaryClient&&nS(e,t.targetId,c.To),c)]}})})}function DQ(i){return(0,H.mG)(this,void 0,void 0,function(){var t;return(0,H.Jh)(this,function(e){return[2,WV((t=Ge(i)).localStore).then(function(o){return g6(t,o)})]})})}function LQ(i,t,e,o){return(0,H.mG)(this,void 0,void 0,function(){var c,f;return(0,H.Jh)(this,function(v){switch(v.label){case 0:return[4,(_=(c=Ge(i)).localStore,M=t,E=Ge(_),S=Ge(E._n),E.persistence.runTransaction("Lookup mutation documents","readonly",function(I){return S.jt(I,M).next(function(R){return R?E.Mn.pn(I,R):Pe.resolve(null)})}))];case 1:return null===(f=v.sent())?[3,6]:"pending"!==e?[3,3]:[4,qc(c.remoteStore)];case 2:return v.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(tS(c,t,o||null),eS(c,t),function(_,M){Ge(Ge(_)._n).Gt(M)}(c.localStore,t)):l1(),v.label=4;case 4:return[4,g6(c,f)];case 5:return v.sent(),[3,7];case 6:Ue("SyncEngine","Cannot apply mutation batch with id: "+t),v.label=7;case 7:return[2]}var _,M,E,S})})}function RQ(i,t){return(0,H.mG)(this,void 0,void 0,function(){var e,o,c,f,v,M,E;return(0,H.Jh)(this,function(S){switch(S.label){case 0:return iS(e=Ge(i)),oS(e),!0!==t||!0===e.$o?[3,3]:(o=e.sharedClientState.getAllActiveQueryTargets(),[4,gk(e,o.toArray())]);case 1:return c=S.sent(),e.$o=!0,[4,$x(e.remoteStore,!0)];case 2:for(S.sent(),f=0,v=c;f<v.length;f++)ag(e.remoteStore,v[f]);return[3,7];case 3:return!1!==t||!1===e.$o?[3,7]:(M=[],E=Promise.resolve(),e.Vo.forEach(function(I,R){e.sharedClientState.isLocalQueryTarget(R)?M.push(R):E=E.then(function(){return $c(e,R),Bc(e.localStore,R,!0)}),au(e.remoteStore,R)}),[4,E]);case 4:return S.sent(),[4,gk(e,M)];case 5:return S.sent(),(R=Ge(e)).Co.forEach(function(O,U){au(R.remoteStore,U)}),R.No.ts(),R.Co=new Map,R.Do=new Cn(h1.comparator),e.$o=!1,[4,$x(e.remoteStore,!1)];case 6:S.sent(),S.label=7;case 7:return[2]}var R})})}function gk(i,t,e){return(0,H.mG)(this,void 0,void 0,function(){var o,c,f,v,_,M,E,S,I,R,U,J,le;return(0,H.Jh)(this,function(ge){switch(ge.label){case 0:o=Ge(i),c=[],f=[],v=0,_=t,ge.label=1;case 1:return v<_.length?(E=void 0,(S=o.Vo.get(M=_[v]))&&0!==S.length?[4,Zc(o.localStore,L4(S[0]))]:[3,7]):[3,13];case 2:E=ge.sent(),I=0,R=S,ge.label=3;case 3:return I<R.length?(U=o.Po.get(R[I]),[4,IQ(o,U)]):[3,6];case 4:(J=ge.sent()).snapshot&&f.push(J.snapshot),ge.label=5;case 5:return I++,[3,3];case 6:return[3,11];case 7:return[4,GV(o.localStore,M)];case 8:return le=ge.sent(),[4,Zc(o.localStore,le)];case 9:return E=ge.sent(),[4,Xx(o,yk(le),M,!1)];case 10:ge.sent(),ge.label=11;case 11:c.push(E),ge.label=12;case 12:return v++,[3,1];case 13:return[2,(o.vo._r(f),c)]}})})}function yk(i){return DR(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function VQ(i){var t=Ge(i);return Ge(Ge(t.localStore).persistence).fn()}function kQ(i,t,e,o){return(0,H.mG)(this,void 0,void 0,function(){var c,f,v;return(0,H.Jh)(this,function(_){switch(_.label){case 0:return(c=Ge(i)).$o?(Ue("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!c.Vo.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,WV(c.localStore)];case 3:return f=_.sent(),v=xx.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,g6(c,f,v)];case 4:return _.sent(),[3,8];case 5:return[4,Bc(c.localStore,t,!0)];case 6:return _.sent(),$c(c,t,o),[3,8];case 7:l1(),_.label=8;case 8:return[2]}})})}function OQ(i,t,e){return(0,H.mG)(this,void 0,void 0,function(){var o,c,f,v,_,M,E,S,I;return(0,H.Jh)(this,function(O){switch(O.label){case 0:if(!(o=iS(i)).$o)return[3,10];c=0,f=t,O.label=1;case 1:return c<f.length?o.Vo.has(v=f[c])?(Ue("SyncEngine","Adding an already active target "+v),[3,5]):[4,GV(o.localStore,v)]:[3,6];case 2:return _=O.sent(),[4,Zc(o.localStore,_)];case 3:return M=O.sent(),[4,Xx(o,yk(_),M.targetId,!1)];case 4:O.sent(),ag(o.remoteStore,M),O.label=5;case 5:return c++,[3,1];case 6:E=function(U){return(0,H.Jh)(this,function(J){switch(J.label){case 0:return o.Vo.has(U)?[4,Bc(o.localStore,U,!1).then(function(){au(o.remoteStore,U),$c(o,U)}).catch(as)]:[3,2];case 1:J.sent(),J.label=2;case 2:return[2]}})},S=0,I=e,O.label=7;case 7:return S<I.length?[5,E(I[S])]:[3,10];case 8:O.sent(),O.label=9;case 9:return S++,[3,7];case 10:return[2]}})})}function iS(i){var t=Ge(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=pk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NQ.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=AQ.bind(null,t),t.vo._r=pQ.bind(null,t.eventManager),t.vo.Mo=mQ.bind(null,t.eventManager),t}function oS(i){var t=Ge(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=EQ.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zQ.bind(null,t),t}var _k=function(){function i(){this.synchronizeTabs=!1}return i.prototype.initialize=function(t){return(0,H.mG)(this,void 0,void 0,function(){return(0,H.Jh)(this,function(e){switch(e.label){case 0:return this.R=iu(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},i.prototype.Uo=function(t){return null},i.prototype.Ko=function(t){return ZV(this.persistence,new UV,t.initialUser,this.R)},i.prototype.qo=function(t){return new q$(W$.bs,this.R)},i.prototype.Bo=function(t){return new KV},i.prototype.terminate=function(){return(0,H.mG)(this,void 0,void 0,function(){return(0,H.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},i}(),bk=function(i){function t(e,o,c){var f=this;return(f=i.call(this)||this).Qo=e,f.cacheSizeBytes=o,f.forceOwnership=c,f.synchronizeTabs=!1,f}return(0,H.ZT)(t,i),t.prototype.initialize=function(e){return(0,H.mG)(this,void 0,void 0,function(){var o=this;return(0,H.Jh)(this,function(c){switch(c.label){case 0:return[4,i.prototype.initialize.call(this,e)];case 1:return c.sent(),[4,O$(this.localStore)];case 2:return c.sent(),[4,this.Qo.initialize(this,e)];case 3:return c.sent(),[4,oS(this.Qo.syncEngine)];case 4:return c.sent(),[4,qc(this.Qo.remoteStore)];case 5:return c.sent(),[4,this.persistence.He(function(){return o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()})];case 6:return c.sent(),[2]}})})},t.prototype.Ko=function(e){return ZV(this.persistence,new UV,e.initialUser,this.R)},t.prototype.Uo=function(e){return new A$(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.qo=function(e){var o=Hx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),c=void 0!==this.cacheSizeBytes?v3.withCacheSize(this.cacheSizeBytes):v3.DEFAULT;return new N$(this.synchronizeTabs,o,e.clientId,c,e.asyncQueue,ek(),og(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new KV},t}(_k),PQ=function(i){function t(e,o){var c=this;return(c=i.call(this,e,o,!1)||this).Qo=e,c.cacheSizeBytes=o,c.synchronizeTabs=!0,c}return(0,H.ZT)(t,i),t.prototype.initialize=function(e){return(0,H.mG)(this,void 0,void 0,function(){var o,c=this;return(0,H.Jh)(this,function(f){switch(f.label){case 0:return[4,i.prototype.initialize.call(this,e)];case 1:return f.sent(),o=this.Qo.syncEngine,this.sharedClientState instanceof Bx?(this.sharedClientState.syncEngine={ui:LQ.bind(null,o),ai:kQ.bind(null,o),hi:OQ.bind(null,o),fn:VQ.bind(null,o),ci:DQ.bind(null,o)},[4,this.sharedClientState.start()]):[3,3];case 2:f.sent(),f.label=3;case 3:return[4,this.persistence.He(function(v){return(0,H.mG)(c,void 0,void 0,function(){return(0,H.Jh)(this,function(_){switch(_.label){case 0:return[4,RQ(this.Qo.syncEngine,v)];case 1:return _.sent(),this.gcScheduler&&(v&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):v||this.gcScheduler.stop()),[2]}})})})];case 4:return f.sent(),[2]}})})},t.prototype.Bo=function(e){var o=ek();if(!Bx.yt(o))throw new Oe(Ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var c=Hx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Bx(o,e.asyncQueue,c,e.clientId,e.initialUser)},t}(bk),aS=function(){function i(){}return i.prototype.initialize=function(t,e){return(0,H.mG)(this,void 0,void 0,function(){var o=this;return(0,H.Jh)(this,function(c){switch(c.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(f){return mk(o.syncEngine,f,1)},this.remoteStore.remoteSyncer.handleCredentialChange=TQ.bind(null,this.syncEngine),[4,$x(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:c.sent(),c.label=2;case 2:return[2]}})})},i.prototype.createEventManager=function(t){return new dQ},i.prototype.createDatastore=function(t){var o=iu(t.databaseInfo.databaseId),c=new K$(t.databaseInfo);return new tQ(t.credentials,c,o)},i.prototype.createRemoteStore=function(t){var e,o,c,f,v,_=this;return e=this.localStore,o=this.datastore,c=t.asyncQueue,f=function(M){return mk(_.syncEngine,M,0)},v=XV.yt()?new XV:new Q$,new rQ(e,o,c,f,v)},i.prototype.createSyncEngine=function(t,e){return E=e,S=new bQ(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions),E&&(S.$o=!0),S;var E,S},i.prototype.terminate=function(){return function(t){return(0,H.mG)(this,void 0,void 0,function(){var e;return(0,H.Jh)(this,function(o){switch(o.label){case 0:return e=Ge(t),Ue("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,jc(e)];case 1:return o.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},i}(),lg=function(){function i(t){this.observer=t,this.muted=!1}return i.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},i.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},i.prototype.Wo=function(){this.muted=!0},i.prototype.jo=function(t,e){var o=this;this.muted||setTimeout(function(){o.muted||t(e)},0)},i}(),UQ=(function(){function i(t,e){var o=this;this.Go=t,this.R=e,this.metadata=new wn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(c){c&&c.io()?o.metadata.resolve(c.payload.metadata):o.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==c?void 0:c.payload)))},function(c){return o.metadata.reject(c)})}i.prototype.close=function(){return this.Go.cancel()},i.prototype.getMetadata=function(){return(0,H.mG)(this,void 0,void 0,function(){return(0,H.Jh)(this,function(t){return[2,this.metadata.promise]})})},i.prototype.Lo=function(){return(0,H.mG)(this,void 0,void 0,function(){return(0,H.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},i.prototype.Ho=function(){return(0,H.mG)(this,void 0,void 0,function(){var t,e,o,c;return(0,H.Jh)(this,function(f){switch(f.label){case 0:return[4,this.Jo()];case 1:return null===(t=f.sent())?[2,null]:(e=this.zo.decode(t),o=Number(e),isNaN(o)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(o)]);case 2:return c=f.sent(),[2,new vQ(JSON.parse(c),t.length+o)]}})})},i.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},i.prototype.Jo=function(){return(0,H.mG)(this,void 0,void 0,function(){var t,e;return(0,H.Jh)(this,function(o){switch(o.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(o.sent())return[3,3];o.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},i.prototype.Xo=function(t){return(0,H.mG)(this,void 0,void 0,function(){var e;return(0,H.Jh)(this,function(o){switch(o.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:o.sent()&&this.Yo("Reached the end of bundle when more is expected."),o.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},i.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},i.prototype.tc=function(){return(0,H.mG)(this,void 0,void 0,function(){var t,e;return(0,H.Jh)(this,function(o){switch(o.label){case 0:return[4,this.Go.read()];case 1:return(t=o.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function i(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return i.prototype.lookup=function(t){return(0,H.mG)(this,void 0,void 0,function(){var e,o=this;return(0,H.Jh)(this,function(c){switch(c.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Oe(Ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(f,v){return(0,H.mG)(this,void 0,void 0,function(){var _,M,E,S,I,R;return(0,H.Jh)(this,function(O){switch(O.label){case 0:return _=Ge(f),M=eu(_.R)+"/documents",E={documents:v.map(function(U){return X9(_.R,U)})},[4,_.$i("BatchGetDocuments",M,E)];case 1:return S=O.sent(),I=new Map,S.forEach(function(U){var le,ge,J=(le=_.R,"found"in(ge=U)?function(Ae,xe){A1(!!xe.found);var Re=p3(Ae,xe.found.name),Ve=B2(xe.found.updateTime),i1=new Br({mapValue:{fields:xe.found.fields}});return sn.newFoundDocument(Re,Ve,i1)}(le,ge):"missing"in ge?function(Ae,xe){A1(!!xe.missing),A1(!!xe.readTime);var Re=p3(Ae,xe.missing),Ve=B2(xe.readTime);return sn.newNoDocument(Re,Ve)}(le,ge):l1());I.set(J.key.toString(),J)}),R=[],[2,(v.forEach(function(U){var J=I.get(U.toString());A1(!!J),R.push(J)}),R)]}})})}(this.datastore,t)];case 1:return[2,((e=c.sent()).forEach(function(f){return o.recordVersion(f)}),e)]}})})},i.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},i.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(t.toString())},i.prototype.delete=function(t){this.write(new J9(t,this.precondition(t))),this.writtenDocs.add(t.toString())},i.prototype.commit=function(){return(0,H.mG)(this,void 0,void 0,function(){var t,e=this;return(0,H.Jh)(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(c){t.delete(c.key.toString())}),t.forEach(function(c,f){var v=h1.fromPath(f);e.mutations.push(new Ex(v,e.precondition(v)))}),[4,function(c,f){return(0,H.mG)(this,void 0,void 0,function(){var v,_,M;return(0,H.Jh)(this,function(E){switch(E.label){case 0:return v=Ge(c),_=eu(v.R)+"/documents",M={writes:f.map(function(S){return Jv(v.R,S)})},[4,v.Ni("Commit",_,M)];case 1:return E.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return o.sent(),this.committed=!0,[2]}})})},i.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw l1();e=q1.min()}var o=this.readVersions.get(t.key.toString());if(o){if(!e.isEqual(o))throw new Oe(Ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},i.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?bn.updateTime(e):bn.none()},i.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(q1.min()))throw new Oe(Ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bn.updateTime(e)}return bn.exists(!0)},i.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},i.prototype.ensureCommitNotCalled=function(){},i}()),ZQ=function(){function i(t,e,o,c){this.asyncQueue=t,this.datastore=e,this.updateFunction=o,this.deferred=c,this.ec=5,this.Zi=new jx(this.asyncQueue,"transaction_retry")}return i.prototype.run=function(){this.ec-=1,this.nc()},i.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,H.mG)(t,void 0,void 0,function(){var e,o,c=this;return(0,H.Jh)(this,function(f){return e=new UQ(this.datastore),(o=this.sc(e))&&o.then(function(v){c.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){c.deferred.resolve(v)}).catch(function(_){c.ic(_)})})}).catch(function(v){c.ic(v)}),[2]})})})},i.prototype.sc=function(t){try{var e=this.updateFunction(t);return!X0(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}},i.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},i.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!QR(e)}return!1},i}(),BQ=function(){function i(t,e,o){var c=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=gR.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(f){return(0,H.mG)(c,void 0,void 0,function(){return(0,H.Jh)(this,function(v){switch(v.label){case 0:return Ue("FirestoreClient","Received user=",f.uid),[4,this.credentialListener(f)];case 1:return v.sent(),this.user=f,[2]}})})})}return i.prototype.getConfiguration=function(){return(0,H.mG)(this,void 0,void 0,function(){return(0,H.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},i.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},i.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Oe(Ce.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,H.mG)(t,void 0,void 0,function(){var o,c;return(0,H.Jh)(this,function(f){switch(f.label){case 0:return f.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:f.sent(),f.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:f.sent(),f.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return o=f.sent(),c=Wc(o,"Failed to shutdown persistence"),e.reject(c),[3,6];case 6:return[2]}})})}),e.promise},i}();function Mk(i,t){return(0,H.mG)(this,void 0,void 0,function(){var e,o,c=this;return(0,H.Jh)(this,function(f){switch(f.label){case 0:return i.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider"),[4,i.getConfiguration()];case 1:return e=f.sent(),[4,t.initialize(e)];case 2:return f.sent(),o=e.initialUser,i.setCredentialChangeListener(function(v){return(0,H.mG)(c,void 0,void 0,function(){return(0,H.Jh)(this,function(_){switch(_.label){case 0:return o.isEqual(v)?[3,2]:[4,BV(t.localStore,v)];case 1:_.sent(),o=v,_.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return i.terminate()}),i.offlineComponents=t,[2]}})})}function wk(i,t){return(0,H.mG)(this,void 0,void 0,function(){var e,o;return(0,H.Jh)(this,function(c){switch(c.label){case 0:return i.asyncQueue.verifyOperationInProgress(),[4,sS(i)];case 1:return e=c.sent(),Ue("FirestoreClient","Initializing OnlineComponentProvider"),[4,i.getConfiguration()];case 2:return o=c.sent(),[4,t.initialize(e,o)];case 3:return c.sent(),i.setCredentialChangeListener(function(f){return function(v,_){return(0,H.mG)(this,void 0,void 0,function(){var M,E;return(0,H.Jh)(this,function(S){switch(S.label){case 0:return(M=Ge(v)).asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials"),E=ha(M),M.Or.add(3),[4,jc(M)];case 1:return S.sent(),E&&M.Br.set("Unknown"),[4,M.remoteSyncer.handleCredentialChange(_)];case 2:return S.sent(),M.Or.delete(3),[4,ou(M)];case 3:return S.sent(),[2]}})})}(t.remoteStore,f)}),i.onlineComponents=t,[2]}})})}function sS(i){return(0,H.mG)(this,void 0,void 0,function(){return(0,H.Jh)(this,function(t){switch(t.label){case 0:return i.offlineComponents?[3,2]:(Ue("FirestoreClient","Using default OfflineComponentProvider"),[4,Mk(i,new _k)]);case 1:t.sent(),t.label=2;case 2:return[2,i.offlineComponents]}})})}function ug(i){return(0,H.mG)(this,void 0,void 0,function(){return(0,H.Jh)(this,function(t){switch(t.label){case 0:return i.onlineComponents?[3,2]:(Ue("FirestoreClient","Using default OnlineComponentProvider"),[4,wk(i,new aS)]);case 1:t.sent(),t.label=2;case 2:return[2,i.onlineComponents]}})})}function Ak(i){return sS(i).then(function(t){return t.persistence})}function cS(i){return sS(i).then(function(t){return t.localStore})}function Ek(i){return ug(i).then(function(t){return t.remoteStore})}function lS(i){return ug(i).then(function(t){return t.syncEngine})}function Qc(i){return(0,H.mG)(this,void 0,void 0,function(){var t,e;return(0,H.Jh)(this,function(o){switch(o.label){case 0:return[4,ug(i)];case 1:return t=o.sent(),[2,((e=t.eventManager).onListen=CQ.bind(null,t.syncEngine),e.onUnlisten=MQ.bind(null,t.syncEngine),e)]}})})}function zk(i,t,e){var o=this;void 0===e&&(e={});var c=new wn;return i.asyncQueue.enqueueAndForget(function(){return(0,H.mG)(o,void 0,void 0,function(){var f;return(0,H.Jh)(this,function(v){switch(v.label){case 0:return f=function(_,M,E,S,I){var R=new lg({next:function(U){M.enqueueAndForget(function(){return Yx(_,O)});var J=U.docs.has(E);!J&&U.fromCache?I.reject(new Oe(Ce.UNAVAILABLE,"Failed to get document because the client is offline.")):J&&U.fromCache&&S&&"server"===S.source?I.reject(new Oe(Ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):I.resolve(U)},error:function(U){return I.reject(U)}}),O=new Kx(xc(E.path),R,{includeMetadataChanges:!0,so:!0});return Qx(_,O)},[4,Qc(i)];case 1:return[2,f.apply(void 0,[v.sent(),i.asyncQueue,t,e,c])]}})})}),c.promise}function xk(i,t,e){var o=this;void 0===e&&(e={});var c=new wn;return i.asyncQueue.enqueueAndForget(function(){return(0,H.mG)(o,void 0,void 0,function(){var f;return(0,H.Jh)(this,function(v){switch(v.label){case 0:return f=function(_,M,E,S,I){var R=new lg({next:function(U){M.enqueueAndForget(function(){return Yx(_,O)}),U.fromCache&&"server"===S.source?I.reject(new Oe(Ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):I.resolve(U)},error:function(U){return I.reject(U)}}),O=new Kx(E,R,{includeMetadataChanges:!0,so:!0});return Qx(_,O)},[4,Qc(i)];case 1:return[2,f.apply(void 0,[v.sent(),i.asyncQueue,t,e,c])]}})})}),c.promise}var jQ=function(i,t,e,o,c,f,v,_){this.databaseId=i,this.appId=t,this.persistenceKey=e,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=v,this.useFetchStreams=_},fg=function(){function i(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(i.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return t instanceof i&&t.projectId===this.projectId&&t.database===this.database},i}(),Sk=new Map,Tk=function(i,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+i},Nk=function(){function i(){this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(null)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(ln.UNAUTHENTICATED)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),qQ=function(){function i(t){this.token=t,this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(this.token)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(t,e){var o=this;this.changeListener=e,t.enqueueRetryable(function(){return e(o.token.user)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),GQ=function(){function i(t){var e=this;this.currentUser=ln.UNAUTHENTICATED,this.oc=new wn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var o=function(c){Ue("FirebaseCredentialsProvider","Auth detected"),e.auth=c,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(c){return o(c)}),setTimeout(function(){if(!e.auth){var c=t.getImmediate({optional:!0});c?o(c):(Ue("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return i.prototype.getToken=function(){var t=this,e=this.cc,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(function(c){return t.cc!==e?(Ue("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):c?(A1("string"==typeof c.accessToken),new Tk(c.accessToken,t.currentUser)):null}):Promise.resolve(null)},i.prototype.invalidateToken=function(){this.forceRefresh=!0},i.prototype.setChangeListener=function(t,e){var o=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,H.mG)(o,void 0,void 0,function(){return(0,H.Jh)(this,function(c){switch(c.label){case 0:return[4,this.oc.promise];case 1:return c.sent(),[4,e(this.currentUser)];case 2:return c.sent(),this.changeListener=e,[2]}})})})},i.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},i.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return A1(null===t||"string"==typeof t),new ln(t)},i}(),WQ=function(){function i(t,e,o){this.hc=t,this.lc=e,this.fc=o,this.type="FirstParty",this.user=ln.FIRST_PARTY}return Object.defineProperty(i.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),i}(),$Q=function(){function i(t,e,o){this.hc=t,this.lc=e,this.fc=o}return i.prototype.getToken=function(){return Promise.resolve(new WQ(this.hc,this.lc,this.fc))},i.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(ln.FIRST_PARTY)})},i.prototype.removeChangeListener=function(){},i.prototype.invalidateToken=function(){},i}();function uS(i,t,e){if(!e)throw new Oe(Ce.INVALID_ARGUMENT,"Function "+i+"() cannot be called with an empty "+t+".")}function fS(i,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Oe(Ce.INVALID_ARGUMENT,"Invalid options passed to function "+i+'(): You cannot specify both "merge" and "mergeFields".');return t}function Ik(i,t,e,o){if(!0===t&&!0===o)throw new Oe(Ce.INVALID_ARGUMENT,i+" and "+e+" cannot be used together.")}function Dk(i){if(!h1.isDocumentKey(i))throw new Oe(Ce.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+i+" has "+i.length+".")}function Lk(i){if(h1.isDocumentKey(i))throw new Oe(Ce.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+i+" has "+i.length+".")}function hg(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=i.substring(0,20)+"..."),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";var t=function(e){if(e.constructor){var o=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(o&&o.length>1)return o[1]}return null}(i);return t?"a custom "+t+" object":"an object"}return"function"==typeof i?"a function":l1()}function dt(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Oe(Ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var e=hg(i);throw new Oe(Ce.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+e)}return i}function Rk(i,t){if(t<=0)throw new Oe(Ce.INVALID_ARGUMENT,"Function "+i+"() requires a positive number, but it was: "+t+".")}var Vk=function(){function i(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Oe(Ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Oe(Ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Ik("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return i.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},i}(),su=function(){function i(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vk({}),this._settingsFrozen=!1,t instanceof fg?(this._databaseId=t,this._credentials=new Nk):(this._app=t,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Oe(Ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fg(o.options.projectId)}(t),this._credentials=new GQ(e))}return Object.defineProperty(i.prototype,"app",{get:function(){if(!this._app)throw new Oe(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),i.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Oe(Ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vk(t),void 0!==t.credentials&&(this._credentials=function(e){if(!e)return new Nk;switch(e.type){case"gapi":var o=e.client;return A1(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new $Q(o,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Oe(Ce.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},i.prototype._getSettings=function(){return this._settings},i.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},i.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},i.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},i.prototype._terminate=function(){return(e=Sk.get(this))&&(Ue("ComponentProvider","Removing Datastore"),Sk.delete(this),e.terminate()),Promise.resolve();var e},i}(),Jt=function(){function i(t,e,o){this.converter=e,this._key=o,this.type="document",this.firestore=t}return Object.defineProperty(i.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new pa(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),i.prototype.withConverter=function(t){return new i(this.firestore,t,this._key)},i}(),fr=function(){function i(t,e,o){this.converter=e,this._query=o,this.type="query",this.firestore=t}return i.prototype.withConverter=function(t){return new i(this.firestore,t,this._query)},i}(),pa=function(i){function t(e,o,c){var f=this;return(f=i.call(this,e,o,xc(c))||this)._path=c,f.type="collection",f}return(0,H.ZT)(t,i),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new h1(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(fr);function kk(i,t){for(var e,o=[],c=2;c<arguments.length;c++)o[c-2]=arguments[c];if(i=(0,P1.m9)(i),uS("collection","path",t),i instanceof su)return Lk(e=ht.fromString.apply(ht,(0,H.ev)([t],o))),new pa(i,null,e);if(!(i instanceof Jt||i instanceof pa))throw new Oe(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Lk(e=ht.fromString.apply(ht,(0,H.ev)([i.path],o)).child(ht.fromString(t))),new pa(i.firestore,null,e)}function dg(i,t){for(var e,o=[],c=2;c<arguments.length;c++)o[c-2]=arguments[c];if(i=(0,P1.m9)(i),1===arguments.length&&(t=gR.u()),uS("doc","path",t),i instanceof su)return Dk(e=ht.fromString.apply(ht,(0,H.ev)([t],o))),new Jt(i,null,new h1(e));if(!(i instanceof Jt||i instanceof pa))throw new Oe(Ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Dk(e=i._path.child(ht.fromString.apply(ht,(0,H.ev)([t],o)))),new Jt(i.firestore,i instanceof pa?i.converter:null,new h1(e))}function Ok(i,t){return i=(0,P1.m9)(i),t=(0,P1.m9)(t),(i instanceof Jt||i instanceof pa)&&(t instanceof Jt||t instanceof pa)&&i.firestore===t.firestore&&i.path===t.path&&i.converter===t.converter}function Hk(i,t){return i=(0,P1.m9)(i),t=(0,P1.m9)(t),i instanceof fr&&t instanceof fr&&i.firestore===t.firestore&&W9(i._query,t._query)&&i.converter===t.converter}var QQ=function(){function i(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new jx(this,"async_queue_retry"),this.Ic=function(){var o=og();o&&Ue("AsyncQueue","Visibility state changed to "+o.visibilityState),t.Zi.Gi()};var e=og();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(i.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),i.prototype.enqueueAndForget=function(t){this.enqueue(t)},i.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},i.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=og();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},i.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var o=new wn;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(o.resolve,o.reject),o.promise)}).then(function(){return o.promise})},i.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},i.prototype.bc=function(){return(0,H.mG)(this,void 0,void 0,function(){var t,e=this;return(0,H.Jh)(this,function(o){switch(o.label){case 0:if(0===this.wc.length)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return o.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!is(t=o.sent()))throw t;return Ue("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),o.label=5;case 5:return[2]}})})},i.prototype.Rc=function(t){var e=this,o=this.dc.then(function(){return e.gc=!0,t().catch(function(c){throw e.yc=c,e.gc=!1,b2("INTERNAL UNHANDLED ERROR: ",(v=(f=c).message||"",f.stack&&(v=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),v)),c;var f,v}).then(function(c){return e.gc=!1,c})});return this.dc=o,o},i.prototype.enqueueAfterDelay=function(t,e,o){var c=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var f=fQ.createAndSchedule(this,t,e,o,function(v){return c.vc(v)});return this.mc.push(f),f},i.prototype.Ac=function(){this.yc&&l1()},i.prototype.verifyOperationInProgress=function(){},i.prototype.Pc=function(){return(0,H.mG)(this,void 0,void 0,function(){var t;return(0,H.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},i.prototype.Vc=function(t){for(var e=0,o=this.mc;e<o.length;e++)if(o[e].timerId===t)return!0;return!1},i.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(v,_){return v.targetTimeMs-_.targetTimeMs});for(var o=0,c=e.mc;o<c.length;o++){var f=c[o];if(f.skipDelay(),"all"!==t&&f.timerId===t)break}return e.Pc()})},i.prototype.Dc=function(t){this.Tc.push(t)},i.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},i}();function Yc(i){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var o=t,c=0,f=["next","error","complete"];c<f.length;c++){var v=f[c];if(v in o&&"function"==typeof o[v])return!0}return!1}(i)}!function(){function i(){this._progressObserver={},this._taskCompletionResolver=new wn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}i.prototype.onProgress=function(t,e,o){this._progressObserver={next:t,error:e,complete:o}},i.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},i.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},i.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},i.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},i.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var l2=function(i){function t(e,o){var c=this;return(c=i.call(this,e,o)||this).type="firestore",c._queue=new QQ,c._persistenceKey="name"in e?e.name:"[DEFAULT]",c}return(0,H.ZT)(t,i),t.prototype._terminate=function(){return this._firestoreClient||Pk(this),this._firestoreClient.terminate()},t}(su);function q2(i){return i._firestoreClient||Pk(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Pk(i){var t,f,_,e=i._freezeSettings(),o=(f=(null===(t=i._app)||void 0===t?void 0:t.options.appId)||"",new jQ(i._databaseId,f,i._persistenceKey,(_=e).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));i._firestoreClient=new BQ(i._credentials,i._queue,o)}function Fk(i,t,e){var o=this,c=new wn;return i.asyncQueue.enqueue(function(){return(0,H.mG)(o,void 0,void 0,function(){var f;return(0,H.Jh)(this,function(v){switch(v.label){case 0:return v.trys.push([0,3,,4]),[4,Mk(i,e)];case 1:return v.sent(),[4,wk(i,t)];case 2:return v.sent(),c.resolve(),[3,4];case 3:if(!("FirebaseError"===(_=f=v.sent()).name?_.code===Ce.FAILED_PRECONDITION||_.code===Ce.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&_ instanceof DOMException)||22===_.code||20===_.code||11===_.code))throw f;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+f),c.reject(f),[3,4];case 4:return[2]}var _})})}).then(function(){return c.promise})}function Uk(i){if(i._initialized||i._terminated)throw new Oe(Ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var g3=function(){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var o=0;o<t.length;++o)if(0===t[o].length)throw new Oe(Ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ei(t)}return i.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},i}(),ss=function(){function i(t){this._byteString=t}return i.fromBase64String=function(t){try{return new i(Zn.fromBase64String(t))}catch(e){throw new Oe(Ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},i.fromUint8Array=function(t){return new i(Zn.fromUint8Array(t))},i.prototype.toBase64=function(){return this._byteString.toBase64()},i.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},i.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},i.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},i}(),cs=function(i){this._methodName=i},pg=function(){function i(t,e){if(!isFinite(t)||t<-90||t>90)throw new Oe(Ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Oe(Ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(i.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},i.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},i.prototype._compareTo=function(t){return Y1(this._lat,t._lat)||Y1(this._long,t._long)},i}(),KQ=/^__.*__$/,XQ=function(){function i(t,e,o){this.data=t,this.fieldMask=e,this.fieldTransforms=o}return i.prototype.toMutation=function(t,e){return null!==this.fieldMask?new aa(t,this.data,this.fieldMask,e,this.fieldTransforms):new Y9(t,this.data,e,this.fieldTransforms)},i}(),Zk=function(){function i(t,e,o){this.data=t,this.fieldMask=e,this.fieldTransforms=o}return i.prototype.toMutation=function(t,e){return new aa(t,this.data,this.fieldMask,e,this.fieldTransforms)},i}();function Bk(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw l1()}}var jk=function(){function i(t,e,o,c,f,v){this.settings=t,this.databaseId=e,this.R=o,this.ignoreUndefinedProperties=c,void 0===f&&this.Cc(),this.fieldTransforms=f||[],this.fieldMask=v||[]}return Object.defineProperty(i.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),i.prototype.xc=function(t){return new i(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},i.prototype.kc=function(t){var e,o=null===(e=this.path)||void 0===e?void 0:e.child(t),c=this.xc({path:o,Fc:!1});return c.$c(t),c},i.prototype.Oc=function(t){var e,o=null===(e=this.path)||void 0===e?void 0:e.child(t),c=this.xc({path:o,Fc:!1});return c.Cc(),c},i.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},i.prototype.Lc=function(t){return vg(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},i.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},i.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},i.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(Bk(this.Nc)&&KQ.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},i}(),eY=function(){function i(t,e,o){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=o||iu(t)}return i.prototype.Uc=function(t,e,o,c){return void 0===c&&(c=!1),new jk({Nc:t,methodName:e,qc:o,path:Ei.emptyPath(),Fc:!1,Bc:c},this.databaseId,this.R,this.ignoreUndefinedProperties)},i}();function ls(i){var t=i._freezeSettings(),e=iu(i._databaseId);return new eY(i._databaseId,!!t.ignoreUndefinedProperties,e)}function mg(i,t,e,o,c,f){void 0===f&&(f={});var v=i.Uc(f.merge||f.mergeFields?2:0,t,e,c);mS("Data must be an object, but it was:",v,o);var _,M,E=Wk(o,v);if(f.merge)_=new wc(v.fieldMask),M=v.fieldTransforms;else if(f.mergeFields){for(var S=[],I=0,R=f.mergeFields;I<R.length;I++){var O=vS(t,R[I],e);if(!v.contains(O))throw new Oe(Ce.INVALID_ARGUMENT,"Field '"+O+"' is specified in your field mask but missing from your input data.");Qk(S,O)||S.push(O)}_=new wc(S),M=v.fieldTransforms.filter(function(U){return _.covers(U.field)})}else _=null,M=v.fieldTransforms;return new XQ(new Br(E),_,M)}var hS=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,H.ZT)(t,i),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw e.Lc(1===e.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(cs);function qk(i,t,e){return new jk({Nc:3,qc:t.settings.qc,methodName:i._methodName,Fc:e},t.databaseId,t.R,t.ignoreUndefinedProperties)}var tY=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,H.ZT)(t,i),t.prototype._toFieldTransform=function(e){return new Q9(e.path,new Tc)},t.prototype.isEqual=function(e){return e instanceof t},t}(cs),nY=function(i){function t(e,o){var c=this;return(c=i.call(this,e)||this).Kc=o,c}return(0,H.ZT)(t,i),t.prototype._toFieldTransform=function(e){var o=qk(this,e,!0),c=this.Kc.map(function(v){return us(v,o)}),f=new ts(c);return new Q9(e.path,f)},t.prototype.isEqual=function(e){return this===e},t}(cs),rY=function(i){function t(e,o){var c=this;return(c=i.call(this,e)||this).Kc=o,c}return(0,H.ZT)(t,i),t.prototype._toFieldTransform=function(e){var o=qk(this,e,!0),c=this.Kc.map(function(v){return us(v,o)}),f=new ns(c);return new Q9(e.path,f)},t.prototype.isEqual=function(e){return this===e},t}(cs),iY=function(i){function t(e,o){var c=this;return(c=i.call(this,e)||this).Qc=o,c}return(0,H.ZT)(t,i),t.prototype._toFieldTransform=function(e){var o=new Nc(e.R,HR(e.R,this.Qc));return new Q9(e.path,o)},t.prototype.isEqual=function(e){return this===e},t}(cs);function dS(i,t,e,o){var c=i.Uc(1,t,e);mS("Data must be an object, but it was:",c,o);var f=[],v=Br.empty();K0(o,function(M,E){var S=gS(t,M,e);E=(0,P1.m9)(E);var I=c.Oc(S);if(E instanceof hS)f.push(S);else{var R=us(E,I);null!=R&&(f.push(S),v.set(S,R))}});var _=new wc(f);return new Zk(v,_,c.fieldTransforms)}function pS(i,t,e,o,c,f){var v=i.Uc(1,t,e),_=[vS(t,o,e)],M=[c];if(f.length%2!=0)throw new Oe(Ce.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var E=0;E<f.length;E+=2)_.push(vS(t,f[E])),M.push(f[E+1]);for(var S=[],I=Br.empty(),R=_.length-1;R>=0;--R)if(!Qk(S,_[R])){var O=_[R],U=M[R];U=(0,P1.m9)(U);var J=v.Oc(O);if(U instanceof hS)S.push(O);else{var le=us(U,J);null!=le&&(S.push(O),I.set(O,le))}}var ge=new wc(S);return new Zk(I,ge,v.fieldTransforms)}function Gk(i,t,e,o){return void 0===o&&(o=!1),us(e,i.Uc(o?4:3,t))}function us(i,t){if($k(i=(0,P1.m9)(i)))return mS("Unsupported field value:",t,i),Wk(i,t);if(i instanceof cs)return function(e,o){if(!Bk(o.Nc))throw o.Lc(e._methodName+"() can only be used with update() and set()");if(!o.path)throw o.Lc(e._methodName+"() is not currently supported inside arrays");var c=e._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(i,t),null;if(void 0===i&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,o){for(var c=[],f=0,v=0,_=e;v<_.length;v++){var M=us(_[v],o.Mc(f));null==M&&(M={nullValue:"NULL_VALUE"}),c.push(M),f++}return{arrayValue:{values:c}}}(i,t)}return function(e,o){if(null===(e=(0,P1.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return HR(o.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var c=cr.fromDate(e);return{timestampValue:K9(o.R,c)}}if(e instanceof cr)return c=new cr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:K9(o.R,c)};if(e instanceof pg)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ss)return{bytesValue:iV(o.R,e._byteString)};if(e instanceof Jt){var f=e.firestore._databaseId;if(!f.isEqual(c=o.databaseId))throw o.Lc("Document reference is for database "+f.projectId+"/"+f.database+" but should be for database "+c.projectId+"/"+c.database);return{referenceValue:Tx(e.firestore._databaseId||o.databaseId,e._key.path)}}throw o.Lc("Unsupported field value: "+hg(e))}(i,t)}function Wk(i,t){var e={};return bR(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):K0(i,function(o,c){var f=us(c,t.kc(o));null!=f&&(e[o]=f)}),{mapValue:{fields:e}}}function $k(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof cr||i instanceof pg||i instanceof ss||i instanceof Jt||i instanceof cs)}function mS(i,t,e){if(!$k(e)||"object"!=typeof(c=e)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){var o=hg(e);throw t.Lc("an object"===o?i+" a custom object":i+" "+o)}var c}function vS(i,t,e){if((t=(0,P1.m9)(t))instanceof g3)return t._internalPath;if("string"==typeof t)return gS(i,t);throw vg("Field path arguments must be of type string or FieldPath.",i,!1,void 0,e)}var oY=new RegExp("[~\\*/\\[\\]]");function gS(i,t,e){if(t.search(oY)>=0)throw vg("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",i,!1,void 0,e);try{return(new(g3.bind.apply(g3,(0,H.ev)([void 0],t.split(".")))))._internalPath}catch(o){throw vg("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",i,!1,void 0,e)}}function vg(i,t,e,o,c){var f=o&&!o.isEmpty(),v=void 0!==c,_="Function "+t+"() called with invalid data";e&&(_+=" (via `toFirestore()`)");var M="";return(f||v)&&(M+=" (found",f&&(M+=" in field "+o),v&&(M+=" in document "+c),M+=")"),new Oe(Ce.INVALID_ARGUMENT,(_+=". ")+i+M)}function Qk(i,t){return i.some(function(e){return e.isEqual(t)})}var cu=function(){function i(t,e,o,c,f){this._firestore=t,this._userDataWriter=e,this._key=o,this._document=c,this._converter=f}return Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ref",{get:function(){return new Jt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),i.prototype.exists=function(){return null!==this._document},i.prototype.data=function(){if(this._document){if(this._converter){var t=new aY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},i.prototype.get=function(t){if(this._document){var e=this._document.data.field(gg("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},i}(),aY=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,H.ZT)(t,i),t.prototype.data=function(){return i.prototype.data.call(this)},t}(cu);function gg(i,t){return"string"==typeof t?gS(i,t):t instanceof g3?t._internalPath:t._delegate._internalPath}var fs=function(){function i(t,e){this.hasPendingWrites=t,this.fromCache=e}return i.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},i}(),y6=function(i){function t(e,o,c,f,v,_){var M=this;return(M=i.call(this,e,o,c,f,_)||this)._firestore=e,M._firestoreImpl=e,M.metadata=v,M}return(0,H.ZT)(t,i),t.prototype.exists=function(){return i.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var o=new lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,o){if(void 0===o&&(o={}),this._document){var c=this._document.data.field(gg("DocumentSnapshot.get",e));if(null!==c)return this._userDataWriter.convertValue(c,o.serverTimestamps)}},t}(cu),lu=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,H.ZT)(t,i),t.prototype.data=function(e){return void 0===e&&(e={}),i.prototype.data.call(this,e)},t}(y6),ma=function(){function i(t,e,o,c){this._firestore=t,this._userDataWriter=e,this._snapshot=c,this.metadata=new fs(c.hasPendingWrites,c.fromCache),this.query=o}return Object.defineProperty(i.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(t,e){var o=this;this._snapshot.docs.forEach(function(c){t.call(e,new lu(o._firestore,o._userDataWriter,c.key,c,new fs(o._snapshot.mutatedKeys.has(c.key),o._snapshot.fromCache),o.query.converter))})},i.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Oe(Ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){var f=0;return o._snapshot.docChanges.map(function(_){return{type:"added",doc:new lu(o._firestore,o._userDataWriter,_.doc.key,_.doc,new fs(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:f++}})}var v=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(function(_){return c||3!==_.type}).map(function(_){var M=new lu(o._firestore,o._userDataWriter,_.doc.key,_.doc,new fs(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter),E=-1,S=-1;return 0!==_.type&&(E=v.indexOf(_.doc.key),v=v.delete(_.doc.key)),1!==_.type&&(S=(v=v.add(_.doc)).indexOf(_.doc.key)),{type:sY(_.type),doc:M,oldIndex:E,newIndex:S}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},i}();function sY(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return l1()}}function Yk(i,t){return i instanceof y6&&t instanceof y6?i._firestore===t._firestore&&i._key.isEqual(t._key)&&(null===i._document?null===t._document:i._document.isEqual(t._document))&&i._converter===t._converter:i instanceof ma&&t instanceof ma&&i._firestore===t._firestore&&Hk(i.query,t.query)&&i.metadata.isEqual(t.metadata)&&i._snapshot.isEqual(t._snapshot)}function Jk(i){if(jv(i)&&0===i.explicitOrderBy.length)throw new Oe(Ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var uu=function(){};function va(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var o=0,c=t;o<c.length;o++){var f=c[o];i=f._apply(i)}return i}var cY=function(i){function t(e,o,c){var f=this;return(f=i.call(this)||this).jc=e,f.Wc=o,f.Gc=c,f.type="where",f}return(0,H.ZT)(t,i),t.prototype._apply=function(e){var f,_,o=ls(e.firestore),c=function(f,v,_,M,E,S,I){var R;if(E.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Oe(Ce.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+S+"' queries on FieldPath.documentId().");if("in"===S||"not-in"===S){rO(I,S);for(var O=[],U=0,J=I;U<J.length;U++)O.push(nO(M,f,J[U]));R={arrayValue:{values:O}}}else R=nO(M,f,I)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||rO(I,S),R=Gk(_,"where",I,"in"===S||"not-in"===S);var ge=jr.create(E,S,R);return function(Ae,xe){if(xe.g()){var Re=Cx(Ae);if(null!==Re&&!Re.isEqual(xe.field))throw new Oe(Ce.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+Re.toString()+"' and '"+xe.field.toString()+"'");var Ve=bx(Ae);null!==Ve&&iO(0,xe.field,Ve)}var i1=function(K1,L2){for(var Vt=0,$r=K1.filters;Vt<$r.length;Vt++){var hr=$r[Vt];if(L2.indexOf(hr.op)>=0)return hr.op}return null}(Ae,function(K1){switch(K1){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(xe.op));if(null!==i1)throw new Oe(Ce.INVALID_ARGUMENT,i1===xe.op?"Invalid query. You cannot use more than one '"+xe.op.toString()+"' filter.":"Invalid query. You cannot use '"+xe.op.toString()+"' filters with '"+i1.toString()+"' filters.")}(f,ge),ge}(e._query,0,o,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new fr(e.firestore,e.converter,(_=(f=e._query).filters.concat([c]),new p6(f.path,f.collectionGroup,f.explicitOrderBy.slice(),_,f.limit,f.limitType,f.startAt,f.endAt)))},t}(uu),lY=function(i){function t(e,o){var c=this;return(c=i.call(this)||this).jc=e,c.zc=o,c.type="orderBy",c}return(0,H.ZT)(t,i),t.prototype._apply=function(e){var c,v,o=function(c,f,v){if(null!==c.startAt)throw new Oe(Ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new Oe(Ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var _=new zc(f,v);return function(M,E){if(null===bx(M)){var S=Cx(M);null!==S&&iO(0,S,E.field)}}(c,_),_}(e._query,this.jc,this.zc);return new fr(e.firestore,e.converter,(v=(c=e._query).explicitOrderBy.concat([o]),new p6(c.path,c.collectionGroup,v,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)))},t}(uu),Kk=function(i){function t(e,o,c){var f=this;return(f=i.call(this)||this).type=e,f.Hc=o,f.Jc=c,f}return(0,H.ZT)(t,i),t.prototype._apply=function(e){return new fr(e.firestore,e.converter,LR(e._query,this.Hc,this.Jc))},t}(uu),Xk=function(i){function t(e,o,c){var f=this;return(f=i.call(this)||this).type=e,f.Yc=o,f.Xc=c,f}return(0,H.ZT)(t,i),t.prototype._apply=function(e){var c,f,o=tO(e,this.type,this.Yc,this.Xc);return new fr(e.firestore,e.converter,(f=o,new p6((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,f,c.endAt)))},t}(uu),eO=function(i){function t(e,o,c){var f=this;return(f=i.call(this)||this).type=e,f.Yc=o,f.Xc=c,f}return(0,H.ZT)(t,i),t.prototype._apply=function(e){var c,f,o=tO(e,this.type,this.Yc,this.Xc);return new fr(e.firestore,e.converter,(f=o,new p6((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,f)))},t}(uu);function tO(i,t,e,o){if(e[0]=(0,P1.m9)(e[0]),e[0]instanceof cu)return function(f,v,_,M,E){if(!M)throw new Oe(Ce.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+_+"().");for(var S=[],I=0,R=Sc(f);I<R.length;I++){var O=R[I];if(O.field.isKeyField())S.push(Hv(v,M.key));else{var U=M.data.field(O.field);if(mx(U))throw new Oe(Ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+O.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===U){var J=O.field.canonicalString();throw new Oe(Ce.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+J+"' (used as the orderBy) does not exist.")}S.push(U)}}return new G9(S,E)}(i._query,i.firestore._databaseId,t,e[0]._document,o);var c=ls(i.firestore);return function(f,v,_,M,E,S){var I=f.explicitOrderBy;if(E.length>I.length)throw new Oe(Ce.INVALID_ARGUMENT,"Too many arguments provided to "+M+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var R=[],O=0;O<E.length;O++){var U=E[O];if(I[O].field.isKeyField()){if("string"!=typeof U)throw new Oe(Ce.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+M+"(), but got a "+typeof U);if(!Mx(f)&&-1!==U.indexOf("/"))throw new Oe(Ce.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+M+"() must be a plain document ID, but '"+U+"' contains a slash.");var J=f.path.child(ht.fromString(U));if(!h1.isDocumentKey(J))throw new Oe(Ce.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+M+"() must result in a valid document path, but '"+J+"' is not because it contains an odd number of segments.");var le=new h1(J);R.push(Hv(v,le))}else{var ge=Gk(_,M,U);R.push(ge)}}return new G9(R,S)}(i._query,i.firestore._databaseId,c,t,e,o)}function nO(i,t,e){if("string"==typeof(e=(0,P1.m9)(e))){if(""===e)throw new Oe(Ce.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mx(t)&&-1!==e.indexOf("/"))throw new Oe(Ce.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var o=t.path.child(ht.fromString(e));if(!h1.isDocumentKey(o))throw new Oe(Ce.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+o+"' is not because it has an odd number of segments ("+o.length+").");return Hv(i,new h1(o))}if(e instanceof Jt)return Hv(i,e._key);throw new Oe(Ce.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+hg(e)+".")}function rO(i,t){if(!Array.isArray(i)||0===i.length)throw new Oe(Ce.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(i.length>10)throw new Oe(Ce.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function iO(i,t,e){if(!e.isEqual(t))throw new Oe(Ce.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+e.toString()+"' instead.")}var yS=function(){function i(){}return i.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),es(t)){case 0:return null;case 1:return t.booleanValue;case 2:return C2(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ac(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw l1()}},i.prototype.convertObject=function(t,e){var o=this,c={};return K0(t.fields,function(f,v){c[f]=o.convertValue(v,e)}),c},i.prototype.convertGeoPoint=function(t){return new pg(C2(t.latitude),C2(t.longitude))},i.prototype.convertArray=function(t,e){var o=this;return(t.values||[]).map(function(c){return o.convertValue(c,e)})},i.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var o=MR(t);return null==o?null:this.convertValue(o,e);case"estimate":return this.convertTimestamp(Z9(t));default:return null}},i.prototype.convertTimestamp=function(t){var e=oa(t);return new cr(e.seconds,e.nanos)},i.prototype.convertDocumentKey=function(t,e){var o=ht.fromString(t);A1(gV(o));var c=new fg(o.get(1),o.get(3)),f=new h1(o.popFirst(5));return c.isEqual(e)||b2("Document "+f+" contains a document reference within a different database ("+c.projectId+"/"+c.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),f},i}();function yg(i,t,e){return i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t}var uY=function(i){function t(e){var o=this;return(o=i.call(this)||this).firestore=e,o}return(0,H.ZT)(t,i),t.prototype.convertBytes=function(e){return new ss(e)},t.prototype.convertReference=function(e){var o=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,o)},t}(yS),fY=function(){function i(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ls(t)}return i.prototype.set=function(t,e,o){this._verifyNotCommitted();var c=ga(t,this._firestore),f=yg(c.converter,e,o),v=mg(this._dataReader,"WriteBatch.set",c._key,f,null!==c.converter,o);return this._mutations.push(v.toMutation(c._key,bn.none())),this},i.prototype.update=function(t,e,o){for(var c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];this._verifyNotCommitted();var v,_=ga(t,this._firestore);return v="string"==typeof(e=(0,P1.m9)(e))||e instanceof g3?pS(this._dataReader,"WriteBatch.update",_._key,e,o,c):dS(this._dataReader,"WriteBatch.update",_._key,e),this._mutations.push(v.toMutation(_._key,bn.exists(!0))),this},i.prototype.delete=function(t){this._verifyNotCommitted();var e=ga(t,this._firestore);return this._mutations=this._mutations.concat(new J9(e._key,bn.none())),this},i.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},i.prototype._verifyNotCommitted=function(){if(this._committed)throw new Oe(Ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},i}();function ga(i,t){if((i=(0,P1.m9)(i)).firestore!==t)throw new Oe(Ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}var hs=function(i){function t(e){var o=this;return(o=i.call(this)||this).firestore=e,o}return(0,H.ZT)(t,i),t.prototype.convertBytes=function(e){return new ss(e)},t.prototype.convertReference=function(e){var o=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,o)},t}(yS);function oO(i,t,e){for(var o=[],c=3;c<arguments.length;c++)o[c-3]=arguments[c];i=dt(i,Jt);var f=dt(i.firestore,l2),v=ls(f);return fu(f,[("string"==typeof(t=(0,P1.m9)(t))||t instanceof g3?pS(v,"updateDoc",i._key,t,e,o):dS(v,"updateDoc",i._key,t)).toMutation(i._key,bn.exists(!0))])}function aO(i){for(var t,e,o,c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];i=(0,P1.m9)(i);var v={includeMetadataChanges:!1},_=0;"object"!=typeof c[_]||Yc(c[_])||(v=c[_],_++);var M,E,S,I={includeMetadataChanges:v.includeMetadataChanges};if(Yc(c[_])){var R=c[_];c[_]=null===(t=R.next)||void 0===t?void 0:t.bind(R),c[_+1]=null===(e=R.error)||void 0===e?void 0:e.bind(R),c[_+2]=null===(o=R.complete)||void 0===o?void 0:o.bind(R)}if(i instanceof Jt)E=dt(i.firestore,l2),S=xc(i._key.path),M={next:function(J){c[_]&&c[_](_S(E,i,J))},error:c[_+1],complete:c[_+2]};else{var O=dt(i,fr);E=dt(O.firestore,l2),S=O._query;var U=new hs(E);M={next:function(J){c[_]&&c[_](new ma(E,U,O,J))},error:c[_+1],complete:c[_+2]},Jk(i._query)}return function(J,le,ge,Ae){var xe=this,Re=new lg(Ae),Ve=new Kx(le,Re,ge);return J.asyncQueue.enqueueAndForget(function(){return(0,H.mG)(xe,void 0,void 0,function(){var i1;return(0,H.Jh)(this,function(K1){switch(K1.label){case 0:return i1=Qx,[4,Qc(J)];case 1:return[2,i1.apply(void 0,[K1.sent(),Ve])]}})})}),function(){Re.Wo(),J.asyncQueue.enqueueAndForget(function(){return(0,H.mG)(xe,void 0,void 0,function(){var i1;return(0,H.Jh)(this,function(K1){switch(K1.label){case 0:return i1=Yx,[4,Qc(J)];case 1:return[2,i1.apply(void 0,[K1.sent(),Ve])]}})})})}}(q2(E),S,I,M)}function fu(i,t){return function(e,o){var c=this,f=new wn;return e.asyncQueue.enqueueAndForget(function(){return(0,H.mG)(c,void 0,void 0,function(){var v;return(0,H.Jh)(this,function(_){switch(_.label){case 0:return v=wQ,[4,lS(e)];case 1:return[2,v.apply(void 0,[_.sent(),o,f])]}})})}),f.promise}(q2(i),t)}function _S(i,t,e){var o=e.docs.get(t._key),c=new hs(i);return new y6(i,c,t._key,o,new fs(e.hasPendingWrites,e.fromCache),t.converter)}var hY=function(i){function t(e,o){var c=this;return(c=i.call(this,e,o)||this)._firestore=e,c}return(0,H.ZT)(t,i),t.prototype.get=function(e){var o=this,c=ga(e,this._firestore),f=new hs(this._firestore);return i.prototype.get.call(this,e).then(function(v){return new y6(o._firestore,f,c._key,v._document,new fs(!1,!1),c.converter)})},t}(function(){function i(t,e){this._firestore=t,this._transaction=e,this._dataReader=ls(t)}return i.prototype.get=function(t){var e=this,o=ga(t,this._firestore),c=new uY(this._firestore);return this._transaction.lookup([o._key]).then(function(f){if(!f||1!==f.length)return l1();var v=f[0];if(v.isFoundDocument())return new cu(e._firestore,c,v.key,v,o.converter);if(v.isNoDocument())return new cu(e._firestore,c,o._key,null,o.converter);throw l1()})},i.prototype.set=function(t,e,o){var c=ga(t,this._firestore),f=yg(c.converter,e,o),v=mg(this._dataReader,"Transaction.set",c._key,f,null!==c.converter,o);return this._transaction.set(c._key,v),this},i.prototype.update=function(t,e,o){for(var c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];var v,_=ga(t,this._firestore);return v="string"==typeof(e=(0,P1.m9)(e))||e instanceof g3?pS(this._dataReader,"Transaction.update",_._key,e,o,c):dS(this._dataReader,"Transaction.update",_._key,e),this._transaction.update(_._key,v),this},i.prototype.delete=function(t){var e=ga(t,this._firestore);return this._transaction.delete(e._key),this},i}());function sO(){if("undefined"==typeof Uint8Array)throw new Oe(Ce.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function cO(){if("undefined"==typeof atob)throw new Oe(Ce.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var lO=function(){function i(t){this._delegate=t}return i.fromBase64String=function(t){return cO(),new i(ss.fromBase64String(t))},i.fromUint8Array=function(t){return sO(),new i(ss.fromUint8Array(t))},i.prototype.toBase64=function(){return cO(),this._delegate.toBase64()},i.prototype.toUint8Array=function(){return sO(),this._delegate.toUint8Array()},i.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},i.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},i}(),dY=function(){function i(){}return i.prototype.enableIndexedDbPersistence=function(t,e){return function(o,c){Uk(o=dt(o,l2));var f=q2(o),v=o._freezeSettings(),_=new aS;return Fk(f,_,new bk(_,v.cacheSizeBytes,null==c?void 0:c.forceOwnership))}(t._delegate,{forceOwnership:e})},i.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(e){Uk(e=dt(e,l2));var o=q2(e),c=e._freezeSettings(),f=new aS;return Fk(o,f,new PQ(f,c.cacheSizeBytes))}(t._delegate)},i.prototype.clearIndexedDbPersistence=function(t){return function(e){var o=this;if(e._initialized&&!e._terminated)throw new Oe(Ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var c=new wn;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,H.mG)(o,void 0,void 0,function(){var f;return(0,H.Jh)(this,function(v){switch(v.label){case 0:return v.trys.push([0,2,,3]),[4,function(_){return(0,H.mG)(this,void 0,void 0,function(){return(0,H.Jh)(this,function(E){switch(E.label){case 0:return Vc.yt()?[4,Vc.delete(_+"main")]:[2,Promise.resolve()];case 1:return E.sent(),[2]}})})}(Hx(e._databaseId,e._persistenceKey))];case 1:return v.sent(),c.resolve(),[3,3];case 2:return f=v.sent(),c.reject(f),[3,3];case 3:return[2]}})})}),c.promise}(t._delegate)},i}(),uO=function(){function i(t,e,o){var c=this;this._delegate=e,this.Zc=o,this.INTERNAL={delete:function(){return c.terminate()}},t instanceof fg||(this.tu=t)}return Object.defineProperty(i.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),i.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||U9("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},i.prototype.useEmulator=function(t,e,o){void 0===o&&(o={}),function(c,f,v,_){var M;void 0===_&&(_={});var E=(c=dt(c,su))._getSettings();if("firestore.googleapis.com"!==E.host&&E.host!==f&&U9("Host has been set in both settings() and useEmulator(), emulator host will be used"),c._setSettings(Object.assign(Object.assign({},E),{host:f+":"+v,ssl:!1})),_.mockUserToken){var S,I;if("string"==typeof _.mockUserToken)S=_.mockUserToken,I=ln.MOCK_USER;else{S=(0,P1.Sg)(_.mockUserToken,null===(M=c._app)||void 0===M?void 0:M.options.projectId);var R=_.mockUserToken.sub||_.mockUserToken.user_id;if(!R)throw new Oe(Ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new ln(R)}c._credentials=new qQ(new Tk(S,I))}}(this._delegate,t,e,o)},i.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,H.mG)(e,void 0,void 0,function(){var o,c;return(0,H.Jh)(this,function(f){switch(f.label){case 0:return[4,Ak(t)];case 1:return o=f.sent(),[4,Ek(t)];case 2:return c=f.sent(),[2,(o.setNetworkEnabled(!0),v=c,_=Ge(v),_.Or.delete(0),ou(_))]}var v,_})})})}(q2(dt(this._delegate,l2)))},i.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,H.mG)(e,void 0,void 0,function(){var o,c;return(0,H.Jh)(this,function(f){switch(f.label){case 0:return[4,Ak(t)];case 1:return o=f.sent(),[4,Ek(t)];case 2:return c=f.sent(),[2,(o.setNetworkEnabled(!1),function(v){return(0,H.mG)(this,void 0,void 0,function(){var _;return(0,H.Jh)(this,function(M){switch(M.label){case 0:return(_=Ge(v)).Or.add(0),[4,jc(_)];case 1:return M.sent(),_.Br.set("Offline"),[2]}})})}(c))]}})})})}(q2(dt(this._delegate,l2)))},i.prototype.enablePersistence=function(t){var e=!1,o=!1;return t&&Ik("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",o=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,o)},i.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},i.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},i.prototype.waitForPendingWrites=function(){return function(t){var e=this,o=new wn;return t.asyncQueue.enqueueAndForget(function(){return(0,H.mG)(e,void 0,void 0,function(){var c;return(0,H.Jh)(this,function(f){switch(f.label){case 0:return c=xQ,[4,lS(t)];case 1:return[2,c.apply(void 0,[f.sent(),o])]}})})}),o.promise}(q2(dt(this._delegate,l2)))},i.prototype.onSnapshotsInSync=function(t){return o=t,function(c,f){var v=this,_=new lg(f);return c.asyncQueue.enqueueAndForget(function(){return(0,H.mG)(v,void 0,void 0,function(){var M;return(0,H.Jh)(this,function(E){switch(E.label){case 0:return M=function(S,I){Ge(S).Gr.add(I),I.next()},[4,Qc(c)];case 1:return[2,M.apply(void 0,[E.sent(),_])]}})})}),function(){_.Wo(),c.asyncQueue.enqueueAndForget(function(){return(0,H.mG)(v,void 0,void 0,function(){var M;return(0,H.Jh)(this,function(E){switch(E.label){case 0:return M=function(S,I){Ge(S).Gr.delete(I)},[4,Qc(c)];case 1:return[2,M.apply(void 0,[E.sent(),_])]}})})})}}(q2(dt(this._delegate,l2)),Yc(o)?o:{next:o});var o},Object.defineProperty(i.prototype,"app",{get:function(){if(!this.tu)throw new Oe(Ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),i.prototype.collection=function(t){try{return new Cg(this,kk(this._delegate,t))}catch(e){throw Bn(e,"collection()","Firestore.collection()")}},i.prototype.doc=function(t){try{return new ds(this,dg(this._delegate,t))}catch(e){throw Bn(e,"doc()","Firestore.doc()")}},i.prototype.collectionGroup=function(t){try{return new pu(this,function(e,o){if(e=dt(e,su),uS("collectionGroup","collection id",o),o.indexOf("/")>=0)throw new Oe(Ce.INVALID_ARGUMENT,"Invalid collection ID '"+o+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new fr(e,null,(c=o,new p6(ht.emptyPath(),c)));var c}(this._delegate,t))}catch(e){throw Bn(e,"collectionGroup()","Firestore.collectionGroup()")}},i.prototype.runTransaction=function(t){var o,e=this;return function(f,v){var _=this,M=new wn;return f.asyncQueue.enqueueAndForget(function(){return(0,H.mG)(_,void 0,void 0,function(){var E;return(0,H.Jh)(this,function(S){switch(S.label){case 0:return[4,(I=f,ug(I).then(function(R){return R.datastore}))];case 1:return E=S.sent(),new ZQ(f.asyncQueue,E,v,M).run(),[2]}var I})})}),M.promise}(q2(o=this._delegate),function(f){return function(o){return t(new fO(e,o))}(new hY(o,f))})},i.prototype.batch=function(){var t=this;return q2(this._delegate),new hO(new fY(this._delegate,function(e){return fu(t._delegate,e)}))},i.prototype.loadBundle=function(t){throw new Oe(Ce.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},i.prototype.namedQuery=function(t){throw new Oe(Ce.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},i}(),_g=function(i){function t(e){var o=this;return(o=i.call(this)||this).firestore=e,o}return(0,H.ZT)(t,i),t.prototype.convertBytes=function(e){return new lO(new ss(e))},t.prototype.convertReference=function(e){var o=this.convertDocumentKey(e,this.firestore._databaseId);return ds.eu(o,this.firestore,null)},t}(yS),fO=function(){function i(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new _g(t)}return i.prototype.get=function(t){var e=this,o=ps(t);return this._delegate.get(o).then(function(c){return new hu(e._firestore,new y6(e._firestore._delegate,e._userDataWriter,c._key,c._document,c.metadata,o.converter))})},i.prototype.set=function(t,e,o){var c=ps(t);return o?(fS("Transaction.set",o),this._delegate.set(c,e,o)):this._delegate.set(c,e),this},i.prototype.update=function(t,e,o){for(var c,f=[],v=3;v<arguments.length;v++)f[v-3]=arguments[v];var _=ps(t);return 2===arguments.length?this._delegate.update(_,e):(c=this._delegate).update.apply(c,(0,H.ev)([_,e,o],f)),this},i.prototype.delete=function(t){var e=ps(t);return this._delegate.delete(e),this},i}(),hO=function(){function i(t){this._delegate=t}return i.prototype.set=function(t,e,o){var c=ps(t);return o?(fS("WriteBatch.set",o),this._delegate.set(c,e,o)):this._delegate.set(c,e),this},i.prototype.update=function(t,e,o){for(var c,f=[],v=3;v<arguments.length;v++)f[v-3]=arguments[v];var _=ps(t);return 2===arguments.length?this._delegate.update(_,e):(c=this._delegate).update.apply(c,(0,H.ev)([_,e,o],f)),this},i.prototype.delete=function(t){var e=ps(t);return this._delegate.delete(e),this},i.prototype.commit=function(){return this._delegate.commit()},i}(),bg=function(){function i(t,e,o){this._firestore=t,this._userDataWriter=e,this._delegate=o}return i.prototype.fromFirestore=function(t,e){var o=new lu(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new du(this._firestore,o),null!=e?e:{})},i.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},i.nu=function(t,e){var o=i.su,c=o.get(t);c||(c=new WeakMap,o.set(t,c));var f=c.get(e);return f||(f=new i(t,new _g(t),e),c.set(e,f)),f},i}();bg.su=new WeakMap;var ds=function(){function i(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _g(t)}return i.iu=function(t,e,o){if(t.length%2!=0)throw new Oe(Ce.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new i(e,new Jt(e._delegate,o,new h1(t)))},i.eu=function(t,e,o){return new i(e,new Jt(e._delegate,o,t))},Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new Cg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),i.prototype.collection=function(t){try{return new Cg(this.firestore,kk(this._delegate,t))}catch(e){throw Bn(e,"collection()","DocumentReference.collection()")}},i.prototype.isEqual=function(t){return(t=(0,P1.m9)(t))instanceof Jt&&Ok(this._delegate,t)},i.prototype.set=function(t,e){e=fS("DocumentReference.set",e);try{return function(o,c,f){o=dt(o,Jt);var v=dt(o.firestore,l2),_=yg(o.converter,c,f);return fu(v,[mg(ls(v),"setDoc",o._key,_,null!==o.converter,f).toMutation(o._key,bn.none())])}(this._delegate,t,e)}catch(o){throw Bn(o,"setDoc()","DocumentReference.set()")}},i.prototype.update=function(t,e){for(var o=[],c=2;c<arguments.length;c++)o[c-2]=arguments[c];try{return 1===arguments.length?oO(this._delegate,t):oO.apply(void 0,(0,H.ev)([this._delegate,t,e],o))}catch(f){throw Bn(f,"updateDoc()","DocumentReference.update()")}},i.prototype.delete=function(){return fu(dt((t=this._delegate).firestore,l2),[new J9(t._key,bn.none())]);var t},i.prototype.onSnapshot=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var c=dO(e),f=pO(e,function(v){return new hu(t.firestore,new y6(t.firestore._delegate,t._userDataWriter,v._key,v._document,v.metadata,t._delegate.converter))});return aO(this._delegate,c,f)},i.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(o){o=dt(o,Jt);var c=dt(o.firestore,l2),f=q2(c),v=new hs(c);return function(_,M){var E=this,S=new wn;return _.asyncQueue.enqueueAndForget(function(){return(0,H.mG)(E,void 0,void 0,function(){var I;return(0,H.Jh)(this,function(R){switch(R.label){case 0:return I=function(O,U,J){return(0,H.mG)(this,void 0,void 0,function(){var le,ge;return(0,H.Jh)(this,function(Ae){switch(Ae.label){case 0:return Ae.trys.push([0,2,,3]),[4,(xe=O,Re=U,Ve=Ge(xe),Ve.persistence.runTransaction("read document","readonly",function(i1){return Ve.Mn.mn(i1,Re)}))];case 1:return(ge=Ae.sent()).isFoundDocument()?J.resolve(ge):ge.isNoDocument()?J.resolve(null):J.reject(new Oe(Ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return le=Ae.sent(),ge=Wc(le,"Failed to get document '"+U+" from cache"),J.reject(ge),[3,3];case 3:return[2]}var xe,Re,Ve})})},[4,cS(_)];case 1:return[2,I.apply(void 0,[R.sent(),M,S])]}})})}),S.promise}(f,o._key).then(function(_){return new y6(c,v,o._key,_,new fs(null!==_&&_.hasLocalMutations,!0),o.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(o){o=dt(o,Jt);var c=dt(o.firestore,l2);return zk(q2(c),o._key,{source:"server"}).then(function(f){return _S(c,o,f)})}(this._delegate):function(o){o=dt(o,Jt);var c=dt(o.firestore,l2);return zk(q2(c),o._key).then(function(f){return _S(c,o,f)})}(this._delegate)).then(function(o){return new hu(e.firestore,new y6(e.firestore._delegate,e._userDataWriter,o._key,o._document,o.metadata,e._delegate.converter))})},i.prototype.withConverter=function(t){return new i(this.firestore,this._delegate.withConverter(t?bg.nu(this.firestore,t):null))},i}();function Bn(i,t,e){return i.message=i.message.replace(t,e),i}function dO(i){for(var t=0,e=i;t<e.length;t++){var o=e[t];if("object"==typeof o&&!Yc(o))return o}return{}}function pO(i,t){var e,o,c;return{next:function(f){c.next&&c.next(t(f))},error:null===(e=(c=Yc(i[0])?i[0]:Yc(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]}).error)||void 0===e?void 0:e.bind(c),complete:null===(o=c.complete)||void 0===o?void 0:o.bind(c)}}var hu=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"ref",{get:function(){return new ds(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),i.prototype.data=function(t){return this._delegate.data(t)},i.prototype.get=function(t,e){return this._delegate.get(t,e)},i.prototype.isEqual=function(t){return Yk(this._delegate,t._delegate)},i}(),du=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,H.ZT)(t,i),t.prototype.data=function(e){return this._delegate.data(e)},t}(hu),pu=function(){function i(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _g(t)}return i.prototype.where=function(t,e,o){try{return new i(this.firestore,va(this._delegate,(v=o,_=e,M=gg("where",c=t),new cY(M,_,v))))}catch(c){throw Bn(c,/(orderBy|where)\(\)/,"Query.$1()")}var c,v,_,M},i.prototype.orderBy=function(t,e){try{return new i(this.firestore,va(this._delegate,function(o,c){void 0===c&&(c="asc");var f=c,v=gg("orderBy",o);return new lY(v,f)}(t,e)))}catch(o){throw Bn(o,/(orderBy|where)\(\)/,"Query.$1()")}},i.prototype.limit=function(t){try{return new i(this.firestore,va(this._delegate,(Rk("limit",e=t),new Kk("limit",e,"F"))))}catch(e){throw Bn(e,"limit()","Query.limit()")}var e},i.prototype.limitToLast=function(t){try{return new i(this.firestore,va(this._delegate,(Rk("limitToLast",e=t),new Kk("limitToLast",e,"L"))))}catch(e){throw Bn(e,"limitToLast()","Query.limitToLast()")}var e},i.prototype.startAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,va(this._delegate,function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return new Xk("startAt",o,!0)}.apply(void 0,t)))}catch(o){throw Bn(o,"startAt()","Query.startAt()")}},i.prototype.startAfter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,va(this._delegate,function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return new Xk("startAfter",o,!1)}.apply(void 0,t)))}catch(o){throw Bn(o,"startAfter()","Query.startAfter()")}},i.prototype.endBefore=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,va(this._delegate,function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return new eO("endBefore",o,!0)}.apply(void 0,t)))}catch(o){throw Bn(o,"endBefore()","Query.endBefore()")}},i.prototype.endAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,va(this._delegate,function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return new eO("endAt",o,!1)}.apply(void 0,t)))}catch(o){throw Bn(o,"endAt()","Query.endAt()")}},i.prototype.isEqual=function(t){return Hk(this._delegate,t._delegate)},i.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(o){o=dt(o,fr);var c=dt(o.firestore,l2),f=q2(c),v=new hs(c);return function(_,M){var E=this,S=new wn;return _.asyncQueue.enqueueAndForget(function(){return(0,H.mG)(E,void 0,void 0,function(){var I;return(0,H.Jh)(this,function(R){switch(R.label){case 0:return I=function(O,U,J){return(0,H.mG)(this,void 0,void 0,function(){var le,ge,Ae,xe,Re;return(0,H.Jh)(this,function(Ve){switch(Ve.label){case 0:return Ve.trys.push([0,2,,3]),[4,ig(O,U,!0)];case 1:return Re=Ve.sent(),le=new dk(U,Re.Bn),ge=le._o(Re.documents),Ae=le.applyChanges(ge,!1),J.resolve(Ae.snapshot),[3,3];case 2:return xe=Ve.sent(),Re=Wc(xe,"Failed to execute query '"+U+" against cache"),J.reject(Re),[3,3];case 3:return[2]}})})},[4,cS(_)];case 1:return[2,I.apply(void 0,[R.sent(),M,S])]}})})}),S.promise}(f,o._query).then(function(_){return new ma(c,v,o,_)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(o){o=dt(o,fr);var c=dt(o.firestore,l2),f=q2(c),v=new hs(c);return xk(f,o._query,{source:"server"}).then(function(_){return new ma(c,v,o,_)})}(this._delegate):function(o){o=dt(o,fr);var c=dt(o.firestore,l2),f=q2(c),v=new hs(c);return Jk(o._query),xk(f,o._query).then(function(_){return new ma(c,v,o,_)})}(this._delegate)).then(function(o){return new bS(e.firestore,new ma(e.firestore._delegate,e._userDataWriter,e._delegate,o._snapshot))})},i.prototype.onSnapshot=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var c=dO(e),f=pO(e,function(v){return new bS(t.firestore,new ma(t.firestore._delegate,t._userDataWriter,t._delegate,v._snapshot))});return aO(this._delegate,c,f)},i.prototype.withConverter=function(t){return new i(this.firestore,this._delegate.withConverter(t?bg.nu(this.firestore,t):null))},i}(),mY=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"doc",{get:function(){return new du(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),i}(),bS=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"query",{get:function(){return new pu(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new du(t._firestore,e)})},enumerable:!1,configurable:!0}),i.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(o){return new mY(e._firestore,o)})},i.prototype.forEach=function(t,e){var o=this;this._delegate.forEach(function(c){t.call(e,new du(o._firestore,c))})},i.prototype.isEqual=function(t){return Yk(this._delegate,t._delegate)},i}(),Cg=function(i){function t(e,o){var c=this;return(c=i.call(this,e,o)||this).firestore=e,c._delegate=o,c}return(0,H.ZT)(t,i),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new ds(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new ds(this.firestore,void 0===e?dg(this._delegate):dg(this._delegate,e))}catch(o){throw Bn(o,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var c,f,v,_,M,o=this;return(c=this._delegate,f=e,v=dt(c.firestore,l2),_=dg(c),M=yg(c.converter,f),fu(v,[mg(ls(c.firestore),"addDoc",_._key,M,null!==c.converter,{}).toMutation(_._key,bn.exists(!1))]).then(function(){return _})).then(function(c){return new ds(o.firestore,c)})},t.prototype.isEqual=function(e){return Ok(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?bg.nu(this.firestore,e):null))},t}(pu);function ps(i){return dt(i,Jt)}var vY=function(){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(g3.bind.apply(g3,(0,H.ev)([void 0],t)))}return i.documentId=function(){return new i(Ei.keyField().canonicalString())},i.prototype.isEqual=function(t){return(t=(0,P1.m9)(t))instanceof g3&&this._delegate._internalPath.isEqual(t._internalPath)},i}(),gY=function(){function i(t){this._delegate=t}return i.serverTimestamp=function(){var t=new tY("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new i(t)},i.delete=function(){var t=new hS("deleteField");return t._methodName="FieldValue.delete",new i(t)},i.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return new nY("arrayUnion",c)}.apply(void 0,t);return o._methodName="FieldValue.arrayUnion",new i(o)},i.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return new rY("arrayRemove",c)}.apply(void 0,t);return o._methodName="FieldValue.arrayRemove",new i(o)},i.increment=function(t){var e=new iY("increment",t);return e._methodName="FieldValue.increment",new i(e)},i.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},i}(),mO=B(6034),yY={Firestore:uO,GeoPoint:pg,Timestamp:cr,Blob:lO,Transaction:fO,WriteBatch:hO,DocumentReference:ds,DocumentSnapshot:hu,Query:pu,QueryDocumentSnapshot:du,QuerySnapshot:bS,CollectionReference:Cg,FieldPath:vY,FieldValue:gY,setLogLevel:function(i){Ai.setLogLevel(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){i.INTERNAL.registerComponent(new mO.wA("firestore",function(o){return t=o.getProvider("app").getImmediate(),e=o.getProvider("auth-internal"),new uO(t,new l2(t,e),new dY);var t,e},"PUBLIC").setServiceProps(Object.assign({},yY))),i.registerVersion("@firebase/firestore","2.4.0")}(bz.Z);var CS=B(6682),bY=B(7771),CY=B(8858);class MY extends Nt.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new wY(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,o=e?this._events:this._trimBufferThenGetEvents(),c=this.scheduler,f=o.length;let v;if(this.closed)throw new j6.N;if(this.isStopped||this.hasError?v=Y6.w.EMPTY:(this.observers.push(t),v=new CY.W(this,t)),c&&t.add(t=new wi.ht(t,c)),e)for(let _=0;_<f&&!t.closed;_++)t.next(o[_]);else for(let _=0;_<f&&!t.closed;_++)t.next(o[_].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),v}_getNow(){return(this.scheduler||bY.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,o=this._windowTime,c=this._events,f=c.length;let v=0;for(;v<f&&!(t-c[v].time<o);)v++;return f>e&&(v=Math.max(v,f-e)),v>0&&c.splice(0,v),c}}class wY{constructor(t,e){this.time=t,this.value=e}}function MS(i,t,e){let o;return o=i&&"object"==typeof i?i:{bufferSize:i,windowTime:t,refCount:!1,scheduler:e},c=>c.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:o}){let c,v,f=0,_=!1,M=!1;return function(S){let I;f++,!c||_?(_=!1,c=new MY(i,t,o),I=c.subscribe(this),v=S.subscribe({next(R){c.next(R)},error(R){_=!0,c.error(R)},complete(){M=!0,v=void 0,c.complete()}}),M&&(v=void 0)):I=c.subscribe(this),this.add(()=>{f--,I.unsubscribe(),I=void 0,v&&!M&&e&&0===f&&(v.unsubscribe(),v=void 0,c=void 0)})}}(o))}function vO(i,t){return t?at(()=>i,t):at(()=>i)}var wS=B(2639);const Jc=new l.OlP("angularfire2.auth.use-emulator"),gO=new l.OlP("angularfire2.auth.settings"),yO=new l.OlP("angularfire2.auth.tenant-id"),_O=new l.OlP("angularfire2.auth.langugage-code"),bO=new l.OlP("angularfire2.auth.use-device-language"),CO=new l.OlP("angularfire.auth.persistence");let mu=(()=>{class i{constructor(e,o,c,f,v,_,M,E,S,I){const R=new k1.HU(f),O=(0,k1.ss)(R),U=new Nt.xQ,J=(0,$e.of)(void 0).pipe((0,wi.QV)(R.outsideAngular),at(()=>f.runOutsideAngular(()=>B.e(336).then(B.bind(B,1336)))),(0,f1.U)(()=>(0,k1.on)(e,f,o)),(0,f1.U)(le=>f.runOutsideAngular(()=>{const ge=v,Ae=_;return(0,k1.sI)(`${le.name}.auth`,"AngularFireAuth",le,()=>{const xe=f.runOutsideAngular(()=>le.auth());if(ge&&xe.useEmulator(`http://${ge.join(":")}`),M&&(xe.tenantId=M),xe.languageCode=E,S&&xe.useDeviceLanguage(),Ae)for(const[Re,Ve]of Object.entries(Ae))xe.settings[Re]=Ve;return I&&xe.setPersistence(I),xe},[ge,M,E,S,Ae,I])})),MS({bufferSize:1,refCount:!1}));if(x3(c))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,$e.of)(null);else{J.pipe($t()).subscribe();const ge=J.pipe(at(Ve=>Ve.getRedirectResult().then(i1=>i1,()=>null)),O,MS({bufferSize:1,refCount:!1})),Ae=Ve=>new Ot.y(i1=>({unsubscribe:f.runOutsideAngular(()=>Ve(i1))})),xe=J.pipe(at(Ve=>Ae(Ve.onAuthStateChanged.bind(Ve)))),Re=J.pipe(at(Ve=>Ae(Ve.onIdTokenChanged.bind(Ve))));this.authState=ge.pipe(vO(xe),(0,wS.R)(R.outsideAngular),(0,wi.QV)(R.insideAngular)),this.user=ge.pipe(vO(Re),(0,wS.R)(R.outsideAngular),(0,wi.QV)(R.insideAngular)),this.idToken=this.user.pipe(at(Ve=>Ve?(0,ut.D)(Ve.getIdToken()):(0,$e.of)(null))),this.idTokenResult=this.user.pipe(at(Ve=>Ve?(0,ut.D)(Ve.getIdTokenResult()):(0,$e.of)(null))),this.credential=(0,CS.T)(ge,U,this.authState.pipe(vn(Ve=>!Ve))).pipe((0,f1.U)(Ve=>(null==Ve?void 0:Ve.user)?Ve:null),(0,wS.R)(R.outsideAngular),(0,wi.QV)(R.insideAngular))}return(0,k1.pX)(this,J,f,{spy:{apply:(le,ge,Ae)=>{(le.startsWith("signIn")||le.startsWith("createUser"))&&Ae.then(xe=>U.next(xe))}}})}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(k1.Dh),l.LFG(k1.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Jc,8),l.LFG(gO,8),l.LFG(yO,8),l.LFG(_O,8),l.LFG(bO,8),l.LFG(CO,8))},i.\u0275prov=l.Yz7({factory:function(){return new i(l.LFG(k1.Dh),l.LFG(k1.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Jc,8),l.LFG(gO,8),l.LFG(yO,8),l.LFG(_O,8),l.LFG(bO,8),l.LFG(CO,8))},token:i,providedIn:"any"}),i})(),zY=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({providers:[mu]}),i})();function MO(i,t){return function(i,t=C9.z){return new Ot.y(e=>{let o;return null!=t?t.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},e)}):o=i.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=o&&o()}})}(i,t)}function AS(i,t){return MO(i,t).pipe((0,f1.U)(e=>({payload:e,type:"query"})))}function Mg(i,t){return AS(i,t).pipe(W6(void 0),uv(),(0,f1.U)(([e,o])=>{const c=o.payload.docChanges(),f=c.map(v=>({type:v.type,payload:v}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((v,_)=>{const M=c.find(S=>S.doc.ref.isEqual(v.ref)),E=null==e?void 0:e.payload.docs.find(S=>S.ref.isEqual(v.ref));M&&JSON.stringify(M.doc.metadata)===JSON.stringify(v.metadata)||!M&&E&&JSON.stringify(E.metadata)===JSON.stringify(v.metadata)||f.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:v}})}),f}))}function wO(i,t,e){return Mg(i,e).pipe(ei((o,c)=>function(i,t,e){return t.forEach(o=>{e.indexOf(o.type)>-1&&(i=function(i,t){switch(t.type){case"added":if(!i[t.newIndex]||!i[t.newIndex].doc.ref.isEqual(t.doc.ref))return ES(i,t.newIndex,0,t);break;case"modified":if(null==i[t.oldIndex]||i[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=i.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return ES(i,t.newIndex,1,t)}break;case"removed":if(i[t.oldIndex]&&i[t.oldIndex].doc.ref.isEqual(t.doc.ref))return ES(i,t.oldIndex,1)}return i}(i,o))}),i}(o,c.map(f=>f.payload),t),[]),_z(),(0,f1.U)(o=>o.map(c=>({type:c.type,payload:c}))))}function ES(i,t,e,...o){const c=i.slice();return c.splice(t,e,...o),c}function AO(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class EO{constructor(t,e,o){this.ref=t,this.query=e,this.afs=o}stateChanges(t){let e=Mg(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,f1.U)(o=>o.filter(c=>t.indexOf(c.type)>-1)))),e.pipe(W6(void 0),uv(),vn(([o,c])=>c.length>0||!o),(0,f1.U)(([o,c])=>c),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ei((e,o)=>[...e,...o],[]))}snapshotChanges(t){const e=AO(t);return wO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return AS(this.query,this.afs.schedulers.outsideAngular).pipe((0,f1.U)(e=>e.payload.docs.map(o=>t.idField?Object.assign(Object.assign({},o.data()),{[t.idField]:o.id}):o.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,ut.D)(this.query.get(t)).pipe((0,wi.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new zO(this.ref.doc(t),this.afs)}}class zO{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const o=this.ref.collection(t),{ref:c,query:f}=TO(o,e);return new EO(c,f,this.afs)}snapshotChanges(){return function(i,t){return MO(i,t).pipe(W6(void 0),uv(),(0,f1.U)(([e,o])=>o.exists?(null==e?void 0:e.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,f1.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,ut.D)(this.ref.get(t)).pipe((0,wi.QV)(this.afs.schedulers.insideAngular))}}class IY{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?Mg(this.query,this.afs.schedulers.outsideAngular).pipe((0,f1.U)(e=>e.filter(o=>t.indexOf(o.type)>-1)),vn(e=>e.length>0),this.afs.keepUnstableUntilFirst):Mg(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ei((e,o)=>[...e,...o],[]))}snapshotChanges(t){const e=AO(t);return wO(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return AS(this.query,this.afs.schedulers.outsideAngular).pipe((0,f1.U)(o=>o.payload.docs.map(c=>t.idField?Object.assign({[t.idField]:c.id},c.data()):c.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,ut.D)(this.query.get(t)).pipe((0,wi.QV)(this.afs.schedulers.insideAngular))}}const zS=new l.OlP("angularfire2.enableFirestorePersistence"),xS=new l.OlP("angularfire2.firestore.persistenceSettings"),xO=new l.OlP("angularfire2.firestore.settings"),SO=new l.OlP("angularfire2.firestore.use-emulator");function TO(i,t=(e=>e)){return{query:t(i),ref:i}}let ms=(()=>{class i{constructor(e,o,c,f,v,_,M,E,S){this.schedulers=new k1.HU(_),this.keepUnstableUntilFirst=(0,k1.ss)(this.schedulers);const I=(0,k1.on)(e,_,o);!QD.Z.auth&&S&&(0,k1.yq)();const R=E;[this.firestore,this.persistenceEnabled$]=(0,k1.sI)(`${I.name}.firestore`,"AngularFirestore",I,()=>{const O=_.runOutsideAngular(()=>I.firestore());if(f&&O.settings(f),R&&O.useEmulator(...R),c&&!x3(v)){const U=()=>{try{return(0,ut.D)(O.enablePersistence(M||void 0).then(()=>!0,()=>!1))}catch(J){return"undefined"!=typeof console&&console.warn(J),(0,$e.of)(!1)}};return[O,_.runOutsideAngular(U)]}return[O,(0,$e.of)(!1)]},[f,R,c])}collection(e,o){let c;c="string"==typeof e?this.firestore.collection(e):e;const{ref:f,query:v}=TO(c,o),_=this.schedulers.ngZone.run(()=>f);return new EO(_,v,this)}collectionGroup(e,o){const c=o||(v=>v),f=this.firestore.collectionGroup(e);return new IY(c(f),this)}doc(e){let o;o="string"==typeof e?this.firestore.doc(e):e;const c=this.schedulers.ngZone.run(()=>o);return new zO(c,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(k1.Dh),l.LFG(k1.xv,8),l.LFG(zS,8),l.LFG(xO,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(xS,8),l.LFG(SO,8),l.LFG(Jc,8))},i.\u0275prov=l.Yz7({factory:function(){return new i(l.LFG(k1.Dh),l.LFG(k1.xv,8),l.LFG(zS,8),l.LFG(xO,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(xS,8),l.LFG(SO,8),l.LFG(Jc,8))},token:i,providedIn:"any"}),i})(),DY=(()=>{class i{static enablePersistence(e){return{ngModule:i,providers:[{provide:zS,useValue:!0},{provide:xS,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({providers:[ms]}),i})(),SS=(()=>{class i{constructor(e){this._afs=e,this.dbPath="/blog",this.blogRef=null}createRef(){this.blogRef=this._afs.collection(this.dbPath,e=>e.orderBy("date","desc"))}create(e){return delete e.id,this.blogRef.add(Object.assign({},e))}update(e,o){return this.blogRef.doc(e).update(o)}delete(e){return this.blogRef.doc(e).delete()}get(e){return this.blogRef||this.createRef(),this.blogRef.doc(e).ref.get()}getAll(e){return this.blogRef=this._afs.collection(this.dbPath,o=>o.orderBy("date","desc").limit(e))}next(e,o,c){return this.blogRef=this._afs.collection(this.dbPath,f=>f.orderBy("date").startAt(e.toLowerCase()).endAt(e.toLowerCase()+"\uf8ff").startAfter(o).limit(c))}prev(e,o,c){return this.blogRef=this._afs.collection(this.dbPath,f=>f.orderBy("date").startAt(e.toLowerCase()).endAt(e.toLowerCase()+"\uf8ff").endBefore(o).limitToLast(c))}find(e,o){return this.blogRef=this._afs.collection(this.dbPath,c=>c.orderBy("date").startAt(e.toLowerCase()).endAt(e.toLowerCase()+"\uf8ff").limit(o))}deleteAll(){this.blogRef.get().subscribe(e=>{e.forEach(o=>{o.ref.delete()})},e=>{console.log("Error: ",e)})}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(ms))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function LY(i,t){if(1&i&&(l.TgZ(0,"p",11),l.TgZ(1,"span"),l._uU(2,"Publicado em "),l.qZA(),l._uU(3),l.ALo(4,"date"),l.qZA()),2&i){const e=l.oxw();l.xp6(3),l.hij("",l.xi3(4,1,e.blog.date,"dd/MM/YY"),".")}}const RY=function(){return["/blog/"]};let VY=(()=>{class i{constructor(e,o,c,f,v){this._blogService=e,this.document=o,this._route=c,this._router=f,this._changeDetection=v,this._unsubscribeAll=new Nt.xQ,this.blog=new $D,this.faFacebook=D7,this.faInstagram=N8,this.faEmail=tc,this.faYouTube=F8}ngOnInit(){console.log(this.document.location.host);let e=this._route.snapshot.paramMap.get("id");console.log("id",e),e?this.get(e):this.document.location.href="https://feirafenecan.com.br"}get(e){this._blogService.get(e).then(o=>{console.log(o),o.data()?(this.blog=o.data(),console.log(this.blog),this._changeDetection.markForCheck()):this._router.navigate(["/"])}).catch(o=>console.log(o))}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(SS),l.Y36(Ee),l.Y36(_4),l.Y36(Z),l.Y36(l.sBO))},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-blog-detail"]],inputs:{title:"title"},decls:15,vars:7,consts:[[1,"container"],[1,"corpo"],[1,"row"],[1,"col-12","col-md-12","justify-content-center","align-self-center","text-center"],[1,"blog"],[1,"blog-img",3,"src","alt"],[1,"event-header"],[1,"event-name"],["class","event-by",4,"ngIf"],[1,"event-description"],["type","button",1,"btn","btn-primary",3,"routerLink"],[1,"event-by"]],template:function(e,o){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"figure"),l._UZ(6,"img",5),l.qZA(),l.TgZ(7,"div",6),l.TgZ(8,"span",7),l._uU(9),l.qZA(),l.YNc(10,LY,5,4,"p",8),l.TgZ(11,"p",9),l._uU(12),l.qZA(),l.TgZ(13,"button",10),l._uU(14,"Voltar"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(6),l.Q6J("src",o.blog.photoURL,l.LSH)("alt","Fenecan 2022 - Palestrante "+o.blog.name),l.xp6(3),l.Oqu(o.blog.name),l.xp6(1),l.Q6J("ngIf",o.blog.date&&""!=o.blog.date),l.xp6(2),l.Oqu(o.blog.content),l.xp6(1),l.Q6J("routerLink",l.DdM(6,RY)))},directives:[S1,we],pipes:[A3],styles:[".section-title[_ngcontent-%COMP%]{text-align:left;margin:0}.section-title-title[_ngcontent-%COMP%]{font-size:25px!important}.event-header[_ngcontent-%COMP%]{text-align:start;padding:0 15px}.event-header[_ngcontent-%COMP%]   .event-name[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.event-name[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.container[_ngcontent-%COMP%]{min-height:100vh}.corpo[_ngcontent-%COMP%]{padding:50px;background-color:#fff;border-radius:20px}.blog[_ngcontent-%COMP%]{margin-bottom:30px}.blog-img[_ngcontent-%COMP%]{width:100%;border-top-left-radius:10px;border-top-right-radius:10px;cursor:pointer}.event-header[_ngcontent-%COMP%]{text-align:start;padding:15px}.event-header[_ngcontent-%COMP%]   .event-name[_ngcontent-%COMP%]{font-size:22px;font-weight:500;cursor:pointer}.event-header[_ngcontent-%COMP%]   .event-description[_ngcontent-%COMP%]{margin-bottom:5px}.event-header[_ngcontent-%COMP%]   .event-by[_ngcontent-%COMP%]{font-size:14px;margin-bottom:2px}.event-header[_ngcontent-%COMP%]   .event-by[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}"],changeDetection:0}),i})();function nt(i){return t=>t.lift(new kY(i))}class kY{constructor(t){this.notifier=t}call(t,e){const o=new OY(t),c=(0,Kn.ft)(this.notifier,new Kn.IY(o));return c&&!o.seenValue?(o.add(c),e.subscribe(o)):o}}class OY extends Kn.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function HY(i,t){if(1&i&&(l.TgZ(0,"p",12),l.TgZ(1,"span"),l._uU(2,"Publicado em "),l.qZA(),l._uU(3),l.ALo(4,"date"),l.qZA()),2&i){const e=l.oxw().$implicit;l.xp6(3),l.hij("",l.xi3(4,1,e.date,"dd/MM/YY"),".")}}const TS=function(i){return[i]};function PY(i,t){if(1&i){const e=l.EpF();l.TgZ(0,"div",3),l.TgZ(1,"div",4),l.TgZ(2,"figure"),l.TgZ(3,"a",5),l.NdJ("click",function(){const f=l.CHM(e).$implicit;return l.oxw().setBlog(f)}),l._UZ(4,"img",6),l.qZA(),l.qZA(),l.TgZ(5,"div",7),l.TgZ(6,"span",8),l.NdJ("click",function(){const f=l.CHM(e).$implicit;return l.oxw().setBlog(f)}),l._uU(7),l.qZA(),l.YNc(8,HY,5,4,"p",9),l.TgZ(9,"p",10),l._uU(10),l.qZA(),l.TgZ(11,"button",11),l.NdJ("click",function(){const f=l.CHM(e).$implicit;return l.oxw().setBlog(f)}),l._uU(12,"Ver mais"),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&i){const e=t.$implicit;l.xp6(3),l.Q6J("routerLink",l.VKq(8,TS,"/blog/"+e.id)),l.xp6(1),l.Q6J("src",e.photoURL,l.LSH)("alt","Fenecan 2022 - Palestrante "+e.name),l.xp6(2),l.Q6J("routerLink",l.VKq(10,TS,"/blog/"+e.id)),l.xp6(1),l.Oqu(e.name),l.xp6(1),l.Q6J("ngIf",e.date&&""!=e.date),l.xp6(2),l.Oqu(e.description),l.xp6(1),l.Q6J("routerLink",l.VKq(12,TS,"/blog/"+e.id))}}let FY=(()=>{class i{constructor(e){this._blogService=e,this._unsubscribeAll=new Nt.xQ,this.blogs=[],this.blog=new $D,this.limit=1e3,this.faFacebook=D7,this.faInstagram=N8,this.faEmail=tc,this.faYouTube=F8}ngOnInit(){this.getAll()}getAll(){this._blogService.getAll(this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{let o=e.map(c=>Object.assign({id:c.payload.doc.id},c.payload.doc.data()));this.blogs=o})}setBlog(e){this.blog=e}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(SS))},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-blog-list"]],inputs:{title:"title"},decls:3,vars:1,consts:[[1,"container-fluid",2,"padding","0"],[1,"row"],["class","col-12 col-md-6 justify-content-center align-self-center text-center",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","justify-content-center","align-self-center","text-center"],[1,"blog"],[1,"link",3,"routerLink","click"],[1,"blog-img",3,"src","alt"],[1,"event-header"],[1,"event-name",3,"routerLink","click"],["class","event-by",4,"ngIf"],[1,"event-description"],["type","button",1,"btn","btn-primary",3,"routerLink","click"],[1,"event-by"]],template:function(e,o){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.YNc(2,PY,13,14,"div",2),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("ngForOf",o.blogs))},directives:[Ye,ke,we,S1],pipes:[A3],styles:[".blog[_ngcontent-%COMP%]{box-shadow:0 7px 27px #0000000d;margin-bottom:30px}.blog-img[_ngcontent-%COMP%]{width:100%;border-top-left-radius:10px;border-top-right-radius:10px;cursor:pointer}.event-header[_ngcontent-%COMP%]{text-align:start;padding:15px}.event-header[_ngcontent-%COMP%]   .event-name[_ngcontent-%COMP%]{font-size:22px;font-weight:500;cursor:pointer}.event-header[_ngcontent-%COMP%]   .event-description[_ngcontent-%COMP%]{margin-bottom:5px}.event-header[_ngcontent-%COMP%]   .event-by[_ngcontent-%COMP%]{font-size:14px;margin-bottom:2px}.event-header[_ngcontent-%COMP%]   .event-by[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}"]}),i})(),UY=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-blog"]],decls:9,vars:0,consts:[[1,"container"],[1,"corpo"],[1,"row"],[1,"col"],[1,"section-title"],[1,"section-title-title"]],template:function(e,o){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"h1",5),l._uU(6,"Not\xedcias:"),l.qZA(),l.qZA(),l.TgZ(7,"div",2),l._UZ(8,"app-blog-list"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA())},directives:[FY],styles:[".section-title[_ngcontent-%COMP%]{text-align:left;margin:0}.section-title-title[_ngcontent-%COMP%]{font-size:25px!important}.event-header[_ngcontent-%COMP%]{text-align:start;padding:0 15px}.event-header[_ngcontent-%COMP%]   .event-name[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.event-header[_ngcontent-%COMP%]   .event-description[_ngcontent-%COMP%]{margin-bottom:5px}.event-header[_ngcontent-%COMP%]   .event-by[_ngcontent-%COMP%]{font-size:14px;margin-bottom:2px}.event-header[_ngcontent-%COMP%]   .event-by[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.event-name[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.container[_ngcontent-%COMP%]{min-height:100vh}.corpo[_ngcontent-%COMP%]{padding:50px;background-color:#fff;border-radius:20px}"]}),i})();var ZY=B(1555);function wg(i,t){return new Ot.y(e=>{const o=i.length;if(0===o)return void e.complete();const c=new Array(o);let f=0,v=0;for(let _=0;_<o;_++){const M=(0,ut.D)(i[_]);let E=!1;e.add(M.subscribe({next:S=>{E||(E=!0,v++),c[_]=S},error:S=>e.error(S),complete:()=>{f++,(f===o||!E)&&(v===o&&e.next(t?t.reduce((S,I,R)=>(S[I]=c[R],S),{}):c),e.complete())}}))}})}let NO=(()=>{class i{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=c=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(l.Qsj),l.Y36(l.SBq))},i.\u0275dir=l.lG2({type:i}),i})(),vs=(()=>{class i extends NO{}return i.\u0275fac=function(){let t;return function(o){return(t||(t=l.n5z(i)))(o||i)}}(),i.\u0275dir=l.lG2({type:i,features:[l.qOj]}),i})();const V4=new l.OlP("NgValueAccessor"),qY={provide:V4,useExisting:(0,l.Gpc)(()=>_6),multi:!0},WY=new l.OlP("CompositionEventMode");let _6=(()=>{class i extends NO{constructor(e,o,c){super(e,o),this._compositionMode=c,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=L()?L().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(WY,8))},i.\u0275dir=l.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&l.NdJ("input",function(f){return o._handleInput(f.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(f){return o._compositionEnd(f.target.value)})},features:[l._Bn([qY]),l.qOj]}),i})();function ya(i){return null==i||0===i.length}function DO(i){return null!=i&&"number"==typeof i.length}const un=new l.OlP("NgValidators"),_a=new l.OlP("NgAsyncValidators"),$Y=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class t2{static min(t){return function(i){return t=>{if(ya(t.value)||ya(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}(t)}static max(t){return function(i){return t=>{if(ya(t.value)||ya(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}(t)}static required(t){return function(i){return ya(i.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(i){return!0===i.value?null:{required:!0}}(t)}static email(t){return function(i){return ya(i.value)||$Y.test(i.value)?null:{email:!0}}(t)}static minLength(t){return function(i){return t=>ya(t.value)||!DO(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(i){return t=>DO(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(i){if(!i)return ba;let t,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),o=>{if(ya(o.value))return null;const c=o.value;return t.test(c)?null:{pattern:{requiredPattern:e,actualValue:c}}}}(t)}static nullValidator(t){return null}static compose(t){return GO(t)}static composeAsync(t){return WO(t)}}function ba(i){return null}function UO(i){return null!=i}function ZO(i){const t=(0,l.QGY)(i)?(0,ut.D)(i):i;return(0,l.CqO)(t),t}function BO(i){let t={};return i.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function jO(i,t){return t.map(e=>e(i))}function qO(i){return i.map(t=>function(i){return!i.validate}(t)?t:e=>t.validate(e))}function GO(i){if(!i)return null;const t=i.filter(UO);return 0==t.length?null:function(e){return BO(jO(e,t))}}function NS(i){return null!=i?GO(qO(i)):null}function WO(i){if(!i)return null;const t=i.filter(UO);return 0==t.length?null:function(e){return function(...i){if(1===i.length){const t=i[0];if((0,q6.k)(t))return wg(t,null);if((0,ZY.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return wg(e.map(o=>t[o]),e)}}if("function"==typeof i[i.length-1]){const t=i.pop();return wg(i=1===i.length&&(0,q6.k)(i[0])?i[0]:i,null).pipe((0,f1.U)(e=>t(...e)))}return wg(i,null)}(jO(e,t).map(ZO)).pipe((0,f1.U)(BO))}}function IS(i){return null!=i?WO(qO(i)):null}function $O(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function QO(i){return i._rawValidators}function YO(i){return i._rawAsyncValidators}function DS(i){return i?Array.isArray(i)?i:[i]:[]}function Ag(i,t){return Array.isArray(i)?i.includes(t):i===t}function JO(i,t){const e=DS(t);return DS(i).forEach(c=>{Ag(e,c)||e.push(c)}),e}function KO(i,t){return DS(t).filter(e=>!Ag(i,e))}let XO=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=NS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=IS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,o){return!!this.control&&this.control.hasError(e,o)}getError(e,o){return this.control?this.control.getError(e,o):null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=l.lG2({type:i}),i})(),jn=(()=>{class i extends XO{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=l.n5z(i)))(o||i)}}(),i.\u0275dir=l.lG2({type:i,features:[l.qOj]}),i})();class Ca extends XO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class eH{constructor(t){this._cd=t}is(t){var e,o,c;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(c=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===c?void 0:c[t])}}let gs=(()=>{class i extends eH{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(Ca,2))},i.\u0275dir=l.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&l.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[l.qOj]}),i})(),ys=(()=>{class i extends eH{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(jn,10))},i.\u0275dir=l.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&l.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[l.qOj]}),i})();function zg(i,t){return[...t.path,i]}function vu(i,t){VS(i,t),t.valueAccessor.writeValue(i.value),function(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&tH(i,t)})}(i,t),function(i,t){const e=(o,c)=>{t.valueAccessor.writeValue(o),c&&t.viewToModelUpdate(o)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&tH(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function(i,t){if(t.valueAccessor.setDisabledState){const e=o=>{t.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function xg(i,t,e=!0){const o=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(o),t.valueAccessor.registerOnTouched(o)),Tg(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Sg(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function VS(i,t){const e=QO(i);null!==t.validator?i.setValidators($O(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const o=YO(i);null!==t.asyncValidator?i.setAsyncValidators($O(o,t.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const c=()=>i.updateValueAndValidity();Sg(t._rawValidators,c),Sg(t._rawAsyncValidators,c)}function Tg(i,t){let e=!1;if(null!==i){if(null!==t.validator){const c=QO(i);if(Array.isArray(c)&&c.length>0){const f=c.filter(v=>v!==t.validator);f.length!==c.length&&(e=!0,i.setValidators(f))}}if(null!==t.asyncValidator){const c=YO(i);if(Array.isArray(c)&&c.length>0){const f=c.filter(v=>v!==t.asyncValidator);f.length!==c.length&&(e=!0,i.setAsyncValidators(f))}}}const o=()=>{};return Sg(t._rawValidators,o),Sg(t._rawAsyncValidators,o),e}function tH(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function kS(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function OS(i,t){if(!t)return null;let e,o,c;return Array.isArray(t),t.forEach(f=>{f.constructor===_6?e=f:function(i){return Object.getPrototypeOf(i.constructor)===vs}(f)?o=f:c=f}),c||o||e||null}function Ng(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const gu="VALID",Ig="INVALID",Kc="PENDING",yu="DISABLED";function HS(i){return(FS(i)?i.validators:i)||null}function iH(i){return Array.isArray(i)?NS(i):i||null}function PS(i,t){return(FS(t)?t.asyncValidators:i)||null}function oH(i){return Array.isArray(i)?IS(i):i||null}function FS(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class US{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=iH(this._rawValidators),this._composedAsyncValidatorFn=oH(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===gu}get invalid(){return this.status===Ig}get pending(){return this.status==Kc}get disabled(){return this.status===yu}get enabled(){return this.status!==yu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=iH(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=oH(t)}addValidators(t){this.setValidators(JO(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(JO(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(KO(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(KO(t,this._rawAsyncValidators))}hasValidator(t){return Ag(this._rawValidators,t)}hasAsyncValidator(t){return Ag(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Kc,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=yu,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=gu,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gu||this.status===Kc)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yu:gu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Kc,this._hasOwnPendingAsyncValidator=!0;const e=ZO(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(i,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let o=i;return t.forEach(c=>{o=o instanceof _u?o.controls.hasOwnProperty(c)?o.controls[c]:null:o instanceof ZS&&o.at(c)||null}),o}(this,t)}getError(t,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?yu:this.errors?Ig:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kc)?Kc:this._anyControlsHaveStatus(Ig)?Ig:gu}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){FS(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Xc extends US{constructor(t=null,e,o){super(HS(e),PS(o,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ng(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ng(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class _u extends US{constructor(t,e,o){super(HS(e),PS(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,o={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((o,c)=>{o.reset(t[c],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,o)=>(t[o]=e instanceof Xc?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&t(o,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&t(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,o)=>((e.enabled||this.disabled)&&(t[o]=e.value),t))}_reduceChildren(t,e){let o=t;return this._forEachChild((c,f)=>{o=e(o,c,f)}),o}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,o)=>{if(void 0===t[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class ZS extends US{constructor(t,e,o){super(HS(e),PS(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,o={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((o,c)=>{this._throwIfControlMissing(c),this.at(c).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((o,c)=>{this.at(c)&&this.at(c).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((o,c)=>{o.reset(t[c],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Xc?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,o)=>{t(e,o)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,o)=>{if(void 0===t[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const lJ={provide:Ca,useExisting:(0,l.Gpc)(()=>_s)},cH=(()=>Promise.resolve(null))();let _s=(()=>{class i extends Ca{constructor(e,o,c,f){super(),this.control=new Xc,this._registered=!1,this.update=new l.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(c),this.valueAccessor=OS(0,f)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),kS(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?zg(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){vu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){cH.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const o=e.isDisabled.currentValue,c=""===o||o&&"false"!==o;cH.then(()=>{c&&!this.control.disabled?this.control.disable():!c&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(jn,9),l.Y36(un,10),l.Y36(_a,10),l.Y36(V4,10))},i.\u0275dir=l.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([lJ]),l.qOj,l.TTD]}),i})(),bs=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=l.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),uH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({}),i})();const jS=new l.OlP("NgModelWithFormControlWarning"),mJ={provide:jn,useExisting:(0,l.Gpc)(()=>b6)};let b6=(()=>{class i extends jn{constructor(e,o){super(),this.validators=e,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(o)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Tg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const o=this.form.get(e.path);return vu(o,e),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),o}getControl(e){return this.form.get(e.path)}removeControl(e){xg(e.control||null,e,!1),Ng(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,o){this.form.get(e.path).setValue(o)}onSubmit(e){return this.submitted=!0,function(i,t){i._syncPendingControls(),t.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const o=e.control,c=this.form.get(e.path);o!==c&&(xg(o||null,e),c instanceof Xc&&(vu(c,e),e.control=c))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const o=this.form.get(e.path);(function(i,t){VS(i,t)})(o,e),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const o=this.form.get(e.path);o&&function(i,t){return Tg(i,t)}(o,e)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){VS(this.form,this),this._oldForm&&Tg(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(un,10),l.Y36(_a,10))},i.\u0275dir=l.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,o){1&e&&l.NdJ("submit",function(f){return o.onSubmit(f)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([mJ]),l.qOj,l.TTD]}),i})();const yJ={provide:Ca,useExisting:(0,l.Gpc)(()=>Ma)};let Ma=(()=>{class i extends Ca{constructor(e,o,c,f,v){super(),this._ngModelWarningConfig=v,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(o),this._setAsyncValidators(c),this.valueAccessor=OS(0,f)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),kS(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return zg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(jn,13),l.Y36(un,10),l.Y36(_a,10),l.Y36(V4,10),l.Y36(jS,8))},i.\u0275dir=l.lG2({type:i,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([yJ]),l.qOj,l.TTD]}),i._ngModelWarningSentOnce=!1,i})();const _J={provide:V4,useExisting:(0,l.Gpc)(()=>Dg),multi:!0};function mH(i,t){return null==i?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${i}: ${t}`.slice(0,50))}let Dg=(()=>{class i extends vs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const o=this._getOptionId(e);null==o&&this.setProperty("selectedIndex",-1);const c=mH(o,e);this.setProperty("value",c)}registerOnChange(e){this.onChange=o=>{this.value=this._getOptionValue(o),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),e))return o;return null}_getOptionValue(e){const o=function(i){return i.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o):e}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=l.n5z(i)))(o||i)}}(),i.\u0275dir=l.lG2({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,o){1&e&&l.NdJ("change",function(f){return o.onChange(f.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([_J]),l.qOj]}),i})(),vH=(()=>{class i{constructor(e,o,c){this._element=e,this._renderer=o,this._select=c,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(mH(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Dg,9))},i.\u0275dir=l.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})();const CJ={provide:V4,useExisting:(0,l.Gpc)(()=>WS),multi:!0};function gH(i,t){return null==i?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${i}: ${t}`.slice(0,50))}let WS=(()=>{class i extends vs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let o;if(this.value=e,Array.isArray(e)){const c=e.map(f=>this._getOptionId(f));o=(f,v)=>{f._setSelected(c.indexOf(v.toString())>-1)}}else o=(c,f)=>{c._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(e){this.onChange=o=>{const c=[];if(void 0!==o.selectedOptions){const f=o.selectedOptions;for(let v=0;v<f.length;v++){const _=f.item(v),M=this._getOptionValue(_.value);c.push(M)}}else{const f=o.options;for(let v=0;v<f.length;v++){const _=f.item(v);if(_.selected){const M=this._getOptionValue(_.value);c.push(M)}}}this.value=c,e(c)}}_registerOption(e){const o=(this._idCounter++).toString();return this._optionMap.set(o,e),o}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,e))return o;return null}_getOptionValue(e){const o=function(i){return i.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o)._value:e}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=l.n5z(i)))(o||i)}}(),i.\u0275dir=l.lG2({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,o){1&e&&l.NdJ("change",function(f){return o.onChange(f.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([CJ]),l.qOj]}),i})(),yH=(()=>{class i{constructor(e,o,c){this._element=e,this._renderer=o,this._select=c,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(gH(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(gH(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(WS,9))},i.\u0275dir=l.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})(),SH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({imports:[[uH]]}),i})(),IJ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({imports:[SH]}),i})(),TH=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:jS,useValue:e.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({imports:[SH]}),i})(),Cs=(()=>{class i{group(e,o=null){const c=this._reduceControls(e);let _,f=null,v=null;return null!=o&&(function(i){return void 0!==i.asyncValidators||void 0!==i.validators||void 0!==i.updateOn}(o)?(f=null!=o.validators?o.validators:null,v=null!=o.asyncValidators?o.asyncValidators:null,_=null!=o.updateOn?o.updateOn:void 0):(f=null!=o.validator?o.validator:null,v=null!=o.asyncValidator?o.asyncValidator:null)),new _u(c,{asyncValidators:v,updateOn:_,validators:f})}control(e,o,c){return new Xc(e,o,c)}array(e,o,c){const f=e.map(v=>this._createControl(v));return new ZS(f,o,c)}_reduceControls(e){const o={};return Object.keys(e).forEach(c=>{o[c]=this._createControl(e[c])}),o}_createControl(e){return e instanceof Xc||e instanceof _u||e instanceof ZS?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,l.Yz7)({factory:function(){return new i},token:i,providedIn:TH}),i})();var LJ=B(8819);class VJ{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new kJ(t,this.observables,this.project))}}class kJ extends Za{constructor(t,e,o){super(t),this.observables=e,this.project=o,this.toRespond=[];const c=e.length;this.values=new Array(c);for(let f=0;f<c;f++)this.toRespond.push(f);for(let f=0;f<c;f++)this.add(js(this,e[f],void 0,f))}notifyNext(t,e,o){this.values[o]=e;const c=this.toRespond;if(c.length>0){const f=c.indexOf(o);-1!==f&&c.splice(f,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}class HJ{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new PJ(t,this.predicate))}}class PJ extends p2.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}function NH(i){return null==i}function IH(i){return"function"==typeof i.set}function DH(i,t){return IH(t)?t:i.ref(t)}function LH(i,t){if(function(i){return"string"==typeof i}(i))return t.stringCase();if(IH(i))return t.firebaseCase();if(function(i){return"function"==typeof i.exportVal}(i))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function Cu(i,t,e="on",o=C9.z){return new Ot.y(c=>{let f=null;return f=i[e](t,(v,_)=>{o.schedule(()=>{c.next({snapshot:v,prevKey:_})}),"once"===e&&o.schedule(()=>c.complete())},v=>{o.schedule(()=>c.error(v))}),"on"===e?{unsubscribe(){null!=f&&i.off(t,f)}}:{unsubscribe(){}}}).pipe((0,f1.U)(c=>{const{snapshot:f,prevKey:v}=c;let _=null;return f.exists()&&(_=f.key),{type:t,payload:f,prevKey:v,key:_}}),(0,LJ.B)())}function RH(i,t){const e=i.length;for(let o=0;o<e;o++)if(i[o].payload.key===t)return o;return-1}function jJ(i,t){const{payload:e,prevKey:o,key:c}=t,f=RH(i,c),v=function(i,t){if(NH(t))return 0;{const e=RH(i,t);return-1===e?i.length:e+1}}(i,o);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let _=null;t.payload.forEach(M=>{const E={payload:M,type:"value",prevKey:_,key:M.key};return _=M.key,i=[...i,E],!1})}return i;case"child_added":if(f>-1){const _=i[f-1];(_&&_.key||null)!==o&&(i=i.filter(M=>M.payload.key!==e.key)).splice(v,0,t)}else{if(null==o)return[t,...i];(i=i.slice()).splice(v,0,t)}return i;case"child_removed":return i.filter(_=>_.payload.key!==e.key);case"child_changed":return i.map(_=>_.payload.key===c?t:_);case"child_moved":if(f>-1){const _=i.splice(f,1)[0];return(i=i.slice()).splice(v,0,_),i}return i;default:return i}}function VH(i){return(NH(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function kH(i,t,e){return function(i,t,e){return Cu(i,"value","once",e).pipe(at(o=>{const c=[(0,$e.of)(o)];return t.forEach(f=>c.push(Cu(i,f,"on",e))),(0,CS.T)(...c).pipe(ei(jJ,[]))}),_z())}(i,t=VH(t),e)}function OH(i,t,e){const o=(t=VH(t)).map(c=>Cu(i,c,"on",e));return(0,CS.T)(...o)}function HH(i,t){return function(o,c){return LH(o,{stringCase:()=>i.child(o)[t](c),firebaseCase:()=>o[t](c),snapshotCase:()=>o.ref[t](c)})}}function $J(i){return function(e){return e?LH(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function PH(i,t){return function(){return Cu(i,"value","on",t)}}B(9192);const FH=new l.OlP("angularfire2.realtimeDatabaseURL"),UH=new l.OlP("angularfire2.database.use-emulator");let JJ=(()=>{class i{constructor(e,o,c,f,v,_,M){this.schedulers=new k1.HU(v),this.keepUnstableUntilFirst=(0,k1.ss)(this.schedulers);const E=_,S=(0,k1.on)(e,v,o);!QD.Z.auth&&M&&(0,k1.yq)(),this.database=(0,k1.sI)(`${S.name}.database.${c}`,"AngularFireDatabase",S,()=>{const I=v.runOutsideAngular(()=>S.database(c||void 0));return E&&I.useEmulator(...E),I},[E])}list(e,o){const c=this.schedulers.ngZone.runOutsideAngular(()=>DH(this.database,e));let f=c;return o&&(f=o(c)),function(i,t){const e=t.schedulers.outsideAngular,o=t.schedulers.ngZone.run(()=>i.ref);return{query:i,update:HH(o,"update"),set:HH(o,"set"),push:c=>o.push(c),remove:$J(o),snapshotChanges:c=>kH(i,c,e).pipe(t.keepUnstableUntilFirst),stateChanges:c=>OH(i,c,e).pipe(t.keepUnstableUntilFirst),auditTrail:c=>function(i,t,e){return function(i,t,e){return function(i,t){return Cu(i,"value","on",t).pipe((0,f1.U)(e=>{let o;return e.payload.forEach(c=>(o=c.key,!1)),{data:e,lastKeyToLoad:o}}))}(i,e).pipe(function(...i){return t=>{let e;return"function"==typeof i[i.length-1]&&(e=i.pop()),t.lift(new VJ(i,e))}}(t),(0,f1.U)(([c,f])=>{const v=c.lastKeyToLoad,_=f.map(M=>M.key);return{actions:f,lastKeyToLoad:v,loadedKeys:_}}),function(i){return t=>t.lift(new HJ(i))}(c=>-1===c.loadedKeys.indexOf(c.lastKeyToLoad)),(0,f1.U)(c=>c.actions))}(i,OH(i,t).pipe(ei((c,f)=>[...c,f],[])),e)}(i,c,e).pipe(t.keepUnstableUntilFirst),valueChanges:(c,f)=>kH(i,c,e).pipe((0,f1.U)(_=>_.map(M=>f&&f.idField?Object.assign(Object.assign({},M.payload.val()),{[f.idField]:M.key}):M.payload.val())),t.keepUnstableUntilFirst)}}(f,this)}object(e){return function(i,t){return{query:i,snapshotChanges:()=>PH(i,t.schedulers.outsideAngular)().pipe(t.keepUnstableUntilFirst),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>PH(i,t.schedulers.outsideAngular)().pipe(t.keepUnstableUntilFirst,(0,f1.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>DH(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(k1.Dh),l.LFG(k1.xv,8),l.LFG(FH,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(UH,8),l.LFG(Jc,8))},i.\u0275prov=l.Yz7({factory:function(){return new i(l.LFG(k1.Dh),l.LFG(k1.xv,8),l.LFG(FH,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(UH,8),l.LFG(Jc,8))},token:i,providedIn:"any"}),i})();class XJ{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new eK(t,this.dueTime,this.scheduler))}}class eK extends p2.L{constructor(t,e,o){super(t),this.dueTime=e,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(tK,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function tK(i){i.debouncedNext()}var ZH="firebasestorage.googleapis.com",BH="storageBucket",w2=function(i){function t(e,o){var c=i.call(this,QS(e),"Firebase Storage: "+o+" ("+QS(e)+")")||this;return c.customData={serverResponse:null},c._baseMessage=c.message,Object.setPrototypeOf(c,t.prototype),c}return(0,H.ZT)(t,i),t.prototype._codeEquals=function(e){return QS(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),t}(P1.ZR);function QS(i){return"storage/"+i}function YS(){return new w2("unknown","An unknown error occurred, please check the error payload for server response.")}function jH(){return new w2("canceled","User canceled the upload/download.")}function qH(){return new w2("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function e5(i){return new w2("invalid-argument",i)}function GH(){return new w2("app-deleted","The Firebase app was deleted.")}function WH(i){return new w2("invalid-root-operation","The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Mu(i,t){return new w2("invalid-format","String does not match format '"+i+"': "+t)}function Lg(i){throw new w2("internal-error","Internal error: "+i)}var k4={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},JS=function(t,e){this.data=t,this.contentType=e||null};function $H(i,t){switch(i){case k4.RAW:return new JS(QH(t));case k4.BASE64:case k4.BASE64URL:return new JS(YH(i,t));case k4.DATA_URL:return new JS(function(i){var t=new JH(i);return t.base64?YH(k4.BASE64,t.rest):function(i){var t;try{t=decodeURIComponent(i)}catch(e){throw Mu(k4.DATA_URL,"Malformed data URL.")}return QH(t)}(t.rest)}(t),function(i){return new JH(i).contentType}(t))}throw YS()}function QH(i){for(var t=[],e=0;e<i.length;e++){var o=i.charCodeAt(e);if(o<=127)t.push(o);else if(o<=2047)t.push(192|o>>6,128|63&o);else if(55296==(64512&o))if(e<i.length-1&&56320==(64512&i.charCodeAt(e+1))){var f=o,v=i.charCodeAt(++e);t.push(240|(o=65536|(1023&f)<<10|1023&v)>>18,128|o>>12&63,128|o>>6&63,128|63&o)}else t.push(239,191,189);else 56320==(64512&o)?t.push(239,191,189):t.push(224|o>>12,128|o>>6&63,128|63&o)}return new Uint8Array(t)}function YH(i,t){switch(i){case k4.BASE64:var e=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(e||o)throw Mu(i,"Invalid character '"+(e?"-":"_")+"' found: is it base64url encoded?");break;case k4.BASE64URL:var f=-1!==t.indexOf("+"),v=-1!==t.indexOf("/");if(f||v)throw Mu(i,"Invalid character '"+(f?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var _;try{_=function(i){return atob(i)}(t)}catch(S){throw Mu(i,"Invalid character found")}for(var M=new Uint8Array(_.length),E=0;E<_.length;E++)M[E]=_.charCodeAt(E);return M}var JH=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Mu(k4.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var o=e[1]||null;null!=o&&(this.base64=function(i,t){return i.length>=t.length&&i.substring(i.length-t.length)===t}(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-";base64".length):o),this.rest=t.substring(t.indexOf(",")+1)},bK={STATE_CHANGED:"state_changed"},qn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function KS(i){switch(i){case"running":case"pausing":case"canceling":return qn.RUNNING;case"paused":return qn.PAUSED;case"success":return qn.SUCCESS;case"canceled":return qn.CANCELED;case"error":default:return qn.ERROR}}var wa=(()=>(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"}(wa||(wa={})),wa))(),CK=function(){function i(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=wa.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=wa.ABORT,e()}),t.xhr_.addEventListener("error",function(){t.errorCode_=wa.NETWORK_ERROR,e()}),t.xhr_.addEventListener("load",function(){e()})})}return i.prototype.send=function(t,e,o,c){if(this.sent_)throw Lg("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==c)for(var f in c)c.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,c[f].toString());return void 0!==o?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_},i.prototype.getErrorCode=function(){if(!this.sent_)throw Lg("cannot .getErrorCode() before sending");return this.errorCode_},i.prototype.getStatus=function(){if(!this.sent_)throw Lg("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},i.prototype.getResponseText=function(){if(!this.sent_)throw Lg("cannot .getResponseText() before sending");return this.xhr_.responseText},i.prototype.abort=function(){this.xhr_.abort()},i.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},i.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},i.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},i}(),wK=function(){function i(){}return i.prototype.createConnection=function(){return new CK},i}(),O4=function(){function i(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(i.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),i.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},i.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},i.makeFromBucketSpec=function(t,e){var o;try{o=i.makeFromUrl(t,e)}catch(c){return new i(t,"")}if(""===o.path)return o;throw function(i){return new w2("invalid-default-bucket","Invalid default bucket '"+i+"'.")}(t)},i.makeFromUrl=function(t,e){var o=null,c="([A-Za-z0-9.\\-_]+)",_=new RegExp("^gs://"+c+"(/(.*))?$","i");function E(Vt){Vt.path_=decodeURIComponent(Vt.path)}for(var I=e.replace(/[.]/g,"\\."),xe=[{regex:_,indices:{bucket:1,path:3},postModify:function(Vt){"/"===Vt.path.charAt(Vt.path.length-1)&&(Vt.path_=Vt.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+I+"/v[A-Za-z0-9_]+/b/"+c+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:E},{regex:new RegExp("^https?://"+(e===ZH?"(?:storage.googleapis.com|storage.cloud.google.com)":e)+"/"+c+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:E}],Re=0;Re<xe.length;Re++){var Ve=xe[Re],i1=Ve.regex.exec(t);if(i1){var L2=i1[Ve.indices.path];L2||(L2=""),o=new i(i1[Ve.indices.bucket],L2),Ve.postModify(o);break}}if(null==o)throw function(i){return new w2("invalid-url","Invalid URL '"+i+"'.")}(t);return o},i}(),AK=function(){function i(t){this.promise_=Promise.reject(t)}return i.prototype.getPromise=function(){return this.promise_},i.prototype.cancel=function(t){},i}();function Rg(i){return"string"==typeof i||i instanceof String}function KH(i){return XS()&&i instanceof Blob}function XS(){return"undefined"!=typeof Blob}function eT(i,t,e,o){if(o<t)throw e5("Invalid value for '"+i+"'. Expected "+t+" or greater.");if(o>e)throw e5("Invalid value for '"+i+"'. Expected "+e+" or less.")}function Aa(i,t){var e=t.match(/^(\w+):\/\/.+/),c=t;return null==(null==e?void 0:e[1])&&(c="https://"+t),c+"/v0"+i}function XH(i){var t=encodeURIComponent,e="?";for(var o in i)i.hasOwnProperty(o)&&(e=e+(t(o)+"=")+t(i[o])+"&");return e.slice(0,-1)}var NK=function(){function i(t,e,o,c,f,v,_,M,E,S,I){var R=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=o,this.body_=c,this.successCodes_=f.slice(),this.additionalRetryCodes_=v.slice(),this.callback_=_,this.errorCallback_=M,this.progressCallback_=S,this.timeout_=E,this.pool_=I,this.promise_=new Promise(function(O,U){R.resolve_=O,R.reject_=U,R.start_()})}return i.prototype.start_=function(){var t=this;function o(c,f){var v=t.resolve_,_=t.reject_,M=f.connection;if(f.wasSuccessCode)try{var E=t.callback_(M,M.getResponseText());!function(i){return void 0!==i}(E)?v():v(E)}catch(I){_(I)}else if(null!==M)(S=YS()).serverResponse=M.getResponseText(),_(t.errorCallback_?t.errorCallback_(M,S):S);else if(f.canceled)_(S=t.appDelete_?GH():jH());else{var S;_(S=new w2("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}}this.canceled_?o(0,new Vg(!1,null,!0)):this.backoffId_=function(i,t,e){var o=1,c=null,f=!1,v=0;function _(){return 2===v}var M=!1;function E(){for(var U=[],J=0;J<arguments.length;J++)U[J]=arguments[J];M||(M=!0,t.apply(null,U))}function S(U){c=setTimeout(function(){c=null,i(I,_())},U)}function I(U){for(var J=[],le=1;le<arguments.length;le++)J[le-1]=arguments[le];if(!M){if(U)return void E.call.apply(E,(0,H.ev)([null,U],J));var Ae;if(_()||f)return void E.call.apply(E,(0,H.ev)([null,U],J));o<64&&(o*=2),1===v?(v=2,Ae=0):Ae=1e3*(o+Math.random()),S(Ae)}}var R=!1;function O(U){R||(R=!0,!M&&(null!==c?(U||(v=2),clearTimeout(c),S(0)):U||(v=1)))}return S(0),setTimeout(function(){f=!0,O(!0)},e),O}(function(c,f){if(f)c(!1,new Vg(!1,null,!0));else{var v=t.pool_.createConnection();t.pendingConnection_=v,null!==t.progressCallback_&&v.addUploadProgressListener(_),v.send(t.url_,t.method_,t.body_,t.headers_).then(function(){null!==t.progressCallback_&&v.removeUploadProgressListener(_),t.pendingConnection_=null;var M=v.getErrorCode()===wa.NO_ERROR,E=v.getStatus();if(M&&!t.isRetryStatusCode_(E)){var I=-1!==t.successCodes_.indexOf(E);c(!0,new Vg(I,v))}else{var S=v.getErrorCode()===wa.ABORT;c(!1,new Vg(!1,null,S))}})}function _(M){null!==t.progressCallback_&&t.progressCallback_(M.loaded,M.lengthComputable?M.total:-1)}},o,this.timeout_)},i.prototype.getPromise=function(){return this.promise_},i.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(i){i(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},i.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,c=-1!==[408,429].indexOf(t),f=-1!==this.additionalRetryCodes_.indexOf(t);return e||c||f},i}(),Vg=function(t,e,o){this.wasSuccessCode=t,this.connection=e,this.canceled=!!o};function kK(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function OK(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var e=kK();if(void 0!==e){for(var o=new e,c=0;c<i.length;c++)o.append(i[c]);return o.getBlob()}if(XS())return new Blob(i);throw new w2("unsupported-environment","This browser doesn't seem to support creating Blobs")}var tT=function(){function i(t,e){var o=0,c="";KH(t)?(this.data_=t,o=t.size,c=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),o=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),o=t.length),this.size_=o,this.type_=c}return i.prototype.size=function(){return this.size_},i.prototype.type=function(){return this.type_},i.prototype.slice=function(t,e){if(KH(this.data_)){var c=function(i,t,e){return i.webkitSlice?i.webkitSlice(t,e):i.mozSlice?i.mozSlice(t,e):i.slice?i.slice(t,e):null}(this.data_,t,e);return null===c?null:new i(c)}return new i(new Uint8Array(this.data_.buffer,t,e-t),!0)},i.getBlob=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(XS()){var o=t.map(function(M){return M instanceof i?M.data_:M});return new i(OK.apply(null,o))}var c=t.map(function(M){return Rg(M)?$H(k4.RAW,M).data:M.data_}),f=0;c.forEach(function(M){f+=M.byteLength});var v=new Uint8Array(f),_=0;return c.forEach(function(M){for(var E=0;E<M.length;E++)v[_++]=M[E]}),new i(v,!0)},i.prototype.uploadData=function(){return this.data_},i}();function nT(i){var t;try{t=JSON.parse(i)}catch(e){return null}return function(i){return"object"==typeof i&&!Array.isArray(i)}(t)?t:null}function eP(i){var t=i.lastIndexOf("/",i.length-2);return-1===t?i:i.slice(t+1)}function UK(i,t){return t}var Gn=function(t,e,o,c){this.server=t,this.local=e||t,this.writable=!!o,this.xform=c||UK},kg=null;function Og(){if(kg)return kg;var i=[];i.push(new Gn("bucket")),i.push(new Gn("generation")),i.push(new Gn("metageneration")),i.push(new Gn("name","fullPath",!0));var e=new Gn("name");e.xform=function(f,v){return function(i){return!Rg(i)||i.length<2?i:eP(i)}(v)},i.push(e);var c=new Gn("size");return c.xform=function(f,v){return void 0!==v?Number(v):v},i.push(c),i.push(new Gn("timeCreated")),i.push(new Gn("updated")),i.push(new Gn("md5Hash",null,!0)),i.push(new Gn("cacheControl",null,!0)),i.push(new Gn("contentDisposition",null,!0)),i.push(new Gn("contentEncoding",null,!0)),i.push(new Gn("contentLanguage",null,!0)),i.push(new Gn("contentType",null,!0)),i.push(new Gn("metadata","customMetadata",!0)),kg=i}function tP(i,t,e){var o=nT(t);return null===o?null:function(i,t,e){for(var o={type:"file"},c=e.length,f=0;f<c;f++){var v=e[f];o[v.local]=v.xform(o,t[v.server])}return function(i,t){Object.defineProperty(i,"ref",{get:function(){var f=new O4(i.bucket,i.fullPath);return t._makeStorageReference(f)}})}(o,i),o}(i,o,e)}function rT(i,t){for(var e={},o=t.length,c=0;c<o;c++){var f=t[c];f.writable&&(e[f.server]=i[f.local])}return JSON.stringify(e)}var nP="prefixes";var C6=function(t,e,o,c){this.url=t,this.method=e,this.handler=o,this.timeout=c,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function y3(i){if(!i)throw YS()}function Hg(i,t){return function(o,c){var f=tP(i,c,t);return y3(null!==f),f}}function t5(i){return function(e,o){var c;return(c=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new w2("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new w2("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?function(i){return new w2("quota-exceeded","Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(i.bucket):403===e.getStatus()?function(i){return new w2("unauthorized","User does not have permission to access '"+i+"'.")}(i.path):o).serverResponse=o.serverResponse,c}}function Pg(i){var t=t5(i);return function(o,c){var f=t(o,c);return 404===o.getStatus()&&(f=function(i){return new w2("object-not-found","Object '"+i+"' does not exist.")}(i.path)),f.serverResponse=c.serverResponse,f}}function iP(i,t,e){var c=Aa(t.fullServerUrl(),i.host),v=i.maxOperationRetryTime,_=new C6(c,"GET",Hg(i,e),v);return _.errorHandler=Pg(t),_}function YK(i,t,e,o,c){var f={};f.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(f.delimiter=e),o&&(f.pageToken=o),c&&(f.maxResults=c);var _=Aa(t.bucketOnlyServerUrl(),i.host),E=i.maxOperationRetryTime,S=new C6(_,"GET",function(i,t){return function(o,c){var f=function(i,t,e){var o=nT(e);return null===o?null:function(i,t,e){var o={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[nP])for(var c=0,f=e[nP];c<f.length;c++){var _=f[c].replace(/\/$/,""),M=i._makeStorageReference(new O4(t,_));o.prefixes.push(M)}if(e.items)for(var E=0,S=e.items;E<S.length;E++)M=i._makeStorageReference(new O4(t,S[E].name)),o.items.push(M);return o}(i,t,o)}(i,t,c);return y3(null!==f),f}}(i,t.bucket),E);return S.urlParams=f,S.errorHandler=t5(t),S}function oP(i,t,e){var o=Object.assign({},e);return o.fullPath=i.path,o.size=t.size(),o.contentType||(o.contentType=function(i,t){return t&&t.type()||"application/octet-stream"}(0,t)),o}var Fg=function(t,e,o,c){this.current=t,this.total=e,this.finalized=!!o,this.metadata=c||null};function iT(i,t){var e=null;try{e=i.getResponseHeader("X-Goog-Upload-Status")}catch(c){y3(!1)}return y3(!!e&&-1!==(t||["active"]).indexOf(e)),e}var oX=function(t,e,o){if(function(i){return"function"==typeof i}(t)||null!=e||null!=o)this.next=t,this.error=e,this.complete=o;else{var f=t;this.next=f.next,this.error=f.error,this.complete=f.complete}};function n5(i){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Promise.resolve().then(function(){return i.apply(void 0,t)})}}var sP=function(){function i(t,e,o){var c=this;void 0===o&&(o=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=o,this._mappings=Og(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(f){c._request=void 0,c._chunkMultiplier=1,f._codeEquals("canceled")?(c._needToFetchStatus=!0,c.completeTransitions_()):(c._error=f,c._transition("error"))},this._metadataErrorHandler=function(f){c._request=void 0,f._codeEquals("canceled")?c.completeTransitions_():(c._error=f,c._transition("error"))},this._promise=new Promise(function(f,v){c._resolve=f,c._reject=v,c._start()}),this._promise.then(null,function(){})}return i.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(o){return t._updateProgress(e+o)}},i.prototype._shouldDoResumable=function(t){return t.size()>262144},i.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},i.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(o){var c=o[0],f=o[1];switch(e._state){case"running":t(c,f);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},i.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,o){var c=function(i,t,e,o,c){var f=t.bucketOnlyServerUrl(),v=oP(t,o,c),_={name:v.fullPath},M=Aa(f,i.host),S={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+o.size(),"X-Goog-Upload-Header-Content-Type":v.contentType,"Content-Type":"application/json; charset=utf-8"},I=rT(v,e),U=new C6(M,"POST",function(J){var le;iT(J);try{le=J.getResponseHeader("X-Goog-Upload-URL")}catch(ge){y3(!1)}return y3(Rg(le)),le},i.maxUploadRetryTime);return U.urlParams=_,U.headers=S,U.body=I,U.errorHandler=t5(t),U}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),f=t._ref.storage._makeRequest(c,e,o);t._request=f,f.getPromise().then(function(v){t._request=void 0,t._uploadUrl=v,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},i.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(o,c){var f=function(i,t,e,o){var M=new C6(e,"POST",function(E){var S=iT(E,["active","final"]),I=null;try{I=E.getResponseHeader("X-Goog-Upload-Size-Received")}catch(O){y3(!1)}I||y3(!1);var R=Number(I);return y3(!isNaN(R)),new Fg(R,o.size(),"final"===S)},i.maxUploadRetryTime);return M.headers={"X-Goog-Upload-Command":"query"},M.errorHandler=t5(t),M}(t._ref.storage,t._ref._location,e,t._blob),v=t._ref.storage._makeRequest(f,o,c);t._request=v,v.getPromise().then(function(_){_=_,t._request=void 0,t._updateProgress(_.current),t._needToFetchStatus=!1,_.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},i.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,o=new Fg(this._transferred,this._blob.size()),c=this._uploadUrl;this._resolveToken(function(f,v){var _;try{_=function(i,t,e,o,c,f,v,_){var M=new Fg(0,0);if(v?(M.current=v.current,M.total=v.total):(M.current=0,M.total=o.size()),o.size()!==M.total)throw new w2("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var E=M.total-M.current,S=E;c>0&&(S=Math.min(S,c));var I=M.current,U={"X-Goog-Upload-Command":S===E?"upload, finalize":"upload","X-Goog-Upload-Offset":""+M.current},J=o.slice(I,I+S);if(null===J)throw qH();var xe=new C6(e,"POST",function(Re,Ve){var Vt,i1=iT(Re,["active","final"]),K1=M.current+S,L2=o.size();return Vt="final"===i1?Hg(t,f)(Re,Ve):null,new Fg(K1,L2,"final"===i1,Vt)},t.maxUploadRetryTime);return xe.headers=U,xe.body=J.uploadData(),xe.progressCallback=_||null,xe.errorHandler=t5(i),xe}(t._ref._location,t._ref.storage,c,t._blob,e,t._mappings,o,t._makeProgressCallback())}catch(E){return t._error=E,void t._transition("error")}var M=t._ref.storage._makeRequest(_,f,v);t._request=M,M.getPromise().then(function(E){t._increaseMultiplier(),t._request=void 0,t._updateProgress(E.current),E.finalized?(t._metadata=E.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},i.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},i.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,o){var c=iP(t._ref.storage,t._ref._location,t._mappings),f=t._ref.storage._makeRequest(c,e,o);t._request=f,f.getPromise().then(function(v){t._request=void 0,t._metadata=v,t._transition("success")},t._metadataErrorHandler)})},i.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,o){var c=function(i,t,e,o,c){var f=t.bucketOnlyServerUrl(),v={"X-Goog-Upload-Protocol":"multipart"},M=function(){for(var xe="",Re=0;Re<2;Re++)xe+=Math.random().toString().slice(2);return xe}();v["Content-Type"]="multipart/related; boundary="+M;var E=oP(t,o,c),S=rT(E,e),O=tT.getBlob("--"+M+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+S+"\r\n--"+M+"\r\nContent-Type: "+E.contentType+"\r\n\r\n",o,"\r\n--"+M+"--");if(null===O)throw qH();var U={name:E.fullPath},J=Aa(f,i.host),ge=i.maxUploadRetryTime,Ae=new C6(J,"POST",Hg(i,e),ge);return Ae.urlParams=U,Ae.headers=v,Ae.body=O.uploadData(),Ae.errorHandler=t5(t),Ae}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),f=t._ref.storage._makeRequest(c,e,o);t._request=f,f.getPromise().then(function(v){t._request=void 0,t._metadata=v,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},i.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},i.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=jH(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},i.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(i.prototype,"snapshot",{get:function(){var t=KS(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),i.prototype.on=function(t,e,o,c){var f=this,v=new oX(e,o,c);return this._addObserver(v),function(){f._removeObserver(v)}},i.prototype.then=function(t,e){return this._promise.then(t,e)},i.prototype.catch=function(t){return this.then(null,t)},i.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},i.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},i.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(o){t._notifyObserver(o)})},i.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(KS(this._state)){case qn.SUCCESS:n5(this._resolve.bind(null,this.snapshot))();break;case qn.CANCELED:case qn.ERROR:n5(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},i.prototype._notifyObserver=function(t){switch(KS(this._state)){case qn.RUNNING:case qn.PAUSED:t.next&&n5(t.next.bind(t,this.snapshot))();break;case qn.SUCCESS:t.complete&&n5(t.complete.bind(t))();break;case qn.CANCELED:case qn.ERROR:t.error&&n5(t.error.bind(t,this._error))();break;default:t.error&&n5(t.error.bind(t,this._error))()}},i.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},i.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},i.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},i}(),Ug=function(){function i(t,e){this._service=t,this._location=e instanceof O4?e:O4.makeFromUrl(e,t.host)}return i.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},i.prototype._newRef=function(t,e){return new i(t,e)},Object.defineProperty(i.prototype,"root",{get:function(){var t=new O4(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return eP(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var t=function(i){if(0===i.length)return null;var t=i.lastIndexOf("/");return-1===t?"":i.slice(0,t)}(this._location.path);if(null===t)return null;var e=new O4(this._location.bucket,t);return new i(this._service,e)},enumerable:!1,configurable:!0}),i.prototype._throwIfRoot=function(t){if(""===this._location.path)throw WH(t)},i}();function sX(i){var t={prefixes:[],items:[]};return cP(i,t).then(function(){return t})}function cP(i,t,e){return(0,H.mG)(this,void 0,void 0,function(){var c,f,v;return(0,H.Jh)(this,function(_){switch(_.label){case 0:return[4,lP(i,{pageToken:e})];case 1:return c=_.sent(),(f=t.prefixes).push.apply(f,c.prefixes),(v=t.items).push.apply(v,c.items),null==c.nextPageToken?[3,3]:[4,cP(i,t,c.nextPageToken)];case 2:_.sent(),_.label=3;case 3:return[2]}})})}function lP(i,t){return(0,H.mG)(this,void 0,void 0,function(){var e,o;return(0,H.Jh)(this,function(c){switch(c.label){case 0:return null!=t&&"number"==typeof t.maxResults&&eT("options.maxResults",1,1e3,t.maxResults),o=YK(i.storage,i._location,"/",(e=t||{}).pageToken,e.maxResults),[4,i.storage.makeRequestWithTokens(o)];case 1:return[2,c.sent().getPromise()]}})})}function uX(i){return(0,H.mG)(this,void 0,void 0,function(){var t;return(0,H.Jh)(this,function(e){switch(e.label){case 0:return i._throwIfRoot("getDownloadURL"),t=function(i,t,e){var c=Aa(t.fullServerUrl(),i.host),v=i.maxOperationRetryTime,_=new C6(c,"GET",function(i,t){return function(o,c){var f=tP(i,c,t);return y3(null!==f),function(i,t,e){var o=nT(t);if(null===o||!Rg(o.downloadTokens))return null;var c=o.downloadTokens;if(0===c.length)return null;var f=encodeURIComponent;return c.split(",").map(function(M){var S=i.fullPath;return Aa("/b/"+f(i.bucket)+"/o/"+f(S),e)+XH({alt:"media",token:M})})[0]}(f,c,i.host)}}(i,e),v);return _.errorHandler=Pg(t),_}(i.storage,i._location,Og()),[4,i.storage.makeRequestWithTokens(t)];case 1:return[2,e.sent().getPromise().then(function(o){if(null===o)throw new w2("no-download-url","The given file does not have any download URLs.");return o})]}})})}function uP(i,t){var e=function(i,t){var e=t.split("/").filter(function(o){return o.length>0}).join("/");return 0===i.length?e:i+"/"+e}(i._location.path,t),o=new O4(i._location.bucket,e);return new Ug(i.storage,o)}function oT(i){return/^[A-Za-z]+:\/\//.test(i)}function fP(i,t){if(i instanceof Zg){var e=i;if(null==e._bucket)throw new w2("no-default-bucket","No default bucket found. Did you set the '"+BH+"' property when initializing the app?");var o=new Ug(e,e._bucket);return null!=t?fP(o,t):o}return void 0!==t?uP(i,t):i}function dX(i,t){if(t&&oT(t)){if(i instanceof Zg)return function(i,t){return new Ug(i,t)}(i,t);throw e5("To use ref(service, url), the first argument must be a Storage instance.")}return fP(i,t)}function hP(i,t){var e=null==t?void 0:t[BH];return null==e?null:O4.makeFromBucketSpec(e,i)}var Zg=function(){function i(t,e,o,c,f,v){this.app=t,this._authProvider=e,this._appCheckProvider=o,this._pool=c,this._url=f,this._firebaseVersion=v,this._bucket=null,this._host=ZH,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=f?O4.makeFromBucketSpec(f,this._host):hP(this._host,this.app.options)}return Object.defineProperty(i.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?O4.makeFromBucketSpec(this._url,t):hP(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){eT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){eT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),i.prototype._getAuthToken=function(){return(0,H.mG)(this,void 0,void 0,function(){var t,e;return(0,H.Jh)(this,function(o){switch(o.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=o.sent()))return[2,e.accessToken];o.label=2;case 2:return[2,null]}})})},i.prototype._getAppCheckToken=function(){return(0,H.mG)(this,void 0,void 0,function(){var t;return(0,H.Jh)(this,function(o){switch(o.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,o.sent().token];case 2:return[2,null]}})})},i.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},i.prototype._makeStorageReference=function(t){return new Ug(this,t)},i.prototype._makeRequest=function(t,e,o){var c=this;if(this._deleted)return new AK(GH());var f=function(i,t,e,o,c,f){var v=XH(i.urlParams),_=i.url+v,M=Object.assign({},i.headers);return function(i,t){t&&(i["X-Firebase-GMPID"]=t)}(M,t),function(i,t){null!==t&&t.length>0&&(i.Authorization="Firebase "+t)}(M,e),function(i,t){i["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(M,f),function(i,t){null!==t&&(i["X-Firebase-AppCheck"]=t)}(M,o),new NK(_,i.method,M,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,c)}(t,this._appId,e,o,this._pool,this._firebaseVersion);return this._requests.add(f),f.getPromise().then(function(){return c._requests.delete(f)},function(){return c._requests.delete(f)}),f},i.prototype.makeRequestWithTokens=function(t){return(0,H.mG)(this,void 0,void 0,function(){var e;return(0,H.Jh)(this,function(f){switch(f.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=f.sent(),[2,this._makeRequest(t,e[0],e[1])]}})})},i}();function dP(i,t){return dX(i=(0,P1.m9)(i),t)}var Bg=function(){function i(t,e,o){this._delegate=t,this.task=e,this.ref=o}return Object.defineProperty(i.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),i}(),pP=function(){function i(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(i.prototype,"snapshot",{get:function(){return new Bg(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),i.prototype.then=function(t,e){var o=this;return this._delegate.then(function(c){if(t)return t(new Bg(c,o,o._ref))},e)},i.prototype.on=function(t,e,o,c){var f=this,v=void 0;return e&&(v="function"==typeof e?function(_){return e(new Bg(_,f,f._ref))}:{next:e.next?function(_){return e.next(new Bg(_,f,f._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,v,o||void 0,c||void 0)},i}(),mP=function(){function i(t,e){this._delegate=t,this._service=e}return Object.defineProperty(i.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new wu(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new wu(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),i}(),wu=function(){function i(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(i.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),i.prototype.toString=function(){return this._delegate.toString()},i.prototype.child=function(t){return new i(function(i,t){return uP(i,t)}(this._delegate,t),this.storage)},Object.defineProperty(i.prototype,"root",{get:function(){return new i(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new i(t,this.storage)},enumerable:!1,configurable:!0}),i.prototype.put=function(t,e){return this._throwIfRoot("put"),new pP(function(i,t,e){return function(i,t,e){return i._throwIfRoot("uploadBytesResumable"),new sP(i,new tT(t),e)}(i=(0,P1.m9)(i),t,e)}(this._delegate,t,e),this)},i.prototype.putString=function(t,e,o){void 0===e&&(e=k4.RAW),this._throwIfRoot("putString");var c=$H(e,t),f=(0,H.pi)({},o);return null==f.contentType&&null!=c.contentType&&(f.contentType=c.contentType),new pP(new sP(this._delegate,new tT(c.data,!0),f),this)},i.prototype.listAll=function(){var t=this;return function(i){return sX(i=(0,P1.m9)(i))}(this._delegate).then(function(e){return new mP(e,t.storage)})},i.prototype.list=function(t){var e=this;return function(i,t){return lP(i=(0,P1.m9)(i),t)}(this._delegate,t||void 0).then(function(o){return new mP(o,e.storage)})},i.prototype.getMetadata=function(){return function(i){return function(i){return(0,H.mG)(this,void 0,void 0,function(){var t;return(0,H.Jh)(this,function(e){switch(e.label){case 0:return i._throwIfRoot("getMetadata"),t=iP(i.storage,i._location,Og()),[4,i.storage.makeRequestWithTokens(t)];case 1:return[2,e.sent().getPromise()]}})})}(i=(0,P1.m9)(i))}(this._delegate)},i.prototype.updateMetadata=function(t){return function(i,t){return function(i,t){return(0,H.mG)(this,void 0,void 0,function(){var e;return(0,H.Jh)(this,function(o){switch(o.label){case 0:return i._throwIfRoot("updateMetadata"),e=function(i,t,e,o){var f=Aa(t.fullServerUrl(),i.host),_=rT(e,o),E=i.maxOperationRetryTime,S=new C6(f,"PATCH",Hg(i,o),E);return S.headers={"Content-Type":"application/json; charset=utf-8"},S.body=_,S.errorHandler=Pg(t),S}(i.storage,i._location,t,Og()),[4,i.storage.makeRequestWithTokens(e)];case 1:return[2,o.sent().getPromise()]}})})}(i=(0,P1.m9)(i),t)}(this._delegate,t)},i.prototype.getDownloadURL=function(){return function(i){return uX(i=(0,P1.m9)(i))}(this._delegate)},i.prototype.delete=function(){return this._throwIfRoot("delete"),function(i){return function(i){return(0,H.mG)(this,void 0,void 0,function(){var t;return(0,H.Jh)(this,function(e){switch(e.label){case 0:return i._throwIfRoot("deleteObject"),t=function(i,t){var o=Aa(t.fullServerUrl(),i.host),_=new C6(o,"DELETE",function(M,E){},i.maxOperationRetryTime);return _.successCodes=[200,204],_.errorHandler=Pg(t),_}(i.storage,i._location),[4,i.storage.makeRequestWithTokens(t)];case 1:return[2,e.sent().getPromise()]}})})}(i=(0,P1.m9)(i))}(this._delegate)},i.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw WH(t)},i}(),AX=function(){function i(t,e){this.app=t,this._delegate=e}return Object.defineProperty(i.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),i.prototype.ref=function(t){if(oT(t))throw e5("ref() expected a child path but got a URL, use refFromURL instead.");return new wu(dP(this._delegate,t),this)},i.prototype.refFromURL=function(t){if(!oT(t))throw e5("refFromURL() expected a full URL but got a child path, use ref() instead.");try{O4.makeFromUrl(t,this._delegate.host)}catch(e){throw e5("refFromUrl() expected a valid full URL but got an invalid one.")}return new wu(dP(this._delegate,t),this)},i.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},i.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},i.prototype.useEmulator=function(t,e,o){void 0===o&&(o={}),function(i,t,e,o){void 0===o&&(o={}),function(i,t,e,o){void 0===o&&(o={}),i.host="http://"+t+":"+e;var c=o.mockUserToken;c&&(i._overrideAuthToken="string"==typeof c?c:(0,P1.Sg)(c,i.app.options.projectId))}(i,t,e,o)}(this._delegate,t,e,o)},i}();function SX(i,t){var e=t.instanceIdentifier,o=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),f=i.getProvider("app-check-internal");return new AX(o,new Zg(o,c,f,new wK,e,bz.Z.SDK_VERSION))}function vP(i){const t=function(i){return new Ot.y(t=>{const e=v=>t.next(v);e(i.snapshot);const f=i.on("state_changed",e);return i.then(v=>{e(v),t.complete()},v=>{e(i.snapshot),(v=>{t.error(v)})(v)}),function(){f()}}).pipe(function(i,t=C9.P){return e=>e.lift(new XJ(i,t))}(0))}(i);return{task:i,then:i.then.bind(i),catch:i.catch.bind(i),pause:i.pause.bind(i),cancel:i.cancel.bind(i),resume:i.resume.bind(i),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,f1.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function jg(i,t,e){return{getDownloadURL:()=>(0,$e.of)(void 0).pipe((0,wi.QV)(t.outsideAngular),at(()=>i.getDownloadURL()),e),getMetadata:()=>(0,$e.of)(void 0).pipe((0,wi.QV)(t.outsideAngular),at(()=>i.getMetadata()),e),delete:()=>(0,ut.D)(i.delete()),child:o=>jg(i.child(o),t,e),updateMetadata:o=>(0,ut.D)(i.updateMetadata(o)),put:(o,c)=>vP(i.put(o,c)),putString:(o,c,f)=>vP(i.putString(o,c,f)),listAll:()=>(0,ut.D)(i.listAll())}}!function(i){var t={TaskState:qn,TaskEvent:bK,StringFormat:k4,Storage:Zg,Reference:wu};i.INTERNAL.registerComponent(new mO.wA("storage",SX,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),i.registerVersion("@firebase/storage","0.7.0")}(bz.Z);const gP=new l.OlP("angularfire2.storageBucket"),yP=new l.OlP("angularfire2.storage.maxUploadRetryTime"),_P=new l.OlP("angularfire2.storage.maxOperationRetryTime");let aT=(()=>{class i{constructor(e,o,c,f,v,_,M){this.schedulers=new k1.HU(v),this.keepUnstableUntilFirst=(0,k1.ss)(this.schedulers);const E=(0,k1.on)(e,v,o);this.storage=(0,k1.sI)(`${E.name}.storage.${c}`,"AngularFireStorage",E,()=>{const S=v.runOutsideAngular(()=>E.storage(c||void 0));return _&&S.setMaxUploadRetryTime(_),M&&S.setMaxOperationRetryTime(M),S},[_,M])}ref(e){return jg(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(e){return jg(this.storage.refFromURL(e),this.schedulers,this.keepUnstableUntilFirst)}upload(e,o,c){return jg(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst).put(o,c)}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(k1.Dh),l.LFG(k1.xv,8),l.LFG(gP,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(yP,8),l.LFG(_P,8))},i.\u0275prov=l.Yz7({factory:function(){return new i(l.LFG(k1.Dh),l.LFG(k1.xv,8),l.LFG(gP,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(yP,8),l.LFG(_P,8))},token:i,providedIn:"any"}),i})(),Au=(()=>{class i{constructor(e,o){this.db=e,this.storage=o,this.basePath="/uploads"}pushFileToStorage(e){const o=(Math.random()+1).toString(36).substring(2)+".jpeg",c=`${this.basePath}/${o}`,f=this.storage.ref(this.basePath).child(o).putString(e,"data_url",{contentType:"image/jpeg"});return{uploadProgress$:f.percentageChanges(),downloadUrl$:this.getDownloadUrl$(f,c)}}getDownloadUrl$(e,o){return(0,ut.D)(e).pipe(at(c=>this.storage.ref(o).getDownloadURL()))}deleteFile(e){return this.storage.storage.refFromURL(e).delete()}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(JJ),l.LFG(aT))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function CP(i,t,e,o){return new(e||(e=Promise))(function(f,v){function _(S){try{E(o.next(S))}catch(I){v(I)}}function M(S){try{E(o.throw(S))}catch(I){v(I)}}function E(S){S.done?f(S.value):function(f){return f instanceof e?f:new e(function(v){v(f)})}(S.value).then(_,M)}E((o=o.apply(i,t||[])).next())})}const LX=["wrapper"],RX=["sourceImage"];function VX(i,t){if(1&i){const e=l.EpF();l.TgZ(0,"img",4,5),l.NdJ("load",function(){return l.CHM(e),l.oxw().imageLoadedInView()}),l.qZA()}if(2&i){const e=l.oxw();l.Udp("visibility",e.imageVisible?"visible":"hidden")("transform",e.safeTransformStyle),l.Q6J("src",e.safeImgDataUrl,l.LSH)}}function kX(i,t){if(1&i){const e=l.EpF();l.ynx(0),l.TgZ(1,"span",9),l.NdJ("mousedown",function(c){l.CHM(e);const f=l.oxw(2);return f.startMove(c,f.moveTypes.Resize,"topleft")})("touchstart",function(c){l.CHM(e);const f=l.oxw(2);return f.startMove(c,f.moveTypes.Resize,"topleft")}),l._UZ(2,"span",10),l.qZA(),l.TgZ(3,"span",11),l._UZ(4,"span",10),l.qZA(),l.TgZ(5,"span",12),l.NdJ("mousedown",function(c){l.CHM(e);const f=l.oxw(2);return f.startMove(c,f.moveTypes.Resize,"topright")})("touchstart",function(c){l.CHM(e);const f=l.oxw(2);return f.startMove(c,f.moveTypes.Resize,"topright")}),l._UZ(6,"span",10),l.qZA(),l.TgZ(7,"span",13),l._UZ(8,"span",10),l.qZA(),l.TgZ(9,"span",14),l.NdJ("mousedown",function(c){l.CHM(e);const f=l.oxw(2);return f.startMove(c,f.moveTypes.Resize,"bottomright")})("touchstart",function(c){l.CHM(e);const f=l.oxw(2);return f.startMove(c,f.moveTypes.Resize,"bottomright")}),l._UZ(10,"span",10),l.qZA(),l.TgZ(11,"span",15),l._UZ(12,"span",10),l.qZA(),l.TgZ(13,"span",16),l.NdJ("mousedown",function(c){l.CHM(e);const f=l.oxw(2);return f.startMove(c,f.moveTypes.Resize,"bottomleft")})("touchstart",function(c){l.CHM(e);const f=l.oxw(2);return f.startMove(c,f.moveTypes.Resize,"bottomleft")}),l._UZ(14,"span",10),l.qZA(),l.TgZ(15,"span",17),l._UZ(16,"span",10),l.qZA(),l.TgZ(17,"span",18),l.NdJ("mousedown",function(c){l.CHM(e);const f=l.oxw(2);return f.startMove(c,f.moveTypes.Resize,"top")})("touchstart",function(c){l.CHM(e);const f=l.oxw(2);return f.startMove(c,f.moveTypes.Resize,"top")}),l.qZA(),l.TgZ(18,"span",19),l.NdJ("mousedown",function(c){l.CHM(e);const f=l.oxw(2);return f.startMove(c,f.moveTypes.Resize,"right")})("touchstart",function(c){l.CHM(e);const f=l.oxw(2);return f.startMove(c,f.moveTypes.Resize,"right")}),l.qZA(),l.TgZ(19,"span",20),l.NdJ("mousedown",function(c){l.CHM(e);const f=l.oxw(2);return f.startMove(c,f.moveTypes.Resize,"bottom")})("touchstart",function(c){l.CHM(e);const f=l.oxw(2);return f.startMove(c,f.moveTypes.Resize,"bottom")}),l.qZA(),l.TgZ(20,"span",21),l.NdJ("mousedown",function(c){l.CHM(e);const f=l.oxw(2);return f.startMove(c,f.moveTypes.Resize,"left")})("touchstart",function(c){l.CHM(e);const f=l.oxw(2);return f.startMove(c,f.moveTypes.Resize,"left")}),l.qZA(),l.BQk()}}function OX(i,t){if(1&i){const e=l.EpF();l.TgZ(0,"div",6),l.NdJ("keydown",function(c){return l.CHM(e),l.oxw().keyboardAccess(c)}),l.TgZ(1,"div",7),l.NdJ("mousedown",function(c){l.CHM(e);const f=l.oxw();return f.startMove(c,f.moveTypes.Move)})("touchstart",function(c){l.CHM(e);const f=l.oxw();return f.startMove(c,f.moveTypes.Move)}),l.qZA(),l.YNc(2,kX,21,0,"ng-container",8),l.qZA()}if(2&i){const e=l.oxw();l.Udp("top",e.cropper.y1,"px")("left",e.cropper.x1,"px")("width",e.cropper.x2-e.cropper.x1,"px")("height",e.cropper.y2-e.cropper.y1,"px")("margin-left","center"===e.alignImage?e.marginLeft:null)("visibility",e.imageVisible?"visible":"hidden"),l.ekj("rounded",e.roundCropper),l.xp6(2),l.Q6J("ngIf",!e.hideResizeSquares)}}const Ea={Move:"move",Resize:"resize",Pinch:"pinch"};let PX=(()=>{class i{crop(e,o,c,f){const v=this.getImagePosition(e,o,c,f),_=v.x2-v.x1,M=v.y2-v.y1,E=document.createElement("canvas");E.width=_,E.height=M;const S=E.getContext("2d");if(!S)return;null!=f.backgroundColor&&(S.fillStyle=f.backgroundColor,S.fillRect(0,0,_,M));const I=(f.transform.scale||1)*(f.transform.flipH?-1:1),R=(f.transform.scale||1)*(f.transform.flipV?-1:1),O=o.transformed;S.setTransform(I,0,0,R,O.size.width/2,O.size.height/2),S.translate(-v.x1/I,-v.y1/R),S.rotate((f.transform.rotate||0)*Math.PI/180),S.drawImage(O.image,-O.size.width/2,-O.size.height/2);const U={width:_,height:M,imagePosition:v,cropperPosition:Object.assign({},c)};f.containWithinAspectRatio&&(U.offsetImagePosition=this.getOffsetImagePosition(e,o,c,f));const J=this.getResizeRatio(_,M,f);return 1!==J&&(U.width=Math.round(_*J),U.height=f.maintainAspectRatio?Math.round(U.width/f.aspectRatio):Math.round(M*J),function(i,t,e){const o=i.width,c=i.height,f=o/(t=Math.round(t)),v=c/(e=Math.round(e)),_=Math.ceil(f/2),M=Math.ceil(v/2),E=i.getContext("2d");if(E){const S=E.getImageData(0,0,o,c),I=E.createImageData(t,e),R=S.data,O=I.data;for(let U=0;U<e;U++)for(let J=0;J<t;J++){const le=4*(J+U*t),ge=U*v;let Ae=0,xe=0,Re=0,Ve=0,i1=0,K1=0,L2=0;const Vt=Math.floor(J*f),$r=Math.floor(U*v);let hr=Math.ceil((J+1)*f),x6=Math.ceil((U+1)*v);hr=Math.min(hr,o),x6=Math.min(x6,c);for(let cy=$r;cy<x6;cy++){const oU=Math.abs(ge-cy)/M,tne=J*f,nne=oU*oU;for(let ly=Vt;ly<hr;ly++){const aU=Math.abs(tne-ly)/_,c5=Math.sqrt(nne+aU*aU);if(c5>=1)continue;Ae=2*c5*c5*c5-3*c5*c5+1;const l5=4*(ly+cy*o);L2+=Ae*R[l5+3],Re+=Ae,R[l5+3]<255&&(Ae=Ae*R[l5+3]/250),Ve+=Ae*R[l5],i1+=Ae*R[l5+1],K1+=Ae*R[l5+2],xe+=Ae}}O[le]=Ve/xe,O[le+1]=i1/xe,O[le+2]=K1/xe,O[le+3]=L2/Re}i.width=t,i.height=e,E.putImageData(I,0,0)}}(E,U.width,U.height)),U.base64=E.toDataURL("image/"+f.format,this.getQuality(f)),U}getImagePosition(e,o,c,f){const _=o.transformed.size.width/e.nativeElement.offsetWidth,M={x1:Math.round(c.x1*_),y1:Math.round(c.y1*_),x2:Math.round(c.x2*_),y2:Math.round(c.y2*_)};return f.containWithinAspectRatio||(M.x1=Math.max(M.x1,0),M.y1=Math.max(M.y1,0),M.x2=Math.min(M.x2,o.transformed.size.width),M.y2=Math.min(M.y2,o.transformed.size.height)),M}getOffsetImagePosition(e,o,c,f){const M=o.transformed.size.width/e.nativeElement.offsetWidth;let E,S;(f.canvasRotation+o.exifTransform.rotate)%2?(E=(o.transformed.size.width-o.original.size.height)/2,S=(o.transformed.size.height-o.original.size.width)/2):(E=(o.transformed.size.width-o.original.size.width)/2,S=(o.transformed.size.height-o.original.size.height)/2);const I={x1:Math.round(c.x1*M)-E,y1:Math.round(c.y1*M)-S,x2:Math.round(c.x2*M)-E,y2:Math.round(c.y2*M)-S};return f.containWithinAspectRatio||(I.x1=Math.max(I.x1,0),I.y1=Math.max(I.y1,0),I.x2=Math.min(I.x2,o.transformed.size.width),I.y2=Math.min(I.y2,o.transformed.size.height)),I}getResizeRatio(e,o,c){const f=c.resizeToWidth/e,v=c.resizeToHeight/o,_=new Array;c.resizeToWidth>0&&_.push(f),c.resizeToHeight>0&&_.push(v);const M=0===_.length?1:Math.min(..._);return M>1&&!c.onlyScaleDown?M:Math.min(M,1)}getQuality(e){return Math.min(1,Math.max(0,e.imageQuality/100))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,l.Yz7)({factory:function(){return new i},token:i,providedIn:"root"}),i})();class FX{constructor(){this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=void 0,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}setOptions(t){Object.keys(t).filter(e=>e in this).forEach(e=>this[e]=t[e]),this.validateOptions()}setOptionsFromChanges(t){Object.keys(t).filter(e=>e in this).forEach(e=>this[e]=t[e].currentValue),this.validateOptions()}validateOptions(){if(this.maintainAspectRatio&&!this.aspectRatio)throw new Error("`aspectRatio` should > 0 when `maintainAspectRatio` is enabled")}}let GX=(()=>{class i{constructor(){this.autoRotateSupported=new Promise(i=>{const t=new Image;t.onload=()=>{i(1===t.width&&2===t.height)},t.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}loadImageFile(e,o){return new Promise((c,f)=>{const v=new FileReader;v.onload=_=>{this.loadImage(_.target.result,e.type,o).then(c).catch(f)},v.readAsDataURL(e)})}loadImage(e,o,c){return this.isValidImageType(o)?this.loadBase64Image(e,c):Promise.reject(new Error("Invalid image type"))}isValidImageType(e){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(e)}loadImageFromURL(e,o){return new Promise((c,f)=>{const v=new Image;v.onerror=()=>f,v.onload=()=>{const _=document.createElement("canvas"),M=_.getContext("2d");_.width=v.width,_.height=v.height,M.drawImage(v,0,0),this.loadBase64Image(_.toDataURL(),o).then(c)},v.crossOrigin="anonymous",v.src=e})}loadBase64Image(e,o){return new Promise((c,f)=>{const v=new Image;v.onload=()=>c({originalImage:v,originalBase64:e}),v.onerror=f,v.src=e}).then(c=>this.transformImageBase64(c,o))}transformImageBase64(e,o){return CP(this,void 0,void 0,function*(){const c=yield this.autoRotateSupported,f=yield function(i){switch("string"==typeof i&&(i=function(i){const t=new DataView(function(i){i=i.replace(/^data\:([^\;]+)\;base64,/gim,"");const t=atob(i),e=t.length,o=new Uint8Array(e);for(let c=0;c<e;c++)o[c]=t.charCodeAt(c);return o.buffer}(i));if(65496!=t.getUint16(0,!1))return-2;const e=t.byteLength;let o=2;for(;o<e;){if(t.getUint16(o+2,!1)<=8)return-1;const c=t.getUint16(o,!1);if(o+=2,65505==c){if(1165519206!=t.getUint32(o+=2,!1))return-1;const f=18761==t.getUint16(o+=6,!1);o+=t.getUint32(o+4,f);const v=t.getUint16(o,f);o+=2;for(let _=0;_<v;_++)if(274==t.getUint16(o+12*_,f))return t.getUint16(o+12*_+8,f)}else{if(65280!=(65280&c))break;o+=t.getUint16(o,!1)}}return-1}(i)),i){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(c?-1:e.originalBase64);return e.originalImage&&e.originalImage.complete?this.transformLoadedImage({original:{base64:e.originalBase64,image:e.originalImage,size:{width:e.originalImage.naturalWidth,height:e.originalImage.naturalHeight}},exifTransform:f},o):Promise.reject(new Error("No image loaded"))})}transformLoadedImage(e,o){return CP(this,void 0,void 0,function*(){const c=o.canvasRotation+e.exifTransform.rotate,f={width:e.original.image.naturalWidth,height:e.original.image.naturalHeight};if(0===c&&!e.exifTransform.flip&&!o.containWithinAspectRatio)return{original:{base64:e.original.base64,image:e.original.image,size:Object.assign({},f)},transformed:{base64:e.original.base64,image:e.original.image,size:Object.assign({},f)},exifTransform:e.exifTransform};const v=this.getTransformedSize(f,e.exifTransform,o),_=document.createElement("canvas");_.width=v.width,_.height=v.height;const M=_.getContext("2d");M.setTransform(e.exifTransform.flip?-1:1,0,0,1,_.width/2,_.height/2),M.rotate(Math.PI*(c/2)),M.drawImage(e.original.image,-f.width/2,-f.height/2);const E=_.toDataURL(),S=yield this.loadImageFromBase64(E);return{original:{base64:e.original.base64,image:e.original.image,size:Object.assign({},f)},transformed:{base64:E,image:S,size:{width:S.width,height:S.height}},exifTransform:e.exifTransform}})}loadImageFromBase64(e){return new Promise((o,c)=>{const f=new Image;f.onload=()=>o(f),f.onerror=c,f.src=e})}getTransformedSize(e,o,c){const f=c.canvasRotation+o.rotate;if(c.containWithinAspectRatio){if(f%2){const _=e.height/c.aspectRatio;return{width:Math.max(e.height,e.width*c.aspectRatio),height:Math.max(e.width,_)}}{const _=e.width/c.aspectRatio;return{width:Math.max(e.width,e.height*c.aspectRatio),height:Math.max(e.height,_)}}}return f%2?{height:e.width,width:e.height}:{width:e.width,height:e.height}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,l.Yz7)({factory:function(){return new i},token:i,providedIn:"root"}),i})(),WX=(()=>{class i{resetCropperPosition(e,o,c){if(!(null==e?void 0:e.nativeElement))return;const f=e.nativeElement;if(c.cropperStaticHeight&&c.cropperStaticWidth)o.x1=0,o.x2=f.offsetWidth>c.cropperStaticWidth?c.cropperStaticWidth:f.offsetWidth,o.y1=0,o.y2=f.offsetHeight>c.cropperStaticHeight?c.cropperStaticHeight:f.offsetHeight;else{const v=Math.min(c.cropperScaledMaxWidth,f.offsetWidth),_=Math.min(c.cropperScaledMaxHeight,f.offsetHeight);if(c.maintainAspectRatio)if(v/c.aspectRatio<_){o.x1=0,o.x2=v;const M=v/c.aspectRatio;o.y1=(f.offsetHeight-M)/2,o.y2=o.y1+M}else{o.y1=0,o.y2=_;const M=_*c.aspectRatio;o.x1=(f.offsetWidth-M)/2,o.x2=o.x1+M}else o.x1=0,o.x2=v,o.y1=0,o.y2=_}}move(e,o,c){const f=this.getClientX(e)-o.clientX,v=this.getClientY(e)-o.clientY;c.x1=o.x1+f,c.y1=o.y1+v,c.x2=o.x2+f,c.y2=o.y2+v}resize(e,o,c,f,v){const _=this.getClientX(e)-o.clientX,M=this.getClientY(e)-o.clientY;switch(o.position){case"left":c.x1=Math.min(Math.max(o.x1+_,c.x2-v.cropperScaledMaxWidth),c.x2-v.cropperScaledMinWidth);break;case"topleft":c.x1=Math.min(Math.max(o.x1+_,c.x2-v.cropperScaledMaxWidth),c.x2-v.cropperScaledMinWidth),c.y1=Math.min(Math.max(o.y1+M,c.y2-v.cropperScaledMaxHeight),c.y2-v.cropperScaledMinHeight);break;case"top":c.y1=Math.min(Math.max(o.y1+M,c.y2-v.cropperScaledMaxHeight),c.y2-v.cropperScaledMinHeight);break;case"topright":c.x2=Math.max(Math.min(o.x2+_,c.x1+v.cropperScaledMaxWidth),c.x1+v.cropperScaledMinWidth),c.y1=Math.min(Math.max(o.y1+M,c.y2-v.cropperScaledMaxHeight),c.y2-v.cropperScaledMinHeight);break;case"right":c.x2=Math.max(Math.min(o.x2+_,c.x1+v.cropperScaledMaxWidth),c.x1+v.cropperScaledMinWidth);break;case"bottomright":c.x2=Math.max(Math.min(o.x2+_,c.x1+v.cropperScaledMaxWidth),c.x1+v.cropperScaledMinWidth),c.y2=Math.max(Math.min(o.y2+M,c.y1+v.cropperScaledMaxHeight),c.y1+v.cropperScaledMinHeight);break;case"bottom":c.y2=Math.max(Math.min(o.y2+M,c.y1+v.cropperScaledMaxHeight),c.y1+v.cropperScaledMinHeight);break;case"bottomleft":c.x1=Math.min(Math.max(o.x1+_,c.x2-v.cropperScaledMaxWidth),c.x2-v.cropperScaledMinWidth),c.y2=Math.max(Math.min(o.y2+M,c.y1+v.cropperScaledMaxHeight),c.y1+v.cropperScaledMinHeight);break;case"center":const E=e.scale,S=Math.min(Math.max(v.cropperScaledMinWidth,Math.abs(o.x2-o.x1)*E),v.cropperScaledMaxWidth),I=Math.min(Math.max(v.cropperScaledMinHeight,Math.abs(o.y2-o.y1)*E),v.cropperScaledMaxHeight);c.x1=o.clientX-S/2,c.x2=o.clientX+S/2,c.y1=o.clientY-I/2,c.y2=o.clientY+I/2,c.x1<0?(c.x2-=c.x1,c.x1=0):c.x2>f.width&&(c.x1-=c.x2-f.width,c.x2=f.width),c.y1<0?(c.y2-=c.y1,c.y1=0):c.y2>f.height&&(c.y1-=c.y2-f.height,c.y2=f.height)}v.maintainAspectRatio&&this.checkAspectRatio(o.position,c,f,v)}checkAspectRatio(e,o,c,f){let v=0,_=0;switch(e){case"top":o.x2=o.x1+(o.y2-o.y1)*f.aspectRatio,v=Math.max(o.x2-c.width,0),_=Math.max(0-o.y1,0),(v>0||_>0)&&(o.x2-=_*f.aspectRatio>v?_*f.aspectRatio:v,o.y1+=_*f.aspectRatio>v?_:v/f.aspectRatio);break;case"bottom":o.x2=o.x1+(o.y2-o.y1)*f.aspectRatio,v=Math.max(o.x2-c.width,0),_=Math.max(o.y2-c.height,0),(v>0||_>0)&&(o.x2-=_*f.aspectRatio>v?_*f.aspectRatio:v,o.y2-=_*f.aspectRatio>v?_:v/f.aspectRatio);break;case"topleft":o.y1=o.y2-(o.x2-o.x1)/f.aspectRatio,v=Math.max(0-o.x1,0),_=Math.max(0-o.y1,0),(v>0||_>0)&&(o.x1+=_*f.aspectRatio>v?_*f.aspectRatio:v,o.y1+=_*f.aspectRatio>v?_:v/f.aspectRatio);break;case"topright":o.y1=o.y2-(o.x2-o.x1)/f.aspectRatio,v=Math.max(o.x2-c.width,0),_=Math.max(0-o.y1,0),(v>0||_>0)&&(o.x2-=_*f.aspectRatio>v?_*f.aspectRatio:v,o.y1+=_*f.aspectRatio>v?_:v/f.aspectRatio);break;case"right":case"bottomright":o.y2=o.y1+(o.x2-o.x1)/f.aspectRatio,v=Math.max(o.x2-c.width,0),_=Math.max(o.y2-c.height,0),(v>0||_>0)&&(o.x2-=_*f.aspectRatio>v?_*f.aspectRatio:v,o.y2-=_*f.aspectRatio>v?_:v/f.aspectRatio);break;case"left":case"bottomleft":o.y2=o.y1+(o.x2-o.x1)/f.aspectRatio,v=Math.max(0-o.x1,0),_=Math.max(o.y2-c.height,0),(v>0||_>0)&&(o.x1+=_*f.aspectRatio>v?_*f.aspectRatio:v,o.y2-=_*f.aspectRatio>v?_:v/f.aspectRatio);break;case"center":o.x2=o.x1+(o.y2-o.y1)*f.aspectRatio,o.y2=o.y1+(o.x2-o.x1)/f.aspectRatio;const M=Math.max(0-o.x1,0),E=Math.max(o.x2-c.width,0),S=Math.max(o.y2-c.height,0),I=Math.max(0-o.y1,0);(M>0||E>0||S>0||I>0)&&(o.x1+=S*f.aspectRatio>M?S*f.aspectRatio:M,o.x2-=I*f.aspectRatio>E?I*f.aspectRatio:E,o.y1+=I*f.aspectRatio>E?I:E/f.aspectRatio,o.y2-=S*f.aspectRatio>M?S:M/f.aspectRatio)}}getClientX(e){return(e.touches&&e.touches[0]?e.touches[0].clientX:e.clientX)||0}getClientY(e){return(e.touches&&e.touches[0]?e.touches[0].clientY:e.clientY)||0}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,l.Yz7)({factory:function(){return new i},token:i,providedIn:"root"}),i})(),Eu=(()=>{class i{constructor(e,o,c,f,v){this.cropService=e,this.cropperPositionService=o,this.loadImageService=c,this.sanitizer=f,this.cd=v,this.Hammer="undefined"!=typeof window?window.Hammer:null,this.settings=new FX,this.setImageMaxSizeRetries=0,this.marginLeft="0px",this.moveTypes=Ea,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.imageCropped=new l.vpe,this.startCropImage=new l.vpe,this.imageLoaded=new l.vpe,this.cropperReady=new l.vpe,this.loadImageFailed=new l.vpe,this.reset()}ngOnChanges(e){this.onChangesUpdateSettings(e),this.onChangesInputImage(e),this.loadedImage&&this.loadedImage.original.image.complete&&(e.containWithinAspectRatio||e.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(o=>this.setLoadedImage(o)).catch(o=>this.loadImageError(o)),(e.cropper||e.maintainAspectRatio||e.aspectRatio)&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.maintainAspectRatio&&(e.maintainAspectRatio||e.aspectRatio)?this.resetCropperPosition():e.cropper&&(this.checkCropperPosition(!1),this.doAutoCrop()),this.cd.markForCheck()),e.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop())}onChangesUpdateSettings(e){this.settings.setOptionsFromChanges(e),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}onChangesInputImage(e){(e.imageChangedEvent||e.imageURL||e.imageBase64||e.imageFile)&&this.reset(),e.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),e.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),e.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),e.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}isValidImageChangedEvent(){return this.imageChangedEvent&&this.imageChangedEvent.target&&this.imageChangedEvent.target.files&&this.imageChangedEvent.target.files.length>0}setCssTransform(){this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle("scaleX("+(this.transform.scale||1)*(this.transform.flipH?-1:1)+")scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+")rotate("+(this.transform.rotate||0)+"deg)")}ngOnInit(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}reset(){this.imageVisible=!1,this.loadedImage=null,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}loadImageFile(e){this.loadImageService.loadImageFile(e,this.settings).then(o=>this.setLoadedImage(o)).catch(o=>this.loadImageError(o))}loadBase64Image(e){this.loadImageService.loadBase64Image(e,this.settings).then(o=>this.setLoadedImage(o)).catch(o=>this.loadImageError(o))}loadImageFromURL(e){this.loadImageService.loadImageFromURL(e,this.settings).then(o=>this.setLoadedImage(o)).catch(o=>this.loadImageError(o))}setLoadedImage(e){this.loadedImage=e,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(e.transformed.base64),this.cd.markForCheck()}loadImageError(e){console.error(e),this.loadImageFailed.emit()}imageLoadedInView(){null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(()=>this.checkImageMaxSizeRecursively()))}checkImageMaxSizeRecursively(){this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(()=>this.checkImageMaxSizeRecursively(),50))}sourceImageLoaded(){return this.sourceImage&&this.sourceImage.nativeElement&&this.sourceImage.nativeElement.offsetWidth>0}onResize(){!this.loadedImage||(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize())}activatePinchGesture(){if(this.Hammer){const e=new this.Hammer(this.wrapper.nativeElement);e.get("pinch").set({enable:!0}),e.on("pinchmove",this.onPinch.bind(this)),e.on("pinchend",this.pinchStop.bind(this)),e.on("pinchstart",this.startPinch.bind(this))}else(0,l.X6Q)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}resizeCropperPosition(){const e=this.sourceImage.nativeElement;(this.maxSize.width!==e.offsetWidth||this.maxSize.height!==e.offsetHeight)&&(this.cropper.x1=this.cropper.x1*e.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*e.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*e.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*e.offsetHeight/this.maxSize.height)}resetCropperPosition(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}keyboardAccess(e){this.changeKeyboardStepSize(e),this.keyboardMoveCropper(e)}changeKeyboardStepSize(e){e.key>="1"&&e.key<="9"&&(this.settings.stepSize=+e.key)}keyboardMoveCropper(e){if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(e.key))return;const c=e.shiftKey?Ea.Resize:Ea.Move,f=e.altKey?function(i){switch(i){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}(e.key):function(i){switch(i){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}(e.key),v=function(i,t){switch(i){case"ArrowUp":return{clientX:0,clientY:-1*t};case"ArrowRight":return{clientX:t,clientY:0};case"ArrowDown":return{clientX:0,clientY:t};case"ArrowLeft":default:return{clientX:-1*t,clientY:0}}}(e.key,this.settings.stepSize);e.preventDefault(),e.stopPropagation(),this.startMove({clientX:0,clientY:0},c,f),this.moveImg(v),this.moveStop()}startMove(e,o,c=null){this.moveStart&&this.moveStart.active&&this.moveStart.type===Ea.Pinch||(e.preventDefault&&e.preventDefault(),this.moveStart=Object.assign({active:!0,type:o,position:c,clientX:this.cropperPositionService.getClientX(e),clientY:this.cropperPositionService.getClientY(e)},this.cropper))}startPinch(e){!this.safeImgDataUrl||(e.preventDefault&&e.preventDefault(),this.moveStart=Object.assign({active:!0,type:Ea.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}moveImg(e){this.moveStart.active&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.moveStart.type===Ea.Move?(this.cropperPositionService.move(e,this.moveStart,this.cropper),this.checkCropperPosition(!0)):this.moveStart.type===Ea.Resize&&(!this.cropperStaticWidth&&!this.cropperStaticHeight&&this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}onPinch(e){this.moveStart.active&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.moveStart.type===Ea.Pinch&&(this.cropperPositionService.resize(e,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}setMaxSize(){if(this.sourceImage){const e=this.sourceImage.nativeElement;this.maxSize.width=e.offsetWidth,this.maxSize.height=e.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}setCropperScaledMinSize(){this.loadedImage&&this.loadedImage.transformed&&this.loadedImage.transformed.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}setCropperScaledMinWidth(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}setCropperScaledMinHeight(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}setCropperScaledMaxSize(){if(this.loadedImage&&this.loadedImage.transformed&&this.loadedImage.transformed.image){const e=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/e:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/e:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}checkCropperPosition(e=!1){this.cropper.x1<0&&(this.cropper.x2-=e?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=e?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=e?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=e?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}moveStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}pinchStop(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}doAutoCrop(){this.autoCrop&&this.crop()}crop(){if(this.sourceImage&&this.sourceImage.nativeElement&&null!=this.loadedImage.transformed.image){this.startCropImage.emit();const e=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=e&&this.imageCropped.emit(e),e}return null}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(PX),l.Y36(WX),l.Y36(GX),l.Y36(d2),l.Y36(l.sBO))},i.\u0275cmp=l.Xpm({type:i,selectors:[["image-cropper"]],viewQuery:function(e,o){if(1&e&&(l.Gf(LX,7),l.Gf(RX,5)),2&e){let c;l.iGM(c=l.CRH())&&(o.wrapper=c.first),l.iGM(c=l.CRH())&&(o.sourceImage=c.first)}},hostVars:4,hostBindings:function(e,o){1&e&&l.NdJ("resize",function(){return o.onResize()},!1,l.Jf7)("mousemove",function(f){return o.moveImg(f)},!1,l.evT)("touchmove",function(f){return o.moveImg(f)},!1,l.evT)("mouseup",function(){return o.moveStop()},!1,l.evT)("touchend",function(){return o.moveStop()},!1,l.evT),2&e&&(l.Udp("text-align",o.alignImage),l.ekj("disabled",o.disabled))},inputs:{format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed"},features:[l.TTD],decls:5,vars:10,consts:[["wrapper",""],["class","source-image",3,"src","visibility","transform","load",4,"ngIf"],[1,"overlay"],["class","cropper","tabindex","0",3,"rounded","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"source-image",3,"src","load"],["sourceImage",""],["tabindex","0",1,"cropper",3,"keydown"],[1,"move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"resize","topleft",3,"mousedown","touchstart"],[1,"square"],[1,"resize","top"],[1,"resize","topright",3,"mousedown","touchstart"],[1,"resize","right"],[1,"resize","bottomright",3,"mousedown","touchstart"],[1,"resize","bottom"],[1,"resize","bottomleft",3,"mousedown","touchstart"],[1,"resize","left"],[1,"resize-bar","top",3,"mousedown","touchstart"],[1,"resize-bar","right",3,"mousedown","touchstart"],[1,"resize-bar","bottom",3,"mousedown","touchstart"],[1,"resize-bar","left",3,"mousedown","touchstart"]],template:function(e,o){1&e&&(l.TgZ(0,"div",null,0),l.YNc(2,VX,2,5,"img",1),l._UZ(3,"div",2),l.YNc(4,OX,3,15,"div",3),l.qZA()),2&e&&(l.Udp("background",o.imageVisible&&o.backgroundColor),l.xp6(2),l.Q6J("ngIf",o.safeImgDataUrl),l.xp6(1),l.Udp("width",o.maxSize.width,"px")("height",o.maxSize.height,"px")("margin-left","center"===o.alignImage?o.marginLeft:null),l.xp6(1),l.Q6J("ngIf",o.imageVisible))},directives:[S1],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color,#fff) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:0 0;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color,rgba(255,255,255,.3)) solid 100vw;touch-action:none}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;bottom:0;left:0;right:0;pointer-events:none;border:1px dashed;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:focus   .move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw rgba(255,255,255,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,rgba(255,255,255,.3))}@media (orientation:portrait){[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{outline-width:100vh}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh rgba(255,255,255,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,rgba(255,255,255,.3))}}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{display:none}'],changeDetection:0}),i})(),JX=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({imports:[[z3]]}),i})();function zu(i){return(zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(i)}function wP(i,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function eee(i,t,e){return t in i?Object.defineProperty(i,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):i[t]=e,i}function J1(i){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},o=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable}))),o.forEach(function(c){eee(i,c,e[c])})}return i}function cT(i,t){return function(i){if(Array.isArray(i))return i}(i)||function(i,t){var e=[],o=!0,c=!1,f=void 0;try{for(var _,v=i[Symbol.iterator]();!(o=(_=v.next()).done)&&(e.push(_.value),!t||e.length!==t);o=!0);}catch(M){c=!0,f=M}finally{try{!o&&null!=v.return&&v.return()}finally{if(c)throw f}}return e}(i,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var uT={},EP={};try{"undefined"!=typeof window&&(uT=window),"undefined"!=typeof document&&(EP=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(i){}var SP=(uT.navigator||{}).userAgent,TP=void 0===SP?"":SP,r5=uT,A2=EP,M6=!!A2.documentElement&&!!A2.head&&"function"==typeof A2.addEventListener&&"function"==typeof A2.createElement,w6=(~TP.indexOf("MSIE")||TP.indexOf("Trident/"),"___FONT_AWESOME___"),LP="svg-inline--fa",OP=[1,2,3,4,5,6,7,8,9,10],gee=OP.concat([11,12,13,14,15,16,17,18,19,20]),Ms={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},HP=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",Ms.GROUP,Ms.SWAP_OPACITY,Ms.PRIMARY,Ms.SECONDARY].concat(OP.map(function(i){return"".concat(i,"x")})).concat(gee.map(function(i){return"w-".concat(i)})),r5.FontAwesomeConfig||{});A2&&"function"==typeof A2.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(i){var t=cT(i,2),o=t[1],c=function(i){return""===i||"false"!==i&&("true"===i||i)}(function(i){var t=A2.querySelector("script["+i+"]");if(t)return t.getAttribute(i)}(t[0]));null!=c&&(HP[o]=c)});var dT=J1({},{familyPrefix:"fa",replacementClass:LP,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},HP);dT.autoReplaceSvg||(dT.observeMutations=!1);var O1=J1({},dT);r5.FontAwesomeConfig=O1;var A6=r5||{};A6[w6]||(A6[w6]={}),A6[w6].styles||(A6[w6].styles={}),A6[w6].hooks||(A6[w6].hooks={}),A6[w6].shims||(A6[w6].shims=[]);var xi=A6[w6],PP=[];M6&&((A2.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(A2.readyState)||A2.addEventListener("DOMContentLoaded",function i(){A2.removeEventListener("DOMContentLoaded",i),PP.map(function(t){return t()})}));var mT,pT="pending",FP="settled",$g="fulfilled",Qg="rejected",zee=function(){},UP="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,xee="undefined"==typeof setImmediate?setTimeout:setImmediate,xu=[];function See(){for(var i=0;i<xu.length;i++)xu[i][0](xu[i][1]);xu=[],mT=!1}function Yg(i,t){xu.push([i,t]),mT||(mT=!0,xee(See,0))}function ZP(i){var t=i.owner,e=t._state,o=t._data,c=i[e],f=i.then;if("function"==typeof c){e=$g;try{o=c(o)}catch(v){Su(f,v)}}BP(f,o)||(e===$g&&vT(f,o),e===Qg&&Su(f,o))}function BP(i,t){var e;try{if(i===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"==typeof t||"object"===zu(t))){var o=t.then;if("function"==typeof o)return o.call(t,function(c){e||(e=!0,t===c?jP(i,c):vT(i,c))},function(c){e||(e=!0,Su(i,c))}),!0}}catch(c){return e||Su(i,c),!0}return!1}function vT(i,t){(i===t||!BP(i,t))&&jP(i,t)}function jP(i,t){i._state===pT&&(i._state=FP,i._data=t,Yg(Nee,i))}function Su(i,t){i._state===pT&&(i._state=FP,i._data=t,Yg(Iee,i))}function qP(i){i._then=i._then.forEach(ZP)}function Nee(i){i._state=$g,qP(i)}function Iee(i){i._state=Qg,qP(i),!i._handled&&UP&&global.process.emit("unhandledRejection",i._data,i)}function Dee(i){global.process.emit("rejectionHandled",i)}function Wr(i){if("function"!=typeof i)throw new TypeError("Promise resolver "+i+" is not a function");if(!(this instanceof Wr))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(i,t){function o(c){Su(t,c)}try{i(function(c){vT(t,c)},o)}catch(c){o(c)}}(i,this)}Wr.prototype={constructor:Wr,_state:pT,_then:null,_data:void 0,_handled:!1,then:function(t,e){var o={owner:this,then:new this.constructor(zee),fulfilled:t,rejected:e};return(e||t)&&!this._handled&&(this._handled=!0,this._state===Qg&&UP&&Yg(Dee,this)),this._state===$g||this._state===Qg?Yg(ZP,o):this._then.push(o),o.then},catch:function(t){return this.then(null,t)}},Wr.all=function(i){if(!Array.isArray(i))throw new TypeError("You must pass an array to Promise.all().");return new Wr(function(t,e){var o=[],c=0;function f(M){return c++,function(E){o[M]=E,--c||t(o)}}for(var _,v=0;v<i.length;v++)(_=i[v])&&"function"==typeof _.then?_.then(f(v),e):o[v]=_;c||t(o)})},Wr.race=function(i){if(!Array.isArray(i))throw new TypeError("You must pass an array to Promise.race().");return new Wr(function(t,e){for(var c,o=0;o<i.length;o++)(c=i[o])&&"function"==typeof c.then?c.then(t,e):t(c)})},Wr.resolve=function(i){return i&&"object"===zu(i)&&i.constructor===Wr?i:new Wr(function(t){t(i)})},Wr.reject=function(i){return new Wr(function(t,e){e(i)})};var E6={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Tu(){for(var i=12,t="";i-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function WP(i){return"".concat(i).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Jg(i){return Object.keys(i||{}).reduce(function(t,e){return t+"".concat(e,": ").concat(i[e],";")},"")}function yT(i){return i.size!==E6.size||i.x!==E6.x||i.y!==E6.y||i.rotate!==E6.rotate||i.flipX||i.flipY}function $P(i){var t=i.transform,o=i.iconWidth,c={transform:"translate(".concat(i.containerWidth/2," 256)")},f="translate(".concat(32*t.x,", ").concat(32*t.y,") "),v="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),_="rotate(".concat(t.rotate," 0 0)");return{outer:c,inner:{transform:"".concat(f," ").concat(v," ").concat(_)},path:{transform:"translate(".concat(o/2*-1," -256)")}}}var _T={x:0,y:0,width:"100%",height:"100%"};function QP(i){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return i.attributes&&(i.attributes.fill||t)&&(i.attributes.fill="black"),i}function Hee(i){return"g"===i.tag?i.children:[i]}function bT(i){var t=i.icons,e=t.main,o=t.mask,c=i.prefix,f=i.iconName,v=i.transform,_=i.symbol,M=i.title,E=i.maskId,S=i.titleId,I=i.extra,R=i.watchable,O=void 0!==R&&R,U=o.found?o:e,J=U.width,le=U.height,ge="fak"===c,Ae=ge?"":"fa-w-".concat(Math.ceil(J/le*16)),xe=[O1.replacementClass,f?"".concat(O1.familyPrefix,"-").concat(f):"",Ae].filter(function($r){return-1===I.classes.indexOf($r)}).filter(function($r){return""!==$r||!!$r}).concat(I.classes).join(" "),Re={children:[],attributes:J1({},I.attributes,{"data-prefix":c,"data-icon":f,class:xe,role:I.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(J," ").concat(le)})},Ve=ge&&!~I.classes.indexOf("fa-fw")?{width:"".concat(J/le*16*.0625,"em")}:{};O&&(Re.attributes["data-fa-i2svg"]=""),M&&Re.children.push({tag:"title",attributes:{id:Re.attributes["aria-labelledby"]||"title-".concat(S||Tu())},children:[M]});var i1=J1({},Re,{prefix:c,iconName:f,main:e,mask:o,maskId:E,transform:v,symbol:_,styles:J1({},Ve,I.styles)}),K1=o.found&&e.found?function(i){var t=i.children,e=i.attributes,o=i.main,c=i.mask,f=i.maskId,M=o.icon,S=c.icon,I=$P({transform:i.transform,containerWidth:c.width,iconWidth:o.width}),R={tag:"rect",attributes:J1({},_T,{fill:"white"})},O=M.children?{children:M.children.map(QP)}:{},U={tag:"g",attributes:J1({},I.inner),children:[QP(J1({tag:M.tag,attributes:J1({},M.attributes,I.path)},O))]},J={tag:"g",attributes:J1({},I.outer),children:[U]},le="mask-".concat(f||Tu()),ge="clip-".concat(f||Tu()),Ae={tag:"mask",attributes:J1({},_T,{id:le,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[R,J]},xe={tag:"defs",children:[{tag:"clipPath",attributes:{id:ge},children:Hee(S)},Ae]};return t.push(xe,{tag:"rect",attributes:J1({fill:"currentColor","clip-path":"url(#".concat(ge,")"),mask:"url(#".concat(le,")")},_T)}),{children:t,attributes:e}}(i1):function(i){var t=i.children,e=i.attributes,o=i.main,c=i.transform,v=Jg(i.styles);if(v.length>0&&(e.style=v),yT(c)){var _=$P({transform:c,containerWidth:o.width,iconWidth:o.width});t.push({tag:"g",attributes:J1({},_.outer),children:[{tag:"g",attributes:J1({},_.inner),children:[{tag:o.icon.tag,children:o.icon.children,attributes:J1({},o.icon.attributes,_.path)}]}]})}else t.push(o.icon);return{children:t,attributes:e}}(i1),Vt=K1.attributes;return i1.children=K1.children,i1.attributes=Vt,_?function(i){var e=i.iconName,o=i.children,f=i.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:J1({},i.attributes,{id:!0===f?"".concat(i.prefix,"-").concat(O1.familyPrefix,"-").concat(e):f}),children:o}]}]}(i1):function(i){var t=i.children,e=i.main,o=i.mask,c=i.attributes,f=i.styles,v=i.transform;if(yT(v)&&e.found&&!o.found){var E={x:e.width/e.height/2,y:.5};c.style=Jg(J1({},f,{"transform-origin":"".concat(E.x+v.x/16,"em ").concat(E.y+v.y/16,"em")}))}return[{tag:"svg",attributes:c,children:t}]}(i1)}var wT=function(t,e,o,c){var M,E,S,f=Object.keys(t),v=f.length,_=void 0!==c?function(t,e){return function(o,c,f,v){return t.call(e,o,c,f,v)}}(e,c):e;for(void 0===o?(M=1,S=t[f[0]]):(M=0,S=o);M<v;M++)S=_(S,t[E=f[M]],E,t);return S};function eF(i,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.skipHooks,c=void 0!==o&&o,f=Object.keys(t).reduce(function(v,_){var M=t[_];return M.icon?v[M.iconName]=M.icon:v[_]=M,v},{});"function"!=typeof xi.hooks.addPack||c?xi.styles[i]=J1({},xi.styles[i]||{},f):xi.hooks.addPack(i,f),"fas"===i&&eF("fa",t)}var tF=xi.styles,Gee=xi.shims,oF=function(){var t=function(c){return wT(tF,function(f,v,_){return f[_]=wT(v,c,{}),f},{})};t(function(o,c,f){return c[3]&&(o[c[3]]=f),o}),t(function(o,c,f){var v=c[2];return o[f]=f,v.forEach(function(_){o[_]=f}),o});var e="far"in tF;wT(Gee,function(o,c){var v=c[1];return"far"===v&&!e&&(v="fas"),o[c[0]]={prefix:v,iconName:c[2]},o},{})};function sF(i,t,e){if(i&&i[t]&&i[t][e])return{prefix:t,iconName:e,icon:i[t][e]}}function a5(i){var t=i.tag,e=i.attributes,o=void 0===e?{}:e,c=i.children,f=void 0===c?[]:c;return"string"==typeof i?WP(i):"<".concat(t," ").concat(function(i){return Object.keys(i||{}).reduce(function(t,e){return t+"".concat(e,'="').concat(WP(i[e]),'" ')},"").trim()}(o),">").concat(f.map(a5).join(""),"</").concat(t,">")}oF();function Iu(i){this.name="MissingIcon",this.message=i||"Icon unavailable",this.stack=(new Error).stack}(Iu.prototype=Object.create(Error.prototype)).constructor=Iu;var ey={fill:"currentColor"},dF={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},xT=(J1({},ey,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),J1({},dF,{attributeName:"opacity"}));function TT(i){var t=i[0],e=i[1],f=cT(i.slice(4),1)[0];return{found:!0,width:t,height:e,icon:Array.isArray(f)?{tag:"g",attributes:{class:"".concat(O1.familyPrefix,"-").concat(Ms.GROUP)},children:[{tag:"path",attributes:{class:"".concat(O1.familyPrefix,"-").concat(Ms.SECONDARY),fill:"currentColor",d:f[0]}},{tag:"path",attributes:{class:"".concat(O1.familyPrefix,"-").concat(Ms.PRIMARY),fill:"currentColor",d:f[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:f}}}}function Du(){O1.autoAddCss&&!ry&&(function(i){if(i&&M6){var t=A2.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=i;for(var e=A2.head.childNodes,o=null,c=e.length-1;c>-1;c--){var f=e[c],v=(f.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(v)>-1&&(o=f)}A2.head.insertBefore(t,o)}}(function(){var i="fa",t=LP,e=O1.familyPrefix,o=O1.replacementClass,c='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(e!==i||o!==t){var f=new RegExp("\\.".concat(i,"\\-"),"g"),v=new RegExp("\\--".concat(i,"\\-"),"g"),_=new RegExp("\\.".concat(t),"g");c=c.replace(f,".".concat(e,"-")).replace(v,"--".concat(e,"-")).replace(_,".".concat(o))}return c}()),ry=!0)}function ty(i,t){return Object.defineProperty(i,"abstract",{get:t}),Object.defineProperty(i,"html",{get:function(){return i.abstract.map(function(o){return a5(o)})}}),Object.defineProperty(i,"node",{get:function(){if(M6){var o=A2.createElement("div");return o.innerHTML=i.html,o.children}}}),i}function ny(i){var t=i.prefix,e=void 0===t?"fa":t,o=i.iconName;if(o)return sF(yF.definitions,e,o)||sF(xi.styles,e,o)}J1({},ey,{cx:"256",cy:"364",r:"28"}),J1({},dF,{attributeName:"r",values:"28;14;28;28;14;28;"}),J1({},xT,{values:"1;0;1;1;0;1;"}),J1({},ey,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),J1({},xT,{values:"1;0;0;0;0;1;"}),J1({},ey,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),J1({},xT,{values:"0;0;1;1;0;0;"});var yF=new(function(){function i(){(function(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")})(this,i),this.definitions={}}return function(i,t,e){t&&wP(i.prototype,t)}(i,[{key:"add",value:function(){for(var e=this,o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];var v=c.reduce(this._pullDefinitions,{});Object.keys(v).forEach(function(_){e.definitions[_]=J1({},e.definitions[_]||{},v[_]),eF(_,v[_]),oF()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,o){var c=o.prefix&&o.iconName&&o.icon?{0:o}:o;return Object.keys(c).map(function(f){var v=c[f],_=v.prefix,M=v.iconName,E=v.icon;e[_]||(e[_]={}),e[_][M]=E}),e}}]),i}()),ry=!1,DT_transform=function(t){return function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce(function(o,c){var f=c.toLowerCase().split("-"),v=f[0],_=f.slice(1).join("-");if(v&&"h"===_)return o.flipX=!0,o;if(v&&"v"===_)return o.flipY=!0,o;if(_=parseFloat(_),isNaN(_))return o;switch(v){case"grow":o.size=o.size+_;break;case"shrink":o.size=o.size-_;break;case"left":o.x=o.x-_;break;case"right":o.x=o.x+_;break;case"up":o.y=o.y-_;break;case"down":o.y=o.y+_;break;case"rotate":o.rotate=o.rotate+_}return o},e):e}(t)},_F=function(i){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(t||{}).icon?t:ny(t||{}),c=e.mask;return c&&(c=(c||{}).icon?c:ny(c||{})),i(o,J1({},e,{mask:c}))}}(function(i){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.transform,o=void 0===e?E6:e,c=t.symbol,f=void 0!==c&&c,v=t.mask,_=void 0===v?null:v,M=t.maskId,E=void 0===M?null:M,S=t.title,I=void 0===S?null:S,R=t.titleId,O=void 0===R?null:R,U=t.classes,J=void 0===U?[]:U,le=t.attributes,ge=void 0===le?{}:le,Ae=t.styles,xe=void 0===Ae?{}:Ae;if(i){var Re=i.prefix,Ve=i.iconName,i1=i.icon;return ty(J1({type:"icon"},i),function(){return Du(),O1.autoA11y&&(I?ge["aria-labelledby"]="".concat(O1.replacementClass,"-title-").concat(O||Tu()):(ge["aria-hidden"]="true",ge.focusable="false")),bT({icons:{main:TT(i1),mask:_?TT(_.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Re,iconName:Ve,transform:J1({},E6,o),symbol:f,title:I,maskId:E,titleId:O,extra:{attributes:ge,styles:xe,classes:J}})})}});const MF=["*"];let wF=(()=>{class i{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this.globalLibrary=!1}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,l.Yz7)({factory:function(){return new i},token:i,providedIn:"root"}),i})(),S1e=(()=>{class i{constructor(){this.definitions={}}addIcons(...e){for(const o of e)o.prefix in this.definitions||(this.definitions[o.prefix]={}),this.definitions[o.prefix][o.iconName]=o}addIconPacks(...e){for(const o of e){const c=Object.keys(o).map(f=>o[f]);this.addIcons(...c)}}getIconDefinition(e,o){return e in this.definitions&&o in this.definitions[e]?this.definitions[e][o]:null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,l.Yz7)({factory:function(){return new i},token:i,providedIn:"root"}),i})();const AF=i=>{const t={"fa-spin":i.spin,"fa-pulse":i.pulse,"fa-fw":i.fixedWidth,"fa-border":i.border,"fa-inverse":i.inverse,"fa-layers-counter":i.counter,"fa-flip-horizontal":"horizontal"===i.flip||"both"===i.flip,"fa-flip-vertical":"vertical"===i.flip||"both"===i.flip,[`fa-${i.size}`]:null!==i.size,[`fa-rotate-${i.rotate}`]:null!==i.rotate,[`fa-pull-${i.pull}`]:null!==i.pull,[`fa-stack-${i.stackItemSize}`]:null!=i.stackItemSize};return Object.keys(t).map(e=>t[e]?e:null).filter(e=>e)};let L1e=(()=>{class i{constructor(){this.stackItemSize="1x"}ngOnChanges(e){if("size"in e)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=l.lG2({type:i,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[l.TTD]}),i})(),R1e=(()=>{class i{constructor(e,o){this.renderer=e,this.elementRef=o}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(e){"size"in e&&(null!=e.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${e.size.currentValue}`),null!=e.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${e.size.previousValue}`))}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(l.Qsj),l.Y36(l.SBq))},i.\u0275cmp=l.Xpm({type:i,selectors:[["fa-stack"]],inputs:{size:"size"},features:[l.TTD],ngContentSelectors:MF,decls:1,vars:0,template:function(e,o){1&e&&(l.F$t(),l.Hsn(0))},encapsulation:2}),i})(),_3=(()=>{class i{constructor(e,o,c,f,v){this.sanitizer=e,this.config=o,this.iconLibrary=c,this.stackItem=f,this.classes=[],null!=v&&null==f&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(e){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let o=null;if(o=null==this.icon?this.config.fallbackIcon:this.icon,e){const c=this.findIconDefinition(o);if(null!=c){const f=this.buildParams();this.renderIcon(c,f)}}}render(){this.ngOnChanges({})}findIconDefinition(e){const o=((i,t)=>(i=>void 0!==i.prefix&&void 0!==i.iconName)(i)?i:Array.isArray(i)&&2===i.length?{prefix:i[0],iconName:i[1]}:"string"==typeof i?{prefix:t,iconName:i}:void 0)(e,this.config.defaultPrefix);if("icon"in o)return o;const c=this.iconLibrary.getIconDefinition(o.prefix,o.iconName);if(null!=c)return c;const f=ny(o);if(null!=f){const v="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+v);else if(!this.config.globalLibrary)throw new Error(v);return f}return(i=>{throw new Error(`Could not find icon with iconName=${i.iconName} and prefix=${i.prefix} in the icon library.`)})(o),null}buildParams(){const e={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},o="string"==typeof this.transform?DT_transform(this.transform):this.transform;return{title:this.title,transform:o,classes:[...AF(e),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(e,o){const c=_F(e,o);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(c.html.join("\n"))}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(d2),l.Y36(wF),l.Y36(S1e),l.Y36(L1e,8),l.Y36(R1e,8))},i.\u0275cmp=l.Xpm({type:i,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(e,o){2&e&&(l.Ikx("innerHTML",o.renderedIconHTML,l.oJD),l.uIk("title",o.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[l.TTD],decls:0,vars:0,template:function(e,o){},encapsulation:2}),i})(),V1e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({}),i})();const k1e=["inputFile"];function O1e(i,t){if(1&i){const e=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.ALo(5,"date"),l.qZA(),l.TgZ(6,"td"),l.TgZ(7,"button",39),l.NdJ("click",function(){const f=l.CHM(e).$implicit;return l.oxw().setEvent(f)}),l._uU(8,"Editar"),l.qZA(),l.TgZ(9,"button",40),l.NdJ("click",function(){const f=l.CHM(e).$implicit;return l.oxw().setEvent(f)}),l._uU(10,"Excluir"),l.qZA(),l.qZA(),l.qZA()}if(2&i){const e=t.$implicit;l.xp6(2),l.Oqu(e.name),l.xp6(2),l.Oqu(l.xi3(5,2,e.date,"dd/MM/YY"))}}function H1e(i,t){if(1&i){const e=l.EpF();l.TgZ(0,"div",41),l.TgZ(1,"div",42),l._UZ(2,"img",43),l.TgZ(3,"div",44),l.TgZ(4,"a",45),l.NdJ("click",function(){return l.CHM(e),l.oxw().deleteImage()}),l._UZ(5,"fa-icon",46),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&i){const e=l.oxw();l.xp6(2),l.Q6J("src",e.form.value.photoURL,l.LSH),l.xp6(3),l.Q6J("icon",e.faTrash)}}function P1e(i,t){if(1&i){const e=l.EpF();l.TgZ(0,"div",22),l.TgZ(1,"label",47),l._uU(2,"Imagem"),l.qZA(),l.TgZ(3,"input",48,49),l.NdJ("change",function(c){return l.CHM(e),l.oxw().fileChangeEvent(c)}),l.qZA(),l.qZA()}}let F1e=(()=>{class i{constructor(e,o,c){this._blogService=e,this._formBuilder=o,this._uploadService=c,this._unsubscribeAll=new Nt.xQ,this.faTrash=vc,this.blogs=[],this.imageChangedEvent="",this.croppedImage="",this.search="",this.disable_next=!1,this.disable_prev=!0,this.first=[],this.firstInResponse=[],this.lastInResponse=[],this.limit=10,this.todayDate=(new Date).toLocaleDateString()}ngOnInit(){console.log(this.todayDate),this.form=this._formBuilder.group({id:[""],name:["",[t2.required]],name_where:[""],date:[""],description:[""],content:[""],photoURL:[""],thumbnailURL:[""]}),this.getAll()}setEvent(e){this.form.reset(),this.inputImage&&(this.inputImage.nativeElement.value=""),e&&this.form.patchValue(e)}getAll(){this._blogService.getAll(this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!0,!1,!1)})}prev(){this._blogService.prev(this.search,this.firstInResponse,this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!1,!0,!1)})}next(){this._blogService.next(this.search,this.lastInResponse,this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!1,!1,!0)})}find(){this._blogService.find(this.search,this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!0,!1,!1)})}pagination(e,o,c,f){if(e.length>0){this.disable_prev=!1,this.disable_next=!1,this.firstInResponse=e[0].payload.doc,this.lastInResponse=e[e.length-1].payload.doc;let v=e.map(_=>Object.assign({id:_.payload.doc.id},_.payload.doc.data()));this.blogs=v,o?(this.first=this.firstInResponse,this.disable_prev=!0):this.first.id===this.firstInResponse.id&&(this.disable_prev=!0),this.blogs.length<this.limit&&(this.disable_next=!0)}else o?(this.disable_prev=!0,this.disable_next=!0):c?this.disable_prev=!0:f&&(this.disable_next=!0)}save(){this.form.invalid||(this.form.disable(),this.form.patchValue({name_where:this.form.value.name.toLowerCase()}),this.form.value.id?this._blogService.update(this.form.value.id,this.form.value).then(()=>{this.form.enable(),this.form.reset(),$("#editModal").modal("hide"),console.log("Update item successfully!")}).catch(e=>{this.form.enable(),console.log(e)}):this._blogService.create(this.form.value).then(()=>{this.form.enable(),this.form.reset(),$("#editModal").modal("hide"),this.getAll(),console.log("Created new item successfully!")}).catch(e=>{this.form.enable(),console.log(e)}))}delete(){this._blogService.delete(this.form.value.id).then(()=>{this.form.enable(),this.form.reset(),$("#deleteModal").modal("hide"),this.getAll(),console.log("Delete item successfully!")}).catch(e=>console.log(e))}upload(){const e=this.croppedImage,{downloadUrl$:o,uploadProgress$:c}=this._uploadService.pushFileToStorage(e);c.pipe(nt(this._unsubscribeAll)).subscribe(f=>{this.percentage=Math.round(f)}),o.pipe(nt(this._unsubscribeAll)).subscribe(f=>{const[v,_]=f.split(".jpeg");this.form.patchValue({photoURL:v+".jpeg?alt=media",thumbnailURL:v+"_60x60.jpeg?alt=media"}),this.inputImage.nativeElement.value="",$("#cropperModal").modal("hide")})}fileChangeEvent(e){$("#cropperModal").modal("show"),this.imageChangedEvent=e}imageCropped(e){this.croppedImage=e.base64}deleteImage(){this._uploadService.deleteFile(this.form.value.photoURL).then(()=>{this._uploadService.deleteFile(this.form.value.thumbnailURL).then(()=>{this.form.patchValue({photoURL:"",thumbnailURL:""}),this.form.value.id&&this.save()}).catch(e=>{this.form.patchValue({photoURL:"",thumbnailURL:""}),this.form.value.id&&this.save()})}).catch(e=>console.log(e))}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(SS),l.Y36(Cs),l.Y36(Au))},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-blogs"]],viewQuery:function(e,o){if(1&e&&l.Gf(k1e,5),2&e){let c;l.iGM(c=l.CRH())&&(o.inputImage=c.first)}},decls:93,vars:16,consts:[[1,"d-flex","bd-highlight","mb-3"],[1,"me-auto","bd-highlight"],[1,"bd-highlight"],["type","button","data-bs-toggle","modal","data-bs-target","#editModal",1,"btn","btn-outline-primary",3,"click"],[1,"pb-3","bg-highlight"],["type","search","placeholder","Pesquisar por nome...","aria-label","Search",1,"form-control",3,"ngModel","ngModelChange","keyup","change"],[1,"table-responsive"],[1,"table","table-sm","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["colspan","6",2,"text-align","end"],["type","button",1,"btn","btn-secondary","btn-sm","m-1",3,"disabled","click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"disabled","click"],["id","editModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true","data-bs-keyboard","false",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","g-3",3,"formGroup"],["class","col-md-12 text-center",4,"ngIf"],[1,"col-md-12"],[1,"form-label"],["type","text",1,"form-control",3,"formControlName"],["type","date",1,"form-control",3,"formControlName"],["rows","4","cols","50",1,"form-control",3,"formControlName"],["class","col-md-12",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["id","deleteModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade"],["type","button",1,"btn","btn-primary",3,"click"],["id","cropperModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"row"],[1,"col-md-6"],["format","jpeg","resizeToWidth","700","onlyScaleDown","true","imageQuality","80",1,"croppedImage3","p-0",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","imageCropped"],[1,"croppedImage3",3,"src"],["type","button","data-bs-toggle","modal","data-bs-target","#editModal",1,"btn","btn-secondary","btn-sm",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger","btn-sm",2,"margin-left","10px",3,"click"],[1,"col-md-12","text-center"],[1,"container-image"],["alt","Image","width","150","height","150",1,"rounded-circle",3,"src"],[1,"overlay"],["title","Excluir Imagem",1,"play-icon",3,"click"],[1,"detele-icon",3,"icon"],["for","formFile",1,"form-label"],["type","file","accept",".jpg,.jpeg",1,"form-control",3,"change"],["inputFile",""]],template:function(e,o){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h2"),l._uU(3,"Not\xedcias"),l.qZA(),l.qZA(),l.TgZ(4,"div",2),l.TgZ(5,"button",3),l.NdJ("click",function(){return o.setEvent(null)}),l._uU(6,"Novo"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(7,"div",4),l.TgZ(8,"input",5),l.NdJ("ngModelChange",function(f){return o.search=f})("keyup",function(){return o.find()})("change",function(){return o.find()}),l.qZA(),l.qZA(),l.TgZ(9,"div",6),l.TgZ(10,"table",7),l.TgZ(11,"thead"),l.TgZ(12,"tr"),l.TgZ(13,"th",8),l._uU(14,"Nome"),l.qZA(),l.TgZ(15,"th",8),l._uU(16,"Data"),l.qZA(),l.TgZ(17,"th",8),l._uU(18,"A\xe7\xf5es"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(19,"tbody"),l.YNc(20,O1e,11,5,"tr",9),l.qZA(),l.TgZ(21,"tfoot"),l.TgZ(22,"tr"),l.TgZ(23,"td",10),l.TgZ(24,"button",11),l.NdJ("click",function(){return o.prev()}),l._uU(25,"Anterior"),l.qZA(),l.TgZ(26,"button",12),l.NdJ("click",function(){return o.next()}),l._uU(27,"Pr\xf3ximo"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(28,"div",13),l.TgZ(29,"div",14),l.TgZ(30,"div",15),l.TgZ(31,"div",16),l.TgZ(32,"h5",17),l._uU(33,"Cadastro de Not\xedcias"),l.qZA(),l._UZ(34,"button",18),l.qZA(),l.TgZ(35,"div",19),l.TgZ(36,"form",20),l.YNc(37,H1e,6,2,"div",21),l.TgZ(38,"div",22),l.TgZ(39,"label",23),l._uU(40,"Nome*"),l.qZA(),l._UZ(41,"input",24),l.qZA(),l.TgZ(42,"div",22),l.TgZ(43,"label",23),l._uU(44,"Data*"),l.qZA(),l._UZ(45,"input",25),l.qZA(),l.TgZ(46,"div",22),l.TgZ(47,"label",23),l._uU(48,"Resumo"),l.qZA(),l._UZ(49,"textarea",26),l.qZA(),l.TgZ(50,"div",22),l.TgZ(51,"label",23),l._uU(52,"Conte\xfado"),l.qZA(),l._UZ(53,"textarea",26),l.qZA(),l.YNc(54,P1e,5,0,"div",27),l.qZA(),l.qZA(),l.TgZ(55,"div",28),l.TgZ(56,"button",29),l._uU(57,"Cancelar"),l.qZA(),l.TgZ(58,"button",30),l.NdJ("click",function(){return o.save()}),l._uU(59,"Salvar"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(60,"div",31),l.TgZ(61,"div",14),l.TgZ(62,"div",15),l.TgZ(63,"div",16),l.TgZ(64,"h5",17),l._uU(65,"Excluir de Not\xedcia"),l.qZA(),l._UZ(66,"button",18),l.qZA(),l.TgZ(67,"div",19),l.TgZ(68,"p"),l._uU(69,"Tem certeza que deseja excluir esta not\xedcia?"),l.qZA(),l.qZA(),l.TgZ(70,"div",28),l.TgZ(71,"button",29),l._uU(72,"Cancelar"),l.qZA(),l.TgZ(73,"button",32),l.NdJ("click",function(){return o.delete()}),l._uU(74,"Sim"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(75,"div",33),l.TgZ(76,"div",34),l.TgZ(77,"div",15),l.TgZ(78,"div",16),l.TgZ(79,"h5",17),l._uU(80,"Editar Imagem"),l.qZA(),l._UZ(81,"button",18),l.qZA(),l.TgZ(82,"div",19),l.TgZ(83,"div",35),l.TgZ(84,"div",36),l.TgZ(85,"image-cropper",37),l.NdJ("imageCropped",function(f){return o.imageCropped(f)}),l.qZA(),l.qZA(),l.TgZ(86,"div",36),l._UZ(87,"img",38),l.qZA(),l.qZA(),l.qZA(),l.TgZ(88,"div",28),l.TgZ(89,"button",29),l._uU(90,"Cancelar"),l.qZA(),l.TgZ(91,"button",32),l.NdJ("click",function(){return o.upload()}),l._uU(92,"Salvar"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(8),l.Q6J("ngModel",o.search),l.xp6(12),l.Q6J("ngForOf",o.blogs),l.xp6(4),l.Q6J("disabled",o.disable_prev),l.xp6(2),l.Q6J("disabled",o.disable_next),l.xp6(10),l.Q6J("formGroup",o.form),l.xp6(1),l.Q6J("ngIf",o.form.value.photoURL),l.xp6(4),l.Q6J("formControlName","name"),l.xp6(4),l.Q6J("formControlName","date"),l.xp6(4),l.Q6J("formControlName","description"),l.xp6(4),l.Q6J("formControlName","content"),l.xp6(1),l.Q6J("ngIf",!o.form.value.photoURL),l.xp6(4),l.Q6J("disabled",o.form.disabled||o.form.invalid),l.xp6(27),l.Q6J("imageChangedEvent",o.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",16/9),l.xp6(2),l.Q6J("src",o.croppedImage,l.LSH))},directives:[_6,gs,_s,Ye,bs,ys,b6,S1,Ma,Eu,_3],pipes:[A3],styles:[".overlay[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;opacity:.7;transition:.3s ease;background-color:transparent;top:0;bottom:0;left:0;right:0}.overlay[_ngcontent-%COMP%]:hover{opacity:1}.container-image[_ngcontent-%COMP%]{position:relative;width:100%}.detele-icon[_ngcontent-%COMP%]{position:absolute;color:#fd1818;font-size:2rem;cursor:pointer;left:47%;bottom:35%}"]}),i})();const U1e={PALESTRA:"Palestra",SHOW:"Show",COMPETICAO:"Competi\xe7\xe3o",CERIMONIA:"Cerim\xf4nia",LIVE:"Live",MOSTRA:"Mostra",DEBATE:"Debate",HIBRIDO:"H\xedbrido",PRESENCIAL:"Presencial",PLATAFORMA:"Plataforma",ENTRETENIMENTO:"Entretenimento",OUTROS:"Outros"};let LT=(()=>{class i{constructor(e){this._afs=e,this.dbPath="/event",this._event=new Y2(null),this.eventsRef=null,this.eventsRef=this._afs.collection(this.dbPath)}set event(e){console.log(e),this._event.next(e)}get event$(){return this._event.asObservable()}get(e){return this.eventsRef.doc(e).ref.get()}create(e){return delete e.id,this.eventsRef.add(Object.assign({},e))}update(e,o){return this.eventsRef.doc(e).update(o)}delete(e){return this.eventsRef.doc(e).delete()}getAll(e){return this.eventsRef=this._afs.collection(this.dbPath,o=>o.orderBy("orderByDate").limit(e))}next(e,o,c){return this.eventsRef=this._afs.collection(this.dbPath,f=>f.orderBy("orderByDate").startAt(e.toLowerCase()).endAt(e.toLowerCase()+"\uf8ff").startAfter(o).limit(c))}prev(e,o,c){return this.eventsRef=this._afs.collection(this.dbPath,f=>f.orderBy("orderByDate").startAt(e.toLowerCase()).endAt(e.toLowerCase()+"\uf8ff").endBefore(o).limitToLast(c))}find(e,o){return this.eventsRef=this._afs.collection(this.dbPath,c=>c.orderBy("name_where").startAt(e.toLowerCase()).endAt(e.toLowerCase()+"\uf8ff").limit(o))}deleteAll(){this.eventsRef.get().subscribe(e=>{e.forEach(o=>{o.ref.delete()})},e=>{console.log("Error: ",e)})}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(ms))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),RT=(()=>{class i{constructor(e){this._afs=e,this.dbPath="/speaker",this.speakersRef=null}create(e){return delete e.id,this.speakersRef.add(Object.assign({},e))}update(e,o){return this.speakersRef.doc(e).update(o)}delete(e){return this.speakersRef.doc(e).delete()}getAll(e){return this.speakersRef=this._afs.collection(this.dbPath,o=>o.orderBy("name_where").limit(e))}next(e,o,c){return this.speakersRef=this._afs.collection(this.dbPath,f=>f.orderBy("name_where").startAt(e.toLowerCase()).endAt(e.toLowerCase()+"\uf8ff").startAfter(o).limit(c))}prev(e,o,c){return this.speakersRef=this._afs.collection(this.dbPath,f=>f.orderBy("name_where").startAt(e.toLowerCase()).endAt(e.toLowerCase()+"\uf8ff").endBefore(o).limitToLast(c))}find(e,o){return this.speakersRef=this._afs.collection(this.dbPath,c=>c.orderBy("name_where").startAt(e.toLowerCase()).endAt(e.toLowerCase()+"\uf8ff").limit(o))}deleteAll(){this.speakersRef.get().subscribe(e=>{e.forEach(o=>{o.ref.delete()})},e=>{console.log("Error: ",e)})}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(ms))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Z1e=["inputFile"];function B1e(i,t){if(1&i){const e=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td",47),l._uU(4),l.ALo(5,"date"),l.qZA(),l.TgZ(6,"td",47),l._uU(7),l.qZA(),l.TgZ(8,"td",47),l._uU(9),l.qZA(),l.TgZ(10,"td"),l.TgZ(11,"button",48),l.NdJ("click",function(){const f=l.CHM(e).$implicit;return l.oxw().setEvent(f)}),l._uU(12,"Editar"),l.qZA(),l.TgZ(13,"button",49),l.NdJ("click",function(){const f=l.CHM(e).$implicit;return l.oxw().setEvent(f)}),l._uU(14,"Excluir"),l.qZA(),l.qZA(),l.qZA()}if(2&i){const e=t.$implicit,o=l.oxw();l.xp6(2),l.Oqu(e.name),l.xp6(2),l.Oqu(l.xi3(5,5,e.date,"dd/MM/yy")),l.xp6(3),l.AsE("",e.time_start," - ",e.time_end,""),l.xp6(2),l.Oqu(o.categoryEvents[e.category])}}function j1e(i,t){if(1&i){const e=l.EpF();l.TgZ(0,"div",50),l.TgZ(1,"div",51),l._UZ(2,"img",52),l.TgZ(3,"div",53),l.TgZ(4,"a",54),l.NdJ("click",function(){return l.CHM(e),l.oxw().deleteImage()}),l._UZ(5,"fa-icon",55),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&i){const e=l.oxw();l.xp6(2),l.Q6J("src",e.form.value.photoURL,l.LSH),l.xp6(3),l.Q6J("icon",e.faTrash)}}function q1e(i,t){if(1&i&&(l.TgZ(0,"option",56),l._uU(1),l.qZA()),2&i){const e=t.$implicit,o=l.oxw();l.Q6J("value",e),l.xp6(1),l.Oqu(o.categoryEvents[e])}}function G1e(i,t){1&i&&(l.TgZ(0,"div",23),l.TgZ(1,"label",24),l._uU(2,"Local"),l.qZA(),l._UZ(3,"input",25),l.qZA()),2&i&&(l.xp6(3),l.Q6J("formControlName","place"))}let xF=(()=>{class i{constructor(e,o,c,f){this._eventService=e,this._speakerService=o,this._formBuilder=c,this._uploadService=f,this._unsubscribeAll=new Nt.xQ,this.faTrash=vc,this.faPlus=h3,this.events=[],this.speakers=[],this.imageChangedEvent="",this.croppedImage="",this.categoryEvents=U1e,this.search="",this.disable_next=!1,this.disable_prev=!0,this.first=[],this.firstInResponse=[],this.lastInResponse=[],this.limit=10,this.keys=Object.keys(this.categoryEvents).filter(String)}ngOnInit(){this.form=this._formBuilder.group({id:[""],name:["",[t2.required]],name_where:[""],orderByDate:[""],description:[""],linkBuy:["",[t2.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?")]],linkLive:[""],linkRegulamento:[""],mentimeter:[""],by:[""],date:["",[t2.required]],time_start:["",[t2.required]],time_end:["",[t2.required]],category:["",[t2.required]],speakers:this._formBuilder.array([]),type:[1],place:[""],photoURL:[""],thumbnailURL:[""]}),this.getAll()}setEvent(e){if(this.form.reset(),this.form.get("speakers").clear(),this.inputImage&&(this.inputImage.nativeElement.value=""),e){this.form.patchValue(e);const o=[];e.speakers&&e.speakers.length?e.speakers.forEach(c=>{o.push(this.createFormSpeaker(c))}):o.push(this.createFormSpeaker()),o.forEach(c=>{this.form.get("speakers").push(c)})}else{const o=[];o.push(this.createFormSpeaker()),o.forEach(c=>{this.form.get("speakers").push(c)})}}removeFormSpeaker(e){this.form.get("speakers").removeAt(e),0==e&&this.addFormSpeaker()}addFormSpeaker(){const e=this.createFormSpeaker();this.form.get("speakers").push(e)}createFormSpeaker(e){return this._formBuilder.group({id:[e?e.id:""]})}getAll(){this._eventService.getAll(this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!0,!1,!1)})}getAllSpeakers(){this._speakerService.getAll(1e3).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{let o=e.map(c=>Object.assign({id:c.payload.doc.id},c.payload.doc.data()));this.speakers=o})}prev(){this._eventService.prev(this.search,this.firstInResponse,this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!1,!0,!1)})}next(){this._eventService.next(this.search,this.lastInResponse,this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!1,!1,!0)})}find(){this._eventService.find(this.search,this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!0,!1,!1)})}pagination(e,o,c,f){if(e.length>0){this.disable_prev=!1,this.disable_next=!1,this.firstInResponse=e[0].payload.doc,this.lastInResponse=e[e.length-1].payload.doc;let v=e.map(_=>Object.assign({id:_.payload.doc.id},_.payload.doc.data()));this.events=v,o?(this.first=this.firstInResponse,this.disable_prev=!0):this.first.id===this.firstInResponse.id&&(this.disable_prev=!0),this.events.length<this.limit&&(this.disable_next=!0)}else o?(this.disable_prev=!0,this.disable_next=!0):c?this.disable_prev=!0:f&&(this.disable_next=!0)}save(){if(this.form.invalid)return;this.form.disable(),this.form.patchValue({name_where:this.form.value.name.toLowerCase()}),this.form.patchValue({orderByDate:this.form.value.date+this.form.value.time_start+this.form.value.time_end});const e=this.form.getRawValue();e.speakers=e.speakers.filter(o=>o.id),this.form.value.id?this._eventService.update(this.form.value.id,e).then(()=>{this.form.enable(),this.form.reset(),$("#editModal").modal("hide"),console.log("Update item successfully!")}).catch(o=>{this.form.enable(),console.log(o)}):this._eventService.create(this.form.value).then(()=>{this.form.enable(),this.form.reset(),$("#editModal").modal("hide"),this.getAll(),console.log("Created new item successfully!")}).catch(o=>{this.form.enable(),console.log(o)})}delete(){this._eventService.delete(this.form.value.id).then(()=>{this.form.enable(),this.form.reset(),$("#deleteModal").modal("hide"),this.getAll(),console.log("Delete item successfully!")}).catch(e=>console.log(e))}upload(){const e=this.croppedImage,{downloadUrl$:o,uploadProgress$:c}=this._uploadService.pushFileToStorage(e);c.pipe(nt(this._unsubscribeAll)).subscribe(f=>{this.percentage=Math.round(f)}),o.pipe(nt(this._unsubscribeAll)).subscribe(f=>{const[v,_]=f.split(".jpeg");this.form.patchValue({photoURL:v+".jpeg?alt=media",thumbnailURL:v+"_60x60.jpeg?alt=media"}),this.inputImage.nativeElement.value="",$("#cropperModal").modal("hide")})}fileChangeEvent(e){$("#cropperModal").modal("show"),this.imageChangedEvent=e}imageCropped(e){this.croppedImage=e.base64}deleteImage(){this._uploadService.deleteFile(this.form.value.photoURL).then(()=>{this._uploadService.deleteFile(this.form.value.thumbnailURL).then(()=>{this.form.patchValue({photoURL:"",thumbnailURL:""}),this.form.value.id&&this.save()}).catch(e=>{this.form.patchValue({photoURL:"",thumbnailURL:""}),this.form.value.id&&this.save()})}).catch(e=>console.log(e))}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(LT),l.Y36(RT),l.Y36(Cs),l.Y36(Au))},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-events"]],viewQuery:function(e,o){if(1&e&&l.Gf(Z1e,5),2&e){let c;l.iGM(c=l.CRH())&&(o.inputImage=c.first)}},decls:135,vars:25,consts:[[1,"d-flex","bd-highlight","mb-3"],[1,"me-auto","bd-highlight"],[1,"bd-highlight"],["type","button","data-bs-toggle","modal","data-bs-target","#editModal",1,"btn","btn-outline-primary",3,"click"],[1,"pb-3","bg-highlight"],["type","search","placeholder","Pesquisar por nome...","aria-label","Search",1,"form-control",3,"ngModel","ngModelChange","keyup","change"],[1,"table-responsive"],[1,"table","table-sm","table-hover"],["scope","col"],["scope","col",1,"d-none","d-sm-table-cell"],[4,"ngFor","ngForOf"],["colspan","5",2,"text-align","end"],["type","button",1,"btn","btn-secondary","btn-sm","m-1",3,"disabled","click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"disabled","click"],["id","editModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true","data-bs-keyboard","false",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","g-3",3,"formGroup"],["class","col-md-12 text-center",4,"ngIf"],[1,"col-md-12"],[1,"form-label"],["type","text",1,"form-control",3,"formControlName"],[1,"form-select",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["type",""],["value","0"],["value","1",3,"selected"],["class","col-md-12",4,"ngIf"],[1,"col-md-6"],["type","date",1,"form-control",3,"formControlName"],[1,"col-md-3"],["type","time",1,"form-control",3,"formControlName"],["rows","4","cols","50",1,"form-control",3,"formControlName"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["id","deleteModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade"],["type","button",1,"btn","btn-primary",3,"click"],["id","cropperModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"row"],["format","jpeg","resizeToWidth","360","onlyScaleDown","true","imageQuality","80","resizeToHeight","360",1,"croppedImage","p-0",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","imageCropped"],[1,"croppedImage",3,"src"],[1,"d-none","d-sm-table-cell"],["type","button","data-bs-toggle","modal","data-bs-target","#editModal",1,"btn","btn-secondary","btn-sm",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger","btn-sm",2,"margin-left","10px",3,"click"],[1,"col-md-12","text-center"],[1,"container-image"],["alt","Image","width","150","height","150",1,"rounded-circle",3,"src"],[1,"overlay"],["title","Excluir Imagem",1,"play-icon",3,"click"],[1,"detele-icon",3,"icon"],[3,"value"]],template:function(e,o){if(1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h2"),l._uU(3,"Eventos"),l.qZA(),l.qZA(),l.TgZ(4,"div",2),l.TgZ(5,"button",3),l.NdJ("click",function(){return o.setEvent(null)}),l._uU(6,"Novo"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(7,"div",4),l.TgZ(8,"input",5),l.NdJ("ngModelChange",function(f){return o.search=f})("keyup",function(){return o.find()})("change",function(){return o.find()}),l.qZA(),l.qZA(),l.TgZ(9,"div",6),l.TgZ(10,"table",7),l.TgZ(11,"thead"),l.TgZ(12,"tr"),l.TgZ(13,"th",8),l._uU(14,"Nome"),l.qZA(),l.TgZ(15,"th",9),l._uU(16,"Data"),l.qZA(),l.TgZ(17,"th",9),l._uU(18,"Hor\xe1rio"),l.qZA(),l.TgZ(19,"th",9),l._uU(20,"Categoria"),l.qZA(),l.TgZ(21,"th",8),l._uU(22,"A\xe7\xf5es"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(23,"tbody"),l.YNc(24,B1e,15,8,"tr",10),l.qZA(),l.TgZ(25,"tfoot"),l.TgZ(26,"tr"),l.TgZ(27,"td",11),l.TgZ(28,"button",12),l.NdJ("click",function(){return o.prev()}),l._uU(29,"Anterior"),l.qZA(),l.TgZ(30,"button",13),l.NdJ("click",function(){return o.next()}),l._uU(31,"Pr\xf3ximo"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(32,"div",14),l.TgZ(33,"div",15),l.TgZ(34,"div",16),l.TgZ(35,"div",17),l.TgZ(36,"h5",18),l._uU(37,"Cadastro de Eventos"),l.qZA(),l._UZ(38,"button",19),l.qZA(),l.TgZ(39,"div",20),l.TgZ(40,"form",21),l.YNc(41,j1e,6,2,"div",22),l.TgZ(42,"div",23),l.TgZ(43,"label",24),l._uU(44,"Nome*"),l.qZA(),l._UZ(45,"input",25),l.qZA(),l.TgZ(46,"div",23),l.TgZ(47,"label",24),l._uU(48,"Categoria*"),l.qZA(),l.TgZ(49,"select",26),l.YNc(50,q1e,2,2,"option",27),l.qZA(),l.qZA(),l.TgZ(51,"div",23),l.TgZ(52,"label",24),l._uU(53,"Tipo*"),l.qZA(),l.TgZ(54,"select",26,28),l.TgZ(56,"option",29),l._uU(57,"Live"),l.qZA(),l.TgZ(58,"option",30),l._uU(59,"Presencial"),l.qZA(),l.qZA(),l.qZA(),l.YNc(60,G1e,4,1,"div",31),l.TgZ(61,"div",23),l.TgZ(62,"label",24),l._uU(63,"Ministrado por"),l.qZA(),l._UZ(64,"input",25),l.qZA(),l.TgZ(65,"div",32),l.TgZ(66,"label",24),l._uU(67,"Data*"),l.qZA(),l._UZ(68,"input",33),l.qZA(),l.TgZ(69,"div",34),l.TgZ(70,"label",24),l._uU(71,"Inicio*"),l.qZA(),l._UZ(72,"input",35),l.qZA(),l.TgZ(73,"div",34),l.TgZ(74,"label",24),l._uU(75,"T\xe9rmino*"),l.qZA(),l._UZ(76,"input",35),l.qZA(),l.TgZ(77,"div",23),l.TgZ(78,"label",24),l._uU(79,"Descri\xe7\xe3o"),l.qZA(),l._UZ(80,"textarea",36),l.qZA(),l.TgZ(81,"div",23),l.TgZ(82,"label",24),l._uU(83,"Link Inscri\xe7\xe3o"),l.qZA(),l._UZ(84,"input",25),l.qZA(),l.TgZ(85,"div",23),l.TgZ(86,"label",24),l._uU(87,"Link Regulamento"),l.qZA(),l._UZ(88,"input",25),l.qZA(),l.TgZ(89,"div",23),l.TgZ(90,"label",24),l._uU(91,"ID Live"),l.qZA(),l._UZ(92,"input",25),l.qZA(),l.TgZ(93,"div",23),l.TgZ(94,"label",24),l._uU(95,"ID Mentimeter"),l.qZA(),l._UZ(96,"input",25),l.qZA(),l.qZA(),l.qZA(),l.TgZ(97,"div",37),l.TgZ(98,"button",38),l._uU(99,"Cancelar"),l.qZA(),l.TgZ(100,"button",39),l.NdJ("click",function(){return o.save()}),l._uU(101,"Salvar"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(102,"div",40),l.TgZ(103,"div",15),l.TgZ(104,"div",16),l.TgZ(105,"div",17),l.TgZ(106,"h5",18),l._uU(107,"Excluir de Evento"),l.qZA(),l._UZ(108,"button",19),l.qZA(),l.TgZ(109,"div",20),l.TgZ(110,"p"),l._uU(111,"Tem certeza que deseja excluir este evento?"),l.qZA(),l.qZA(),l.TgZ(112,"div",37),l.TgZ(113,"button",38),l._uU(114,"Cancelar"),l.qZA(),l.TgZ(115,"button",41),l.NdJ("click",function(){return o.delete()}),l._uU(116,"Sim"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(117,"div",42),l.TgZ(118,"div",43),l.TgZ(119,"div",16),l.TgZ(120,"div",17),l.TgZ(121,"h5",18),l._uU(122,"Editar Imagem"),l.qZA(),l._UZ(123,"button",19),l.qZA(),l.TgZ(124,"div",20),l.TgZ(125,"div",44),l.TgZ(126,"div",32),l.TgZ(127,"image-cropper",45),l.NdJ("imageCropped",function(f){return o.imageCropped(f)}),l.qZA(),l.qZA(),l.TgZ(128,"div",32),l._UZ(129,"img",46),l.qZA(),l.qZA(),l.qZA(),l.TgZ(130,"div",37),l.TgZ(131,"button",38),l._uU(132,"Cancelar"),l.qZA(),l.TgZ(133,"button",41),l.NdJ("click",function(){return o.upload()}),l._uU(134,"Salvar"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){const c=l.MAs(55);l.xp6(8),l.Q6J("ngModel",o.search),l.xp6(16),l.Q6J("ngForOf",o.events),l.xp6(4),l.Q6J("disabled",o.disable_prev),l.xp6(2),l.Q6J("disabled",o.disable_next),l.xp6(10),l.Q6J("formGroup",o.form),l.xp6(1),l.Q6J("ngIf",o.form.value.photoURL),l.xp6(4),l.Q6J("formControlName","name"),l.xp6(4),l.Q6J("formControlName","category"),l.xp6(1),l.Q6J("ngForOf",o.keys),l.xp6(4),l.Q6J("formControlName","type"),l.xp6(6),l.Q6J("ngIf",1==c.value),l.xp6(4),l.Q6J("formControlName","by"),l.xp6(4),l.Q6J("formControlName","date"),l.xp6(4),l.Q6J("formControlName","time_start"),l.xp6(4),l.Q6J("formControlName","time_end"),l.xp6(4),l.Q6J("formControlName","description"),l.xp6(4),l.Q6J("formControlName","linkBuy"),l.xp6(4),l.Q6J("formControlName","linkRegulamento"),l.xp6(4),l.Q6J("formControlName","linkLive"),l.xp6(4),l.Q6J("formControlName","mentimeter"),l.xp6(4),l.Q6J("disabled",o.form.disabled||o.form.invalid),l.xp6(27),l.Q6J("imageChangedEvent",o.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1),l.xp6(2),l.Q6J("src",o.croppedImage,l.LSH)}},directives:[_6,gs,_s,Ye,bs,ys,b6,S1,Ma,Dg,vH,yH,Eu,_3],pipes:[A3],styles:[".overlay[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;opacity:.7;transition:.3s ease;background-color:transparent;top:0;bottom:0;left:0;right:0}.overlay[_ngcontent-%COMP%]:hover{opacity:1}.container-image[_ngcontent-%COMP%]{position:relative;width:100%}.detele-icon[_ngcontent-%COMP%]{position:absolute;color:#fd1818;font-size:2rem;cursor:pointer;left:47%;bottom:35%}"]}),i})();function W1e(i,t){if(1&i&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.qZA()),2&i){const e=t.$implicit;l.xp6(2),l.hij(" ",e," ")}}let $1e=(()=>{class i{constructor(){this.expositores=["ACAITERIA E SORVETERIA GRA-PARA","AGENCIA CANAA","AGENCIA NIVEL CARAJAS","AGRISUL","AIQFOME","ALA-CARTE GRILL","ALESSANDRA KASSIA SILVA OLIVEIRA","ALUXUOSA","AMORE","ANA PERA ACESSORIOS","ANALINK TECNOLOGIA","ANGELICA BATISTA ESTETICA CORPORAL","ANGRA STORE VARIEDADES","APAE DE CANAA DOS CARAJAS","ARAGUAYA CL\xcdNICA M\xc9DICA","ARTES VARIEDADES","ASCER","ATELIE COSTURA FINA","AUTO SOCORRO PINHEIRO","BARRACA DA NENEN","BARRACA DE BATIDA CHUPA MAIS NAO BABA","BATATARIA POINT DA FAMILIA","BBZIN ENXOVAL","BELISSIMA MULTIMARCAS","BELLA DODY","BELLA NOIVAS","BIA PERSONALIZADOS","BLACK FITNESS ACADEMIA","BRINQUEDOS RECREATIVOS","BROWNIE DA TATA","CABANAS","CABINE DA SELFIE CARAJAS","CARAJAS CLEAN","CARLA OLIVEIRA CONTABILIDADE, ASSESSORIA E CONSULTORIA","CARMEN STEFFENS","CASA DAS FERRAMENTAS","CASTRO TRANSPORTE","CENTRO DE ENSINO VALE DOS CARAJ\xc1S","CENTRO DIGITAL","CHILLI BEANS","CHINA LIG PASTELARIA","CHIQUINHO SORVETES","CHOPPANA BAR E PETISCO","CLAUDINHA BRITO","CLEI SERVICOS","CLICK REPRESENTACAO COMERCIAL E SERVICOS","CLINICA SEMETRA","COELHO TECNOLOGIA","COMPUTERE","CONSTRUCENTER","CONSULTE","CONVINIENCIA PRIMUS","CSA REFRIGERA\xc7AO & SEGURA\xc7A ELETRONICA","CTL SERVICE","DALIANE GOMES FOTOGRAFIA","DEGLAN DISTRIBUIDORA","DENTISTA F\xc1CIL","D ESTETICA SA\xdaDE BELEZA E BEM ESTAR","DI ARAUJO BOUTIQUE","DISNEYLANDIA","DOCES LEMBRA\xc7AS CONFEITARIA","DOGAO LANCHE","DONA ANFITRIA","DONA DO PEDACO PIZZA CAFE","DROGA NORTE","DUDA ACESSORIOS","E-CONNECT CERTIFICADORA DIGITAL","EDCAR AUTO CENTER","EDU CAL\xc7ADOS","ELI IMPORTS","ENCANTARTE EVENTOS EIRELI & CIA","\xc9RICA DAMACENO CONFEITARIA","ESCOLA DE MUSICA E TECNOLOGIA TERRUA","ESCRIMAT","ESDRAS CONSTRUCOES","ESPA\xc7O CONTABIL","ESSENCIA FEMENINA","EST\xc9TICA LUANA CARLA","ESTILO 220V","EXPRESSO LANCHES","FABY FLORES","FANTASIA","FENIX EMBALAGENS","FENIX EVENTOS","FERMAQ","FLOR DO PARA ARTES","FLOR DO SERTAO","FLORESOL SPA E BRONZE","FOR\xc7A DIESEL","FORTE COMUNICACAO E GRAFICA","FRANPRAG CANAA DOS CARAJAS PA 22 - CONTROLE DE PRAGAS","HAMBURGUERIA VELHO JACK","HIPERMOVEIS","HIPERMOVEIS COMERCIAL DE MOVEIS","HOLOFOTES COMUNICA\xc7\xc3O","INFOFAST CURSOS PROFISSIONALIZANTES","INSTITUTO STAR COACH","ISA BIJU MODAS E ACESSORIOS","JAZZ BURGERS","JHONY M\xd3VEIS","JM ENGENHARIA","JOIA RARA","JOJOW BURGUER","JR DEUS \xc9 FIEL","KALENE BURGUES CALDOS","KANAI EVENTOS VIAGENS & TURISMO","KELLY VIVEIRO","L DEL","L\xc1 BELLITA BOUTIQUE","LA PIZZARIA","LAURA COSTA CLOSET","LHC DISTRIBUI\xc7AO","LIAH ESSENCIAS","LIVRARIA EVANGELICA PENIEL","LIVRE WIFI TELECOM","LL SERVICOS","LOJA DAS NAPAS ALIAN\xc7A","LOJAS ECONOMIA","LORRANA MONTEIRO BEUATY ACADEMY","LUX","M R V TRANSPORTES","MARA BISCUIT","MARA MOVEIS","MARMORARIA ITAMARMORES","MARTTINY","MASSOTERAPIA HOLISTICA CORPO & ART","MAURA CONFEC\xc7\xd5ES MODA COUNTRY","MICROLINS","MINAS SERVICE","MODERNA FERRO & A\xc7O","MOREIRA EMPREENDIMENTOS","MOREIRA EMPREENDIMENTOS IMOBILI\xc1RIOS","MORENA CAF\xc9","MR. SHAKE","MULT NOBRE","MUNDIAL CORRETORA DE SEGUROS","MV IMPORT","NATHALLYA RIBEIRO BEAUTY ARTIST","NC SILFA CONFECCAO","NEW ESTHETIC TALISSA CARDOSO","NOVO LAR MATERIAIS P. CONSTRU\xc7\xc3O","O MECANICO CESAR","ODONTORISO","ONE STORE JO\xc3O & MARIA KIDS","OS BARTIRAS EVENTOS","PACHECO PUBLICIDADES","PANIFICADORA PAO CROCANTE","P\xc3O DE QUEIJO DA ADNA","PARRILLA RESTAURANTE E LOUNGE","PATY MODA INTIMA","PIU VARIEDADES","PIZZARIA QUALITY","PLACAR","PONTO COMUNICACAO VISUAL","PRETINHA VARIEDADES","PREVS EVENTOS","PRIME PIZZA & BURGER","RAFAEL DE OLIVEIRA RIBEIRO","RAISON MATOS VILA NOVA","RESTAURANTE E PIZZARIA POP SABOR","RESTAURANTE TEMPERO DE CASA","SAMAVI CONSTRUTORA","SATIE LUXO SEMIJOIAS","SCOPUM","SEMENTINHA FELIZ","SLV LANCHES","SOBERANO MOVEIS 3","SPAGHETTINI MACARRONARIA","STUDIO TORRES","SUPER BURGUER","SUPERMERCADO P\xc9ROLA","T S SILVA CHURRASCARIA","TALHER DE PRATA DECORA\xc7\xd5ES E EVENTOS","TAPE\xc7ARIA S\xc3O FRANCISCO","TEXAS","THEODORO SOLU\xc7\xd5ES & TECNOLOGIA","TORRA TORRA DE 10 A 50","TV & RADIO WEBCIDADE","UAU UAU DA CIDA","VAN LLU MODAS","VITAL QUALITY","VS52 AUTO CENTER","WAY OF LIFE","WENDER WD CAL\xc7ADOS E CONFEC\xc7\xd5ES","YRIS VARIEDADES"]}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-expositores"]],decls:7,vars:1,consts:[[1,"teste"],[1,"container"],[1,"row"],[4,"ngFor","ngForOf"]],template:function(e,o){1&e&&(l.TgZ(0,"div",0),l._uU(1," EMPRESAS V FENECAN\n"),l.qZA(),l.TgZ(2,"div",1),l.TgZ(3,"div",2),l.TgZ(4,"table"),l.TgZ(5,"tbody"),l.YNc(6,W1e,3,1,"tr",3),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(6),l.Q6J("ngForOf",o.expositores))},directives:[Ye],styles:[".teste[_ngcontent-%COMP%]{background-color:#03a65a;height:250px;width:100vw;color:#fff;font-size:30px;font-weight:700;text-align:center;display:table-cell;vertical-align:bottom}table[_ngcontent-%COMP%]{padding:100px 0;border-color:#eee;background-color:#fff;width:100%;border-radius:5px;overflow:hidden;border-spacing:0;border-collapse:unset}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(to right,#03a65a 0%,rgba(253,190,45,.6) 100%)}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:20px;font-weight:400}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child{color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{text-align:center;width:30%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){text-align:left;width:70%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){text-align:center;display:none}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px;text-align:center}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#fbfbfb}"]}),i})();class SF{}class TF{}class z6{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const o=e.indexOf(":");if(o>0){const c=e.slice(0,o),f=c.toLowerCase(),v=e.slice(o+1).trim();this.maybeSetNormalizedName(c,f),this.headers.has(f)?this.headers.get(f).push(v):this.headers.set(f,[v])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let o=t[e];const c=e.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(c,o),this.maybeSetNormalizedName(e,c))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof z6?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new z6;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof z6?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let o=t.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(t.name,e);const c=("a"===t.op?this.headers.get(e):void 0)||[];c.push(...o),this.headers.set(e,c);break;case"d":const f=t.value;if(f){let v=this.headers.get(e);if(!v)return;v=v.filter(_=>-1===f.indexOf(_)),0===v.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,v)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Q1e{encodeKey(t){return NF(t)}encodeValue(t){return NF(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const J1e=/%(\d[a-f0-9])/gi,K1e={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function NF(i){return encodeURIComponent(i).replace(J1e,(t,e)=>{var o;return null!==(o=K1e[e])&&void 0!==o?o:t})}function IF(i){return`${i}`}class xa{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Q1e,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(c=>{const f=c.indexOf("="),[v,_]=-1==f?[t.decodeKey(c),""]:[t.decodeKey(c.slice(0,f)),t.decodeValue(c.slice(f+1))],M=e.get(v)||[];M.push(_),e.set(v,M)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const o=t.fromObject[e];this.map.set(e,Array.isArray(o)?o:[o])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(o=>{const c=t[o];Array.isArray(c)?c.forEach(f=>{e.push({param:o,value:f,op:"a"})}):e.push({param:o,value:c,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new xa({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(IF(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let o=this.map.get(t.param)||[];const c=o.indexOf(IF(t.value));-1!==c&&o.splice(c,1),o.length>0?this.map.set(t.param,o):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class X1e{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function DF(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function LF(i){return"undefined"!=typeof Blob&&i instanceof Blob}function RF(i){return"undefined"!=typeof FormData&&i instanceof FormData}class Lu{constructor(t,e,o,c){let f;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||c?(this.body=void 0!==o?o:null,f=c):f=o,f&&(this.reportProgress=!!f.reportProgress,this.withCredentials=!!f.withCredentials,f.responseType&&(this.responseType=f.responseType),f.headers&&(this.headers=f.headers),f.context&&(this.context=f.context),f.params&&(this.params=f.params)),this.headers||(this.headers=new z6),this.context||(this.context=new X1e),this.params){const v=this.params.toString();if(0===v.length)this.urlWithParams=e;else{const _=e.indexOf("?");this.urlWithParams=e+(-1===_?"?":_<e.length-1?"&":"")+v}}else this.params=new xa,this.urlWithParams=e}serializeBody(){return null===this.body?null:DF(this.body)||LF(this.body)||RF(this.body)||function(i){return"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof xa?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||RF(this.body)?null:LF(this.body)?this.body.type||null:DF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xa?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const o=t.method||this.method,c=t.url||this.url,f=t.responseType||this.responseType,v=void 0!==t.body?t.body:this.body,_=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,M=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let E=t.headers||this.headers,S=t.params||this.params;const I=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(E=Object.keys(t.setHeaders).reduce((R,O)=>R.set(O,t.setHeaders[O]),E)),t.setParams&&(S=Object.keys(t.setParams).reduce((R,O)=>R.set(O,t.setParams[O]),S)),new Lu(o,c,v,{params:S,headers:E,context:I,reportProgress:M,responseType:f,withCredentials:_})}}var E2=(()=>((E2=E2||{})[E2.Sent=0]="Sent",E2[E2.UploadProgress=1]="UploadProgress",E2[E2.ResponseHeader=2]="ResponseHeader",E2[E2.DownloadProgress=3]="DownloadProgress",E2[E2.Response=4]="Response",E2[E2.User=5]="User",E2))();class VT{constructor(t,e=200,o="OK"){this.headers=t.headers||new z6,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||o,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class kT extends VT{constructor(t={}){super(t),this.type=E2.ResponseHeader}clone(t={}){return new kT({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class iy extends VT{constructor(t={}){super(t),this.type=E2.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new iy({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class VF extends VT{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function OT(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let HT=(()=>{class i{constructor(e){this.handler=e}request(e,o,c={}){let f;if(e instanceof Lu)f=e;else{let M,E;M=c.headers instanceof z6?c.headers:new z6(c.headers),c.params&&(E=c.params instanceof xa?c.params:new xa({fromObject:c.params})),f=new Lu(e,o,void 0!==c.body?c.body:null,{headers:M,context:c.context,params:E,reportProgress:c.reportProgress,responseType:c.responseType||"json",withCredentials:c.withCredentials})}const v=(0,$e.of)(f).pipe(Bi(M=>this.handler.handle(M)));if(e instanceof Lu||"events"===c.observe)return v;const _=v.pipe(vn(M=>M instanceof iy));switch(c.observe||"body"){case"body":switch(f.responseType){case"arraybuffer":return _.pipe((0,f1.U)(M=>{if(null!==M.body&&!(M.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return M.body}));case"blob":return _.pipe((0,f1.U)(M=>{if(null!==M.body&&!(M.body instanceof Blob))throw new Error("Response is not a Blob.");return M.body}));case"text":return _.pipe((0,f1.U)(M=>{if(null!==M.body&&"string"!=typeof M.body)throw new Error("Response is not a string.");return M.body}));case"json":default:return _.pipe((0,f1.U)(M=>M.body))}case"response":return _;default:throw new Error(`Unreachable: unhandled observe type ${c.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:(new xa).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,c={}){return this.request("PATCH",e,OT(c,o))}post(e,o,c={}){return this.request("POST",e,OT(c,o))}put(e,o,c={}){return this.request("PUT",e,OT(c,o))}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(SF))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})();class kF{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const OF=new l.OlP("HTTP_INTERCEPTORS");let nte=(()=>{class i{intercept(e,o){return o.handle(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})();const rte=/^\)\]\}',?\n/;let HF=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ot.y(o=>{const c=this.xhrFactory.build();if(c.open(e.method,e.urlWithParams),e.withCredentials&&(c.withCredentials=!0),e.headers.forEach((O,U)=>c.setRequestHeader(O,U.join(","))),e.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const O=e.detectContentTypeHeader();null!==O&&c.setRequestHeader("Content-Type",O)}if(e.responseType){const O=e.responseType.toLowerCase();c.responseType="json"!==O?O:"text"}const f=e.serializeBody();let v=null;const _=()=>{if(null!==v)return v;const O=1223===c.status?204:c.status,U=c.statusText||"OK",J=new z6(c.getAllResponseHeaders()),le=function(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(c)||e.url;return v=new kT({headers:J,status:O,statusText:U,url:le}),v},M=()=>{let{headers:O,status:U,statusText:J,url:le}=_(),ge=null;204!==U&&(ge=void 0===c.response?c.responseText:c.response),0===U&&(U=ge?200:0);let Ae=U>=200&&U<300;if("json"===e.responseType&&"string"==typeof ge){const xe=ge;ge=ge.replace(rte,"");try{ge=""!==ge?JSON.parse(ge):null}catch(Re){ge=xe,Ae&&(Ae=!1,ge={error:Re,text:ge})}}Ae?(o.next(new iy({body:ge,headers:O,status:U,statusText:J,url:le||void 0})),o.complete()):o.error(new VF({error:ge,headers:O,status:U,statusText:J,url:le||void 0}))},E=O=>{const{url:U}=_(),J=new VF({error:O,status:c.status||0,statusText:c.statusText||"Unknown Error",url:U||void 0});o.error(J)};let S=!1;const I=O=>{S||(o.next(_()),S=!0);let U={type:E2.DownloadProgress,loaded:O.loaded};O.lengthComputable&&(U.total=O.total),"text"===e.responseType&&!!c.responseText&&(U.partialText=c.responseText),o.next(U)},R=O=>{let U={type:E2.UploadProgress,loaded:O.loaded};O.lengthComputable&&(U.total=O.total),o.next(U)};return c.addEventListener("load",M),c.addEventListener("error",E),c.addEventListener("timeout",E),c.addEventListener("abort",E),e.reportProgress&&(c.addEventListener("progress",I),null!==f&&c.upload&&c.upload.addEventListener("progress",R)),c.send(f),o.next({type:E2.Sent}),()=>{c.removeEventListener("error",E),c.removeEventListener("abort",E),c.removeEventListener("load",M),c.removeEventListener("timeout",E),e.reportProgress&&(c.removeEventListener("progress",I),null!==f&&c.upload&&c.upload.removeEventListener("progress",R)),c.readyState!==c.DONE&&c.abort()}})}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(Ri))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})();const PT=new l.OlP("XSRF_COOKIE_NAME"),FT=new l.OlP("XSRF_HEADER_NAME");class PF{}let ote=(()=>{class i{constructor(e,o,c){this.doc=e,this.platform=o,this.cookieName=c,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=h2(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(Ee),l.LFG(l.Lbi),l.LFG(PT))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})(),UT=(()=>{class i{constructor(e,o){this.tokenService=e,this.headerName=o}intercept(e,o){const c=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||c.startsWith("http://")||c.startsWith("https://"))return o.handle(e);const f=this.tokenService.getToken();return null!==f&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,f)})),o.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(PF),l.LFG(FT))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})(),ate=(()=>{class i{constructor(e,o){this.backend=e,this.injector=o,this.chain=null}handle(e){if(null===this.chain){const o=this.injector.get(OF,[]);this.chain=o.reduceRight((c,f)=>new kF(c,f),this.backend)}return this.chain.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(TF),l.LFG(l.zs3))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})(),ste=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:UT,useClass:nte}]}}static withOptions(e={}){return{ngModule:i,providers:[e.cookieName?{provide:PT,useValue:e.cookieName}:[],e.headerName?{provide:FT,useValue:e.headerName}:[]]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({providers:[UT,{provide:OF,useExisting:UT,multi:!0},{provide:PF,useClass:ote},{provide:PT,useValue:"XSRF-TOKEN"},{provide:FT,useValue:"X-XSRF-TOKEN"}]}),i})(),cte=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({providers:[HT,{provide:SF,useClass:ate},HF,{provide:TF,useExisting:HF}],imports:[[ste.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),i})(),lte=(()=>{class i{constructor(e){this._httpClient=e}buscar(e){return this._httpClient.get(`https://viacep.com.br/ws/${e}/json`).pipe(J2(()=>(0,$e.of)(!1)),at(o=>(0,$e.of)(!!o.cep&&{zip_code:o.cep,street:o.logradouro,complement:o.complemento,district:o.bairro,city:o.localidade,state:o.uf})))}getUfs(){return this._httpClient.get("https://servicodados.ibge.gov.br/api/v1/localidades/estados?orderBy=nome").pipe(J2(()=>(0,$e.of)(!1)),at(e=>(0,$e.of)(e)))}getCidades(e){return this._httpClient.get(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${e}/municipios`).pipe(J2(()=>(0,$e.of)(!1)),at(o=>(0,$e.of)(o)))}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(HT))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),FF=(()=>{class i{constructor(e){this._afs=e,this.dbPath="/participant",this.participantsRef=null,this.participantsRef=this._afs.collection(this.dbPath,o=>o.orderBy("nome_where"))}create(e){return console.log(e),delete e.id,this.participantsRef.add(Object.assign({},e))}update(e,o){return this.participantsRef.doc(e).update(o)}delete(e){return this.participantsRef.doc(e).delete()}getAll(e){return this.participantsRef=this._afs.collection(this.dbPath,o=>o.orderBy("nome_where").limit(e))}next(e,o,c){return this.participantsRef=this._afs.collection(this.dbPath,f=>f.orderBy("nome_where").startAt(e.toLowerCase()).endAt(e.toLowerCase()+"\uf8ff").startAfter(o).limit(c))}prev(e,o,c){return this.participantsRef=this._afs.collection(this.dbPath,f=>f.orderBy("nome_where").startAt(e.toLowerCase()).endAt(e.toLowerCase()+"\uf8ff").endBefore(o).limitToLast(c))}find(e,o){return this.participantsRef=this._afs.collection(this.dbPath,c=>c.orderBy("nome_where").startAt(e.toLowerCase()).endAt(e.toLowerCase()+"\uf8ff").limit(o))}deleteAll(){this.participantsRef.get().subscribe(e=>{e.forEach(o=>{o.ref.delete()})},e=>{console.log("Error: ",e)})}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(ms))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ute=(()=>{class i{constructor(e){this._httpClient=e}send(e){return this._httpClient.post("https://integrador.saltzap.com/webhook/63aec9cf-a111-4364-a9d5-c31cc3f93707",e).pipe(J2(()=>(0,$e.of)(!1)),at(o=>(0,$e.of)(o)))}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(HT))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ZT=(()=>{class i{constructor(e){this._afs=e,this.dbPath="/sponsor",this.sponsorsRef=null}create(e){return delete e.id,this.sponsorsRef.add(Object.assign({},e))}update(e,o){return this.sponsorsRef.doc(e).update(o)}delete(e){return this.sponsorsRef.doc(e).delete()}getAll(e){return this.sponsorsRef=this._afs.collection(this.dbPath,o=>o.orderBy("name_where").limit(e))}next(e,o,c){return this.sponsorsRef=this._afs.collection(this.dbPath,f=>f.orderBy("name_where").startAt(e.toLowerCase()).endAt(e.toLowerCase()+"\uf8ff").startAfter(o).limit(c))}prev(e,o,c){return this.sponsorsRef=this._afs.collection(this.dbPath,f=>f.orderBy("name_where").startAt(e.toLowerCase()).endAt(e.toLowerCase()+"\uf8ff").endBefore(o).limitToLast(c))}find(e,o){return this.sponsorsRef=this._afs.collection(this.dbPath,c=>c.orderBy("name_where").startAt(e.toLowerCase()).endAt(e.toLowerCase()+"\uf8ff").limit(o))}deleteAll(){this.sponsorsRef.get().subscribe(e=>{e.forEach(o=>{o.ref.delete()})},e=>{console.log("Error: ",e)})}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(ms))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var fte=B(6561);function dte(i){const{subscriber:t,counter:e,period:o}=i;t.next(e),this.schedule({subscriber:t,counter:e+1,period:o},o)}let pte=(()=>{class i{constructor(){this.dateNow=new Date,this.dDay=new Date("2022-10-04T19:30:00"),this.milliSecondsInASecond=1e3,this.hoursInADay=24,this.minutesInAnHour=60,this.SecondsInAMinute=60}getTimeDifference(){this.timeDifference=this.dDay.getTime()-(new Date).getTime(),this.allocateTimeUnits(this.timeDifference)}allocateTimeUnits(e){this.secondsToDday=Math.floor(e/this.milliSecondsInASecond%this.SecondsInAMinute),this.minutesToDday=Math.floor(e/(this.milliSecondsInASecond*this.minutesInAnHour)%this.SecondsInAMinute),this.hoursToDday=Math.floor(e/(this.milliSecondsInASecond*this.minutesInAnHour*this.SecondsInAMinute)%this.hoursInADay),this.daysToDday=Math.floor(e/(this.milliSecondsInASecond*this.minutesInAnHour*this.SecondsInAMinute*this.hoursInADay)),this.secondsToDday=this.secondsToDday<10?"0"+this.secondsToDday:this.secondsToDday,this.minutesToDday=this.minutesToDday<10?"0"+this.minutesToDday:this.minutesToDday,this.hoursToDday=this.hoursToDday<10?"0"+this.hoursToDday:this.hoursToDday,this.daysToDday=this.daysToDday<10?"0"+this.daysToDday:this.daysToDday}ngOnInit(){this.subscription=function(i=0,t=C9.P){return(!(0,fte.k)(i)||i<0)&&(i=0),(!t||"function"!=typeof t.schedule)&&(t=C9.P),new Ot.y(e=>(e.add(t.schedule(dte,i,{subscriber:e,counter:0,period:i})),e))}(1e3).subscribe(e=>{this.getTimeDifference()})}ngOnDestroy(){this.subscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-count-down"]],decls:17,vars:4,consts:[[1,"row"],[1,"col-12","col-md-3","text-center"],["id","days",1,"days"],["id","hours",1,"hours"],["id","minutes",1,"minutes"],["id","seconds",1,"seconds"]],template:function(e,o){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"span",2),l._uU(3),l.qZA(),l._uU(4,"Dias "),l.qZA(),l.TgZ(5,"div",1),l.TgZ(6,"span",3),l._uU(7),l.qZA(),l._uU(8,"Horas "),l.qZA(),l.TgZ(9,"div",1),l.TgZ(10,"span",4),l._uU(11),l.qZA(),l._uU(12,"Minutos "),l.qZA(),l.TgZ(13,"div",1),l.TgZ(14,"span",5),l._uU(15),l.qZA(),l._uU(16,"Segundos "),l.qZA(),l.qZA()),2&e&&(l.xp6(3),l.hij(" ",o.daysToDday," "),l.xp6(4),l.hij(" ",o.hoursToDday," "),l.xp6(4),l.hij(" ",o.minutesToDday," "),l.xp6(4),l.hij(" ",o.secondsToDday," "))},styles:[".timer[_ngcontent-%COMP%]{text-align:center;font-family:Arial,sans-serif;font-size:1.4em;letter-spacing:-1px}.timer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:2em;margin:0 3px 0 15px}.days[_ngcontent-%COMP%], .hours[_ngcontent-%COMP%], .minutes[_ngcontent-%COMP%], .seconds[_ngcontent-%COMP%]{font-size:70px;font-weight:700}"]}),i})();class mte{constructor(){this.id="",this.name="",this.position="",this.email="",this.facebook="",this.instagram="",this.youtube="",this.description="",this.photoURL="",this.thumbnailURL=""}}function vte(i,t){if(1&i&&(l.TgZ(0,"p",24),l._uU(1),l.qZA()),2&i){const e=l.oxw().$implicit;l.xp6(1),l.Oqu(e.position)}}function gte(i,t){if(1&i){const e=l.EpF();l.TgZ(0,"div",22),l.TgZ(1,"figure"),l.TgZ(2,"a",23),l.NdJ("click",function(){const f=l.CHM(e).$implicit;return l.oxw().setSpeaker(f)}),l._UZ(3,"img",15),l.qZA(),l.qZA(),l.TgZ(4,"figcaption",16),l.TgZ(5,"h2",17),l.TgZ(6,"a",23),l.NdJ("click",function(){const f=l.CHM(e).$implicit;return l.oxw().setSpeaker(f)}),l._uU(7),l.qZA(),l.qZA(),l.YNc(8,vte,2,1,"p",18),l.qZA(),l.qZA()}if(2&i){const e=t.$implicit;l.xp6(3),l.Q6J("src",e.photoURL,l.LSH)("alt","Fenecan 2022 - Palestrante "+e.name),l.xp6(4),l.hij(" ",e.name," "),l.xp6(1),l.Q6J("ngIf",""!=e.position)}}function yte(i,t){if(1&i&&(l.TgZ(0,"p",24),l._uU(1),l.qZA()),2&i){const e=l.oxw();l.xp6(1),l.Oqu(e.speaker.position)}}function _te(i,t){if(1&i&&(l.TgZ(0,"p",25),l._uU(1),l.qZA()),2&i){const e=l.oxw();l.xp6(1),l.Oqu(e.speaker.description)}}function bte(i,t){if(1&i&&(l.TgZ(0,"li"),l.TgZ(1,"a",28),l._UZ(2,"fa-icon",29),l.qZA(),l.qZA()),2&i){const e=l.oxw(2);l.xp6(1),l.Q6J("href",e.speaker.instagram,l.LSH),l.xp6(1),l.Q6J("icon",e.faInstagram)}}function Cte(i,t){if(1&i&&(l.TgZ(0,"li"),l.TgZ(1,"a",30),l._UZ(2,"fa-icon",29),l.qZA(),l.qZA()),2&i){const e=l.oxw(2);l.xp6(1),l.Q6J("href",e.speaker.facebook,l.LSH),l.xp6(1),l.Q6J("icon",e.faFacebook)}}function Mte(i,t){if(1&i&&(l.TgZ(0,"li"),l.TgZ(1,"a",31),l._UZ(2,"fa-icon",29),l.qZA(),l.qZA()),2&i){const e=l.oxw(2);l.xp6(1),l.Q6J("href",e.speaker.youtube,l.LSH),l.xp6(1),l.Q6J("icon",e.faYouTube)}}function wte(i,t){if(1&i&&(l.TgZ(0,"li"),l.TgZ(1,"a",32),l._UZ(2,"fa-icon",29),l.qZA(),l.qZA()),2&i){const e=l.oxw(2);l.xp6(1),l.Q6J("href","mailto:"+e.speaker.email,l.LSH),l.xp6(1),l.Q6J("icon",e.faEmail)}}function Ate(i,t){if(1&i&&(l.TgZ(0,"ul",26),l.YNc(1,bte,3,2,"li",27),l.YNc(2,Cte,3,2,"li",27),l.YNc(3,Mte,3,2,"li",27),l.YNc(4,wte,3,2,"li",27),l.qZA()),2&i){const e=l.oxw();l.xp6(1),l.Q6J("ngIf",""!=e.speaker.instagram&&null!=e.speaker.instagram),l.xp6(1),l.Q6J("ngIf",""!=e.speaker.facebook&&null!=e.speaker.facebook),l.xp6(1),l.Q6J("ngIf",""!=e.speaker.youtube&&null!=e.speaker.youtube),l.xp6(1),l.Q6J("ngIf",""!=e.speaker.email&&null!=e.speaker.email)}}let Ete=(()=>{class i{constructor(e){this._speakerService=e,this._unsubscribeAll=new Nt.xQ,this.speakers=[],this.speaker=new mte,this.limit=1e3,this.faFacebook=D7,this.faInstagram=N8,this.faEmail=tc,this.faYouTube=F8}ngOnInit(){this.getAll()}getAll(){this._speakerService.getAll(this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{let o=e.map(c=>Object.assign({id:c.payload.doc.id},c.payload.doc.data()));this.speakers=o})}setSpeaker(e){this.speaker=e}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(RT))},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-speaker-list"]],inputs:{title:"title"},decls:26,vars:9,consts:[[1,"container-fluid",2,"padding","0"],[1,"row","speakers"],[1,"col-12","justify-content-center","align-self-center","text-center",2,"padding","5% 10%","display","contents"],[1,"col-12","mb-5"],[1,"title-with-line"],["class","col-12 col-sm-6 col-md-4 speaker shadow-speaker",4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 1440 320"],["fill","#f9f9f9","fill-opacity","1","d","M0,160L48,176C96,192,192,224,288,229.3C384,235,480,213,576,192C672,171,768,149,864,149.3C960,149,1056,171,1152,181.3C1248,192,1344,192,1392,192L1440,192L1440,0L1392,0C1344,0,1248,0,1152,0C1056,0,960,0,864,0C768,0,672,0,576,0C480,0,384,0,288,0C192,0,96,0,48,0L0,0Z"],["id","speakerModal","tabindex","-1","aria-labelledby","modalLabel",1,"modal","fade",3,"title"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header",2,"border-bottom","none"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"col-12","speaker","speaker-modal"],[1,"rounded-circle",3,"src","alt"],[1,"info"],[1,"name"],["class","position",4,"ngIf"],["class","description",4,"ngIf"],[1,"follow"],["class","social-icons",4,"ngIf"],[1,"col-12","col-sm-6","col-md-4","speaker","shadow-speaker"],["data-bs-toggle","modal","data-bs-target","#speakerModal",3,"click"],[1,"position"],[1,"description"],[1,"social-icons"],[4,"ngIf"],["target","_blank","alt","Instagram","title","Instagram",3,"href"],[3,"icon"],["target","_blank","alt","Facebook","title","Facebook",3,"href"],["target","_blank","alt","YouTube","title","YouTube",3,"href"],["alt","Email","title","Email",3,"href"]],template:function(e,o){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"h1",4),l._uU(5),l.qZA(),l.qZA(),l.YNc(6,gte,9,4,"div",5),l.qZA(),l.qZA(),l.O4$(),l.TgZ(7,"svg",6),l._UZ(8,"path",7),l.qZA(),l.qZA(),l.kcU(),l.TgZ(9,"div",8),l.TgZ(10,"div",9),l.TgZ(11,"div",10),l.TgZ(12,"div",11),l._UZ(13,"button",12),l.qZA(),l.TgZ(14,"div",13),l.TgZ(15,"div",14),l.TgZ(16,"figure"),l._UZ(17,"img",15),l.qZA(),l.TgZ(18,"figcaption",16),l.TgZ(19,"h2",17),l._uU(20),l.qZA(),l.YNc(21,yte,2,1,"p",18),l.YNc(22,_te,2,1,"p",19),l.TgZ(23,"h6",20),l._uU(24,"Conhe\xe7a:"),l.qZA(),l.YNc(25,Ate,5,4,"ul",21),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(5),l.Oqu(o.title),l.xp6(1),l.Q6J("ngForOf",o.speakers),l.xp6(3),l.Q6J("title",o.speaker.name),l.xp6(8),l.Q6J("src",o.speaker.photoURL,l.LSH)("alt","Fenecan 2022 - Palestrante "+o.speaker.name),l.xp6(3),l.hij(" ",o.speaker.name," "),l.xp6(1),l.Q6J("ngIf",""!=o.speaker.position),l.xp6(1),l.Q6J("ngIf",""!=o.speaker.description),l.xp6(3),l.Q6J("ngIf",null!=o.speaker.instagram||null!=o.speaker.facebook||null!=o.speaker.youtube||null!=o.speaker.email))},directives:[Ye,S1,_3],styles:[".speakers[_ngcontent-%COMP%]{background:#f9f9f9;margin:0;padding-top:100px}.speaker[_ngcontent-%COMP%]{min-height:450px;padding:2.8125rem;border-radius:5px;background:#f9f9f9;text-align:center;transition:all .5s ease;position:relative;overflow:hidden;height:100%}.speaker[_ngcontent-%COMP%]:hover{background:#fff}.speaker[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer}.speaker[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:260px}.speaker[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-bottom:.3125rem;font-size:1.5rem;line-height:1.875rem;font-weight:500;font-style:normal;letter-spacing:0;text-transform:none;background-repeat:no-repeat;color:#3a4d63}.speaker[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-position:0% 26px;display:inline;background-repeat:no-repeat;background-size:0px 1px;transition-property:all;transition-delay:0ms;transition-duration:.5s;transition-timing-function:cubic-bezier(.165,.84,.44,1)}.speaker[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;background-size:100% 1px;background-position:0% 26px;background-image:linear-gradient(to bottom,#3a4d63 100%,#3a4d63 100%)}.speaker[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{display:block;color:#919191;font-weight:400;font-style:normal;letter-spacing:.5px}.speaker[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{text-align:justify}.speaker[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .follow[_ngcontent-%COMP%]{text-align:left;font-weight:500;margin-bottom:5px;font-size:1.125rem;line-height:1.875rem;color:#3a4d63}.speaker[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]{text-align:left;margin-top:-.625rem;margin-left:-.625rem;margin-right:-.625rem;font-size:35px;display:flex;flex-wrap:wrap;padding:0}.speaker[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline-block;padding-top:.625rem;padding-left:.625rem;padding-right:.625rem}.speaker[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3a4d63}.speaker-modal[_ngcontent-%COMP%]{background-color:#fff}.shadow-speaker[_ngcontent-%COMP%]:hover{box-shadow:0 7px 27px #0000000d}"]}),i})();class UF{constructor(){this.id="",this.name="",this.description="",this.by="",this.linkBuy="",this.linkLive="",this.linkRegulamento="",this.mentimeter="",this.date="",this.time_start="",this.time_end="",this.type="",this.place="",this.photoURL="",this.thumbnailURL="",this.speakers=[]}}function zte(i,t){1&i&&(l.TgZ(0,"span",20),l._uU(1,"Presencial"),l.qZA())}function xte(i,t){1&i&&(l.TgZ(0,"span",21),l._uU(1,"Live"),l.qZA())}function Ste(i,t){if(1&i&&(l.TgZ(0,"p",22),l.TgZ(1,"span"),l._uU(2,"Por "),l.qZA(),l._uU(3),l.qZA()),2&i){const e=l.oxw().$implicit;l.xp6(3),l.Oqu(e.by)}}function Tte(i,t){if(1&i&&(l.TgZ(0,"p",22),l.TgZ(1,"span"),l._uU(2,"Local "),l.qZA(),l._uU(3),l.qZA()),2&i){const e=l.oxw().$implicit;l.xp6(3),l.hij("",e.place," ")}}function Nte(i,t){if(1&i&&(l.TgZ(0,"a",23),l._uU(1,"Inscrever-se"),l.qZA()),2&i){const e=l.oxw().$implicit;l.s9C("href",e.linkBuy,l.LSH)}}function Ite(i,t){if(1&i&&(l.TgZ(0,"a",23),l._uU(1,"Regulamento"),l.qZA()),2&i){const e=l.oxw().$implicit;l.s9C("href",e.linkRegulamento,l.LSH)}}function Dte(i,t){if(1&i&&(l.TgZ(0,"a",24),l._uU(1,"Acessar"),l.qZA()),2&i){const e=l.oxw().$implicit;l.MGl("href","https://fenecan.com.br/#/live/",e.id,"",l.LSH)}}function Lte(i,t){if(1&i&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l.TgZ(2,"div",9),l.TgZ(3,"div",10),l.TgZ(4,"p",11),l._uU(5),l.YNc(6,zte,2,0,"span",12),l.YNc(7,xte,2,0,"span",13),l.qZA(),l.qZA(),l.TgZ(8,"div",14),l.TgZ(9,"span",15),l._uU(10),l.qZA(),l.TgZ(11,"p",11),l._uU(12),l.qZA(),l.YNc(13,Ste,4,1,"p",16),l.YNc(14,Tte,4,1,"p",16),l.qZA(),l.TgZ(15,"div",17),l.YNc(16,Nte,2,1,"a",18),l.YNc(17,Ite,2,1,"a",18),l.YNc(18,Dte,2,1,"a",19),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&i){const e=t.$implicit;l.xp6(5),l.AsE("",e.time_start," - ",e.time_end," "),l.xp6(1),l.Q6J("ngIf",1==e.type),l.xp6(1),l.Q6J("ngIf",0==e.type),l.xp6(3),l.Oqu(e.name),l.xp6(2),l.Oqu(e.description),l.xp6(1),l.Q6J("ngIf",e.by&&""!=e.by),l.xp6(1),l.Q6J("ngIf",e.place&&""!=e.place),l.xp6(2),l.Q6J("ngIf",e.linkBuy&&""!=e.linkBuy),l.xp6(1),l.Q6J("ngIf",e.linkRegulamento&&""!=e.linkRegulamento),l.xp6(1),l.Q6J("ngIf",e.linkLive&&""!=e.linkLive)}}function Rte(i,t){if(1&i&&(l.TgZ(0,"div",7),l.TgZ(1,"table"),l.TgZ(2,"thead"),l.TgZ(3,"tr"),l.TgZ(4,"th"),l._uU(5),l.ALo(6,"date"),l.ALo(7,"titlecase"),l.ALo(8,"date"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"tbody"),l.YNc(10,Lte,19,11,"tr",8),l.qZA(),l.qZA(),l.qZA()),2&i){const e=t.$implicit,o=l.oxw();l.xp6(5),l.AsE(" ",l.xi3(6,3,e,"dd/MM")," - ",l.lcZ(7,6,l.xi3(8,8,e,"EEEE")),""),l.xp6(5),l.Q6J("ngForOf",o.events[e])}}let Vte=(()=>{class i{constructor(e){this._eventService=e,this._unsubscribeAll=new Nt.xQ,this.dates=[],this.events={},this.event=new UF,this.limit=1e3}ngOnInit(){this.getAll()}getAll(){this._eventService.getAll(this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{let o=e.map(c=>Object.assign({id:c.payload.doc.id},c.payload.doc.data()));this.events=o.reduce(function(c,f){var v=f.date;return(c[v]||(c[v]=[]))&&c[v].push({id:f.id,name:f.name,by:f.by,linkBuy:f.linkBuy,linkLive:f.linkLive,linkRegulamento:f.linkRegulamento,description:f.description,date:f.date,time_start:f.time_start,time_end:f.time_end,place:f.place,type:f.type}),c},{}),this.dates=[...new Set(o.map(c=>c.date))]})}setEvent(e){console.log(e),this.event=e,this._eventService.event=this.event}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(LT))},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-event-list"]],inputs:{title:"title"},decls:8,vars:2,consts:[[1,"container-fluid"],[1,"container"],[1,"row"],[1,"col"],[1,"section-title"],[1,"title-with-line"],["class","box-event",4,"ngFor","ngForOf"],[1,"box-event"],[4,"ngFor","ngForOf"],[1,"event"],[1,"event-date","col-sm-12","col-md-4"],[1,"event-description"],["class","event-type-presencial",4,"ngIf"],["class","event-type-live",4,"ngIf"],[1,"event-header","col-sm-12","col-md-6"],[1,"event-name"],["class","event-by",4,"ngIf"],[1,"col-sm-12","col-md-2"],["class","btn btn-primary","style","margin-right: 10px;margin-bottom: 10px;","target","_blank",3,"href",4,"ngIf"],["class","btn btn-primary","style","margin-bottom: 10px;",3,"href",4,"ngIf"],[1,"event-type-presencial"],[1,"event-type-live"],[1,"event-by"],["target","_blank",1,"btn","btn-primary",2,"margin-right","10px","margin-bottom","10px",3,"href"],[1,"btn","btn-primary",2,"margin-bottom","10px",3,"href"]],template:function(e,o){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"h1",5),l._uU(6),l.qZA(),l.qZA(),l.YNc(7,Rte,11,11,"div",6),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(6),l.Oqu(o.title),l.xp6(1),l.Q6J("ngForOf",o.dates))},directives:[Ye,S1],pipes:[A3,m5],styles:[".box-event[_ngcontent-%COMP%]{margin-bottom:50px;box-shadow:0 7px 27px #0000000d}table[_ngcontent-%COMP%]{border-color:#eee;background-color:#fff;width:100%;border-radius:5px;overflow:hidden;border-spacing:0;border-collapse:unset}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(to right,#03a65a 0%,rgba(253,190,45,.6) 100%)}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:20px;font-weight:400}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child{color:#fff}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{text-align:center;width:30%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){text-align:left;width:70%}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){text-align:center;display:none}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px;text-align:center}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#fbfbfb}@media (min-width: 768px){.event[_ngcontent-%COMP%]{display:flex}}.event[_ngcontent-%COMP%]{padding-top:10px}.event[_ngcontent-%COMP%]   .event-date[_ngcontent-%COMP%]{align-items:center;display:inline-grid}.event[_ngcontent-%COMP%]   .event-type-presencial[_ngcontent-%COMP%]{background-color:#753e31;padding:5px 20px;border-radius:5px;color:#fff;margin-left:15px}.event[_ngcontent-%COMP%]   .event-type-live[_ngcontent-%COMP%]{background-color:#ff3b33;padding:5px 20px;border-radius:5px;color:#fff;margin-left:15px}.event[_ngcontent-%COMP%]   .event-header[_ngcontent-%COMP%]{text-align:start;padding:0 15px}.event[_ngcontent-%COMP%]   .event-header[_ngcontent-%COMP%]   .event-name[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.event[_ngcontent-%COMP%]   .event-header[_ngcontent-%COMP%]   .event-description[_ngcontent-%COMP%]{margin-bottom:5px}.event[_ngcontent-%COMP%]   .event-header[_ngcontent-%COMP%]   .event-by[_ngcontent-%COMP%]{font-size:14px;margin-bottom:2px}.event[_ngcontent-%COMP%]   .event-header[_ngcontent-%COMP%]   .event-by[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.event[_ngcontent-%COMP%]   .event-action[_ngcontent-%COMP%]{align-items:center;display:inline-grid}.m-de[_ngcontent-%COMP%]{display:none!important}"]}),i})();const kte=["*"];let BT=(()=>{class i{constructor(e,o,c){this.el=e,this.zone=o,this.platformId=c,this.afterChange=new l.vpe,this.beforeChange=new l.vpe,this.breakpoint=new l.vpe,this.destroy=new l.vpe,this.init=new l.vpe,this.currentIndex=0,this.slides=[],this.initialized=!1,this._removedSlides=[],this._addedSlides=[]}ngOnDestroy(){this.unslick()}ngAfterViewInit(){this.ngAfterViewChecked()}ngAfterViewChecked(){if(!x3(this.platformId)&&(this._addedSlides.length>0||this._removedSlides.length>0)){const e=this.slides.length-this._removedSlides.length+this._addedSlides.length;this.initialized?0===e?this.unslick():(this._addedSlides.forEach(o=>{this.slides.push(o),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickAdd",o.el.nativeElement)})}),this._addedSlides=[],this._removedSlides.forEach(o=>{const c=this.slides.indexOf(o);this.slides=this.slides.filter(f=>f!==o),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickRemove",c)})}),this._removedSlides=[]):e>0&&this.initSlick()}}initSlick(){this.slides=this._addedSlides,this._addedSlides=[],this._removedSlides=[],this.zone.runOutsideAngular(()=>{this.$instance=jQuery(this.el.nativeElement),this.$instance.on("init",(e,o)=>{this.zone.run(()=>{this.init.emit({event:e,slick:o})})}),this.$instance.slick(this.config),this.zone.run(()=>{var e;this.initialized=!0,this.currentIndex=(null===(e=this.config)||void 0===e?void 0:e.initialSlide)||0}),this.$instance.on("afterChange",(e,o,c)=>{this.zone.run(()=>{this.afterChange.emit({event:e,slick:o,currentSlide:c,first:0===c,last:o.$slides.length===c+o.options.slidesToScroll}),this.currentIndex=c})}),this.$instance.on("beforeChange",(e,o,c,f)=>{this.zone.run(()=>{this.beforeChange.emit({event:e,slick:o,currentSlide:c,nextSlide:f}),this.currentIndex=f})}),this.$instance.on("breakpoint",(e,o,c)=>{this.zone.run(()=>{this.breakpoint.emit({event:e,slick:o,breakpoint:c})})}),this.$instance.on("destroy",(e,o)=>{this.zone.run(()=>{this.destroy.emit({event:e,slick:o}),this.initialized=!1})})})}addSlide(e){this._addedSlides.push(e)}removeSlide(e){this._removedSlides.push(e)}slickGoTo(e){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickGoTo",e)})}slickNext(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickNext")})}slickPrev(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPrev")})}slickPause(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPause")})}slickPlay(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPlay")})}unslick(){this.$instance&&(this.zone.runOutsideAngular(()=>{this.$instance.slick("unslick")}),this.$instance=void 0),this.initialized=!1}ngOnChanges(e){if(this.initialized){const o=e.config;if(o.previousValue!==o.currentValue&&void 0!==o.currentValue){const c=o.currentValue.refresh,f=Object.assign({},o.currentValue);delete f.refresh,this.zone.runOutsideAngular(()=>{this.$instance.slick("slickSetOption",f,c)})}}}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(l.Lbi))},i.\u0275cmp=l.Xpm({type:i,selectors:[["ngx-slick-carousel"]],inputs:{config:"config"},outputs:{afterChange:"afterChange",beforeChange:"beforeChange",breakpoint:"breakpoint",destroy:"destroy",init:"init"},exportAs:["slick-carousel"],features:[l._Bn([{provide:V4,useExisting:(0,l.Gpc)(()=>i),multi:!0}]),l.TTD],ngContentSelectors:kte,decls:1,vars:0,template:function(e,o){1&e&&(l.F$t(),l.Hsn(0))},encapsulation:2}),i})(),ZF=(()=>{class i{constructor(e,o,c){this.el=e,this.platformId=o,this.carousel=c}ngOnInit(){W4(this.platformId)&&this.carousel.addSlide(this)}ngOnDestroy(){W4(this.platformId)&&this.carousel.removeSlide(this)}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(l.SBq),l.Y36(l.Lbi),l.Y36(BT,1))},i.\u0275dir=l.lG2({type:i,selectors:[["","ngxSlickItem",""]]}),i})(),Ote=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({imports:[[z3]]}),i})();function Hte(i,t){if(1&i&&(l.TgZ(0,"div",45),l.TgZ(1,"a",46),l._UZ(2,"img",47),l.qZA(),l.qZA()),2&i){const e=t.$implicit;l.xp6(1),l.s9C("href",e.link,l.LSH),l.xp6(1),l.s9C("src",e.photoURL,l.LSH),l.s9C("alt",e.name)}}let Pte=(()=>{class i{constructor(e,o,c,f,v,_,M){this._formBuilder=e,this._viaCepService=o,this._participantService=c,this._integracaoService=f,this._sponsorService=v,this._changeDetection=_,this.document=M,this.formSubmitted=!1,this.ufs=[],this.cidades=[],this.faCheck=IM,this.slideConfig={autoplay:!0,slidesToShow:4,slidesToScroll:1,arrows:!1,speed:100,responsive:[{breakpoint:1024,settings:{slidesToShow:3,infinite:!0}},{breakpoint:600,settings:{slidesToShow:2,dots:!0}},{breakpoint:300,settings:"unslick"}]}}ngOnInit(){console.log(this.document.location.host),this.form=this._formBuilder.group({id:[""],nome:["",[t2.required]],nome_where:[""],cpf:["",[t2.required,t2.minLength(11)]],email:["",[t2.email]],celular:["",[t2.required,t2.minLength(11)]],estado:["PA",[t2.required]],cidade:["Cana\xe3 dos Caraj\xe1s",[t2.required]]}),this.getAllSponsors()}getUfs(){this._viaCepService.getUfs().pipe(Mr(1)).subscribe(e=>{this.ufs=e})}getCidades(e){this._viaCepService.getCidades(e).pipe(Mr(1)).subscribe(o=>{this.cidades=o,"PA"!=e&&this.form.patchValue({cidade:this.cidades[0].nome})})}inscrever(){this.formSubmitted=!0,!this.form.invalid&&(this.form.disable(),this.form.patchValue({nome_where:this.form.value.nome.toLowerCase()}),this._participantService.create(this.form.getRawValue()).then(e=>{this.form.patchValue({id:e.id}),this.satZap(this.form.getRawValue()),this.formSubmitted=!1,this.form.enable(),this.form.reset(),this.form.patchValue({estado:"PA",cidade:"Cana\xe3 dos Caraj\xe1s"}),$("#sucessoModal").modal("show"),setTimeout(()=>{$("#sucessoModal").modal("hide")},1e4)}).catch(e=>{this.form.enable(),console.log(e)}))}satZap(e){this._integracaoService.send(e).pipe(Mr(1)).subscribe(o=>{console.log(o)})}getAllSponsors(){this._sponsorService.getAll(1e4).snapshotChanges().pipe(Mr(1)).subscribe(e=>{let o=e.map(c=>Object.assign({id:c.payload.doc.id},c.payload.doc.data()));this.sponsors=o,this._changeDetection.markForCheck(),console.log(this.sponsors)})}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(Cs),l.Y36(lte),l.Y36(FF),l.Y36(ute),l.Y36(ZT),l.Y36(l.sBO),l.Y36(Ee))},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-home"]],decls:70,vars:3,consts:[["id","home"],["id","carouselExampleCaptions","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide-to","1","aria-label","Slide 2"],[1,"carousel-inner"],[1,"carousel-item","active",2,"background-image","url('assets/image/banner_insta.jpg')"],["href","https://www.instagram.com/feirafenecan/","target","_blank"],[1,"carousel-caption",2,"height","100%"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleCaptions","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"container-fluid"],[1,"row",2,"background-color","#FDBE2D"],[1,"col-12","text-white",2,"padding","5%\n      10%","background-color","#753E31"],[1,"text-white",2,"text-align","center"],["id","palestrantes","title","ATRA\xc7\xd5ES CONFIRMADAS"],["id","programacao","title","PROGRAMA\xc7\xc3O"],["id","apoiadores",1,"container-fluid"],[1,"row",2,"margin-top","50px","margin-bottom","50px","padding","0"],[1,"col-12","justify-content-center","align-self-center","text-center",2,"padding","5% 10%","display","contents"],[1,"col-12","mb-5"],[1,"title-with-line"],[1,"carousel",2,"padding","0",3,"config"],["slickModal","slick-carousel"],["ngxSlickItem","","class","slide",4,"ngFor","ngForOf"],["id","fenecan",1,"container-fluid"],[1,"row"],[1,"col-12","col-md-6","col-lg-4","text-xs-center","text-center","img-left"],["src","assets/image/teste.jpg","alt","Fenecan\n        2022",1,"rounded-circle",2,"max-width","100%","height","auto"],[1,"col-12","col-md-6","col-lg-8","justify-content-center","align-self-center",2,"padding","5% 10%"],["id","canaa",1,"container-fluid"],[1,"col-12","col-md-6","col-lg-4","text-xs-center","text-center","img-right"],["src","assets/image/teste.jpg","alt","Fenecan 2022\n        - Cana\xe3 dos Caraj\xe1s",1,"rounded-circle",2,"max-width","100%","height","auto"],["id","realizacao",1,"container-fluid"],[1,"col-12","justify-content-center","align-self-center","text-center",2,"padding","5% 10%"],["src","assets/image/prefeitura.png","alt","Fenecan 2022 - Prefeitura de\n        Cana\xe3 dos Caraj\xe1s",1,"mt-3",2,"max-width","100%","height","auto"],["id","sucessoModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true","data-bs-keyboard","false",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-body"],[1,"col-sm-12","success-msg"],[1,"ico",3,"icon"],["type","button","href","http://bit.ly/zapfenecan","target","_blank",1,"btn","btn-primary"],["ngxSlickItem","",1,"slide"],["target","_blank",3,"href"],["width","100%",3,"src","alt"]],template:function(e,o){1&e&&(l.TgZ(0,"header",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l._UZ(3,"button",3),l.qZA(),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l.TgZ(6,"a",6),l._UZ(7,"div",7),l.qZA(),l.qZA(),l.qZA(),l.TgZ(8,"button",8),l._UZ(9,"span",9),l.TgZ(10,"span",10),l._uU(11,"Previous"),l.qZA(),l.qZA(),l.TgZ(12,"button",11),l._UZ(13,"span",12),l.TgZ(14,"span",10),l._uU(15,"Next"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(16,"div",13),l.TgZ(17,"div",14),l.TgZ(18,"div",15),l.TgZ(19,"h3",16),l._uU(20,"A maior feira de neg\xf3cios da regi\xe3o est\xe1 chegando!"),l.qZA(),l._UZ(21,"app-count-down"),l.qZA(),l.qZA(),l.qZA(),l._UZ(22,"app-speaker-list",17),l._UZ(23,"app-event-list",18),l.TgZ(24,"div",19),l.TgZ(25,"div",20),l.TgZ(26,"div",21),l.TgZ(27,"div",22),l.TgZ(28,"h1",23),l._uU(29,"APOIADORES"),l.qZA(),l.qZA(),l.TgZ(30,"ngx-slick-carousel",24,25),l.YNc(32,Hte,3,3,"div",26),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(33,"div",27),l.TgZ(34,"div",28),l.TgZ(35,"div",29),l._UZ(36,"img",30),l.qZA(),l.TgZ(37,"div",31),l.TgZ(38,"h1",23),l._uU(39,"Fenecan 2022"),l.qZA(),l.TgZ(40,"p"),l._uU(41,"A Fenecan surgiu com o objetivo de ser uma refer\xeancia na gera\xe7\xe3o de neg\xf3cios na regi\xe3o sul do Par\xe1, al\xe9m de trazer discuss\xf5es e debates importantes para a economia, a tecnologia e a inova\xe7\xe3o na regi\xe3o. Em 2022, a Fenecan se reinventa diante da nova realidade, trazendo grandes palestrantes para o p\xfablico, da mesma forma em que estimula a inova\xe7\xe3o se fortalece no universo online. Esse ano, \xe9 a vez de \u201cfazer neg\xf3cios com um clique\u201d."),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(42,"div",32),l.TgZ(43,"div",28),l.TgZ(44,"div",31),l.TgZ(45,"h1",23),l._uU(46,"Cana\xe3 dos Caraj\xe1s"),l.qZA(),l.TgZ(47,"p"),l._uU(48,"Aos p\xe9s da Serra dos Caraj\xe1s, no sul do Par\xe1 - e aben\xe7oada com a major mina de ferro do mundo e com um solo f\xe9rtil para a agricultura - est\xe1 Cana\xe3 dos Caraj\xe1s, o munic\xedpio que mais cresce e se desenvolve no norte do pa\xeds. Mas, al\xe9m das riquezas do seu solo, Cana\xe3 tamb\xe9m \xe9 um local de cultura rica e de um povo diverso. Com esses ingredientes, o munic\xedpio vem se transformando, para se tornar a 1\xaa cidade inteligente do pa\xeds e refer\xeancia em todo o Brasil."),l.qZA(),l.qZA(),l.TgZ(49,"div",33),l._UZ(50,"img",34),l.qZA(),l.qZA(),l.qZA(),l.TgZ(51,"div",35),l.TgZ(52,"div",28),l.TgZ(53,"div",36),l.TgZ(54,"div",22),l.TgZ(55,"h1",23),l._uU(56,"Realiza\xe7\xe3o"),l.qZA(),l.qZA(),l._UZ(57,"img",37),l.qZA(),l.qZA(),l.qZA(),l.TgZ(58,"div",38),l.TgZ(59,"div",39),l.TgZ(60,"div",40),l.TgZ(61,"div",41),l.TgZ(62,"div",42),l._UZ(63,"fa-icon",43),l.TgZ(64,"p"),l._uU(65,"Inscri\xe7\xe3o realizada com sucesso!"),l.qZA(),l.TgZ(66,"p"),l._uU(67,"Fique por dentro de tudo que vai acontecer na Fenecan! Mande um oi para o n\xfamero (94) 9294-1972 ou clique no bot\xe3o abaixo:"),l.qZA(),l.TgZ(68,"a",44),l._uU(69,"Acessar"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(30),l.Q6J("config",o.slideConfig),l.xp6(2),l.Q6J("ngForOf",o.sponsors),l.xp6(31),l.Q6J("icon",o.faCheck))},directives:[pte,Ete,Vte,BT,Ye,_3,ZF],styles:[".img-left[_ngcontent-%COMP%]{padding:5%}.img-right[_ngcontent-%COMP%]{padding:5%}@media (min-width: 768px){.img-left[_ngcontent-%COMP%]{padding:2% 0% 2% 10%}.img-right[_ngcontent-%COMP%]{padding:2% 10% 2% 0%}}header[_ngcontent-%COMP%]{height:100vh;min-height:400px;background-size:cover;background-color:#03a65a;background-position:center;background-repeat:no-repeat}.carousel-item[_ngcontent-%COMP%]{height:100vh;min-height:350px;background:no-repeat bottom center scroll;background-size:cover}.item-1[_ngcontent-%COMP%]{background-image:url(/assets/image/banner_shows_mobile.jpg)}.item-2[_ngcontent-%COMP%]{background-image:url(/assets/image/banner_bottini_mobile.jpg)}@media (min-width: 768px){header[_ngcontent-%COMP%]{height:100vh;min-height:400px;background-size:cover;background-position:center;background-repeat:no-repeat}.item-1[_ngcontent-%COMP%]{background-image:url(/assets/image/banner_shows.jpg)}.item-2[_ngcontent-%COMP%]{background-image:url(/assets/image/banner_bottini.jpg)}}"]}),i})(),oy=(()=>{class i{constructor(e,o,c,f){this._afs=e,this._afAuth=o,this._router=c,this._ngZone=f,this.userLoggedIn=!1,this._afAuth.onAuthStateChanged(v=>{this.userLoggedIn=!!v})}signIn(e,o){return this._afAuth.signInWithEmailAndPassword(e,o).then(c=>{console.log(c),this._ngZone.run(()=>{this._router.navigate(["admin/events"])})}).catch(c=>{if(console.log("Auth Service: login error..."),console.log("error code",c.code),console.log("error",c),c.code)return{isValid:!1,message:c.message}})}signUp(e){return this._afAuth.createUserWithEmailAndPassword(e.email,e.password).then(o=>{let c=e.email.toLowerCase();this._afs.doc("/users/"+c).set({accountType:"endUser",displayName:e.displayName,displayName_lower:e.displayName.toLowerCase(),email:e.email,email_lower:c}),o.user.sendEmailVerification()}).catch(o=>{if(console.log("Auth Service: signup error",o),o.code)return{isValid:!1,message:o.message}})}resetPassword(e){return this._afAuth.sendPasswordResetEmail(e).then(()=>{console.log("Auth Service: reset password success")}).catch(o=>{if(console.log("Auth Service: reset password error..."),console.log(o.code),console.log(o),o.code)return o})}resendVerificationEmail(){return(0,H.mG)(this,void 0,void 0,function*(){return(yield this._afAuth.currentUser).sendEmailVerification().then(()=>{}).catch(e=>{if(console.log("Auth Service: sendVerificationEmail error..."),console.log("error code",e.code),console.log("error",e),e.code)return e})})}logout(){return this._afAuth.signOut().then(()=>{this._router.navigate(["/login"])}).catch(e=>{if(console.log("Auth Service: logout error..."),console.log("error code",e.code),console.log("error",e),e.code)return e})}setUserInfo(e){console.log("Auth Service: saving user info..."),this._afs.collection("users").add(e).then(function(o){console.log("Auth Service: setUserInfo response..."),console.log(o)})}getCurrentUser(){return this._afAuth.currentUser}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(ms),l.LFG(mu),l.LFG(Z),l.LFG(l.R0b))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Fte=function(){return["/"]},Ute=function(){return["/admin/events"]},Zte=function(){return["/admin/speakers"]},Bte=function(){return["/admin/sponsors"]},jte=function(){return["/admin/participants"]},qte=function(){return["/admin/blog"]};let Gte=(()=>{class i{constructor(e){this._authService=e}ngOnInit(){}logout(){this._authService.logout()}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(oy))},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-admin-layout"]],decls:36,vars:12,consts:[[1,"navbar","navbar-expand-sm","bg-dark","navbar-dark","py-3"],[1,"container"],[1,"navbar-brand",3,"routerLink"],["src","assets/image/logo_w.png","alt","Fenecan"],["type","button","data-bs-toggle","collapse","data-bs-target","#navmenu",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navmenu",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],["aria-current","page",1,"nav-link",3,"routerLink"],["aria-current","page","href","#",1,"nav-link",3,"click"],[1,"p-5"],[1,"footer","mt-auto","py-3","bg-light","fixed-bottom"],[1,"text-muted"],["href","https://www.linkedin.com/in/johnnykraemer/",1,"text-decoration-none","link-dark"]],template:function(e,o){1&e&&(l.TgZ(0,"nav",0),l.TgZ(1,"div",1),l.TgZ(2,"a",2),l._UZ(3,"img",3),l.qZA(),l.TgZ(4,"button",4),l._UZ(5,"span",5),l.qZA(),l.TgZ(6,"div",6),l.TgZ(7,"ul",7),l.TgZ(8,"li",8),l.TgZ(9,"a",9),l._uU(10,"Eventos"),l.qZA(),l.qZA(),l.TgZ(11,"li",8),l.TgZ(12,"a",9),l._uU(13,"Palestrantes"),l.qZA(),l.qZA(),l.TgZ(14,"li",8),l.TgZ(15,"a",9),l._uU(16,"Patrocinadores"),l.qZA(),l.qZA(),l.TgZ(17,"li",8),l.TgZ(18,"a",9),l._uU(19,"Inscritos"),l.qZA(),l.qZA(),l.TgZ(20,"li",8),l.TgZ(21,"a",9),l._uU(22,"Not\xedcias"),l.qZA(),l.qZA(),l.TgZ(23,"li",8),l.TgZ(24,"a",10),l.NdJ("click",function(){return o.logout()}),l._uU(25,"Sair"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(26,"section",11),l.TgZ(27,"div",1),l._UZ(28,"router-outlet"),l.qZA(),l.qZA(),l.TgZ(29,"footer",12),l.TgZ(30,"div",1),l.TgZ(31,"span",13),l._uU(32,"Desenvolvido por "),l.TgZ(33,"a",14),l._uU(34,"Johnny Rockembach Kraemer"),l.qZA(),l._uU(35,"."),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("routerLink",l.DdM(6,Fte)),l.xp6(7),l.Q6J("routerLink",l.DdM(7,Ute)),l.xp6(3),l.Q6J("routerLink",l.DdM(8,Zte)),l.xp6(3),l.Q6J("routerLink",l.DdM(9,Bte)),l.xp6(3),l.Q6J("routerLink",l.DdM(10,jte)),l.xp6(3),l.Q6J("routerLink",l.DdM(11,qte)))},directives:[ke,v1],styles:["nav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff!important}"]}),i})();const s5=function(){return["/"]};let Wte=(()=>{class i{constructor(){this.faBars=pl,this.faFacebook=I7,this.faInstagram=y0}ngOnInit(){}onWindowScroll(){let e=document.querySelector(".navbar");window.pageYOffset>e.clientHeight?e.classList.add("scrolled"):e.classList.remove("scrolled")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-home-layout"]],hostBindings:function(e,o){1&e&&l.NdJ("scroll",function(f){return o.onWindowScroll(f)},!1,l.Jf7)},decls:41,vars:15,consts:[[1,"navbar","navbar-expand-md","fixed-top",3,"scroll"],[1,"container"],[1,"navbar-brand",3,"routerLink"],["src","assets/image/logo_w.png","alt","Fenecan 2022"],["type","button","data-bs-toggle","collapse","data-bs-target","#navmenu",1,"navbar-toggler"],[1,"navbar-toggler-icon"],[2,"color","#fff","font-size","28px",3,"icon"],["id","navmenu",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],["aria-current","page","fragment","home",1,"nav-link",3,"routerLink"],["aria-current","page","fragment","palestrantes",1,"nav-link",3,"routerLink"],["aria-current","page","fragment","programacao",1,"nav-link",3,"routerLink"],["aria-current","page","fragment","apoiadores",1,"nav-link",3,"routerLink"],["aria-current","page","fragment","fenecan",1,"nav-link",3,"routerLink"],["aria-current","page","href","https://www.facebook.com/feirafenecan","target","_blank","rel","external nofollow",1,"nav-link"],[3,"icon"],["aria-current","page","href","https://www.instagram.com/feirafenecan/","target","_blank","rel","external nofollow",1,"nav-link"],[1,"footer","mt-auto","py-3","bg-light"],[1,"text-muted"],["href","https://www.linkedin.com/in/johnnykraemer/","rel","external nofollow",1,"text-decoration-none","link-dark"],["href","https://www.behance.net/mazinhomultiartes","rel","external nofollow",1,"text-decoration-none","link-dark"]],template:function(e,o){1&e&&(l.TgZ(0,"nav",0),l.NdJ("scroll",function(){return o.onWindowScroll()}),l.TgZ(1,"div",1),l.TgZ(2,"a",2),l._UZ(3,"img",3),l.qZA(),l.TgZ(4,"button",4),l.TgZ(5,"span",5),l._UZ(6,"fa-icon",6),l.qZA(),l.qZA(),l.TgZ(7,"div",7),l.TgZ(8,"ul",8),l.TgZ(9,"li",9),l.TgZ(10,"a",10),l._uU(11,"Home"),l.qZA(),l.qZA(),l.TgZ(12,"li",9),l.TgZ(13,"a",11),l._uU(14,"Atra\xe7\xf5es"),l.qZA(),l.qZA(),l.TgZ(15,"li",9),l.TgZ(16,"a",12),l._uU(17,"Programa\xe7\xe3o"),l.qZA(),l.qZA(),l.TgZ(18,"li",9),l.TgZ(19,"a",13),l._uU(20,"Apoiadores"),l.qZA(),l.qZA(),l.TgZ(21,"li",9),l.TgZ(22,"a",14),l._uU(23,"Conhe\xe7a"),l.qZA(),l.qZA(),l.TgZ(24,"li",9),l.TgZ(25,"a",15),l._UZ(26,"fa-icon",16),l.qZA(),l.qZA(),l.TgZ(27,"li",9),l.TgZ(28,"a",17),l._UZ(29,"fa-icon",16),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l._UZ(30,"router-outlet"),l.TgZ(31,"footer",18),l.TgZ(32,"div",1),l.TgZ(33,"span",19),l._uU(34,"Desenvolvido por "),l.TgZ(35,"a",20),l._uU(36,"Johnny Rockembach Kraemer"),l.qZA(),l._uU(37," e "),l.TgZ(38,"a",21),l._uU(39,"Mazinho Bertazo"),l.qZA(),l._uU(40,". "),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("routerLink",l.DdM(9,s5)),l.xp6(4),l.Q6J("icon",o.faBars),l.xp6(4),l.Q6J("routerLink",l.DdM(10,s5)),l.xp6(3),l.Q6J("routerLink",l.DdM(11,s5)),l.xp6(3),l.Q6J("routerLink",l.DdM(12,s5)),l.xp6(3),l.Q6J("routerLink",l.DdM(13,s5)),l.xp6(3),l.Q6J("routerLink",l.DdM(14,s5)),l.xp6(4),l.Q6J("icon",o.faFacebook),l.xp6(3),l.Q6J("icon",o.faInstagram))},directives:[ke,_3,v1],styles:["nav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff!important}.navbar.fixed-top.scrolled[_ngcontent-%COMP%]{background-color:#03a65a!important;transition:background-color .2s linear}"]}),i})();const $te=function(){return["/blog"]};let Qte=(()=>{class i{constructor(){this.faBars=pl,this.faFacebook=I7,this.faInstagram=y0}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-live-layout"]],decls:24,vars:3,consts:[[1,"navbar","navbar-expand-md","fixed-top","scrolled"],[1,"container"],["href","https://feirafenecan.com.br",1,"navbar-brand"],["src","assets/image/logo_w.png","alt","Fenecan 2022"],["id","navmenu",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],[1,"nav-item"],["aria-current","page",1,"nav-link",3,"routerLink"],["type","button","data-bs-toggle","collapse","data-bs-target","#navmenu",1,"navbar-toggler"],[1,"navbar-toggler-icon"],[2,"color","#fff","font-size","28px",3,"icon"],[1,"footer","mt-auto","py-3","bg-light"],[1,"text-muted"],["href","https://www.linkedin.com/in/johnnykraemer/","rel","external nofollow",1,"text-decoration-none","link-dark"],["href","https://www.behance.net/mazinhomultiartes","rel","external nofollow",1,"text-decoration-none","link-dark"]],template:function(e,o){1&e&&(l.TgZ(0,"nav",0),l.TgZ(1,"div",1),l.TgZ(2,"a",2),l._UZ(3,"img",3),l.qZA(),l.TgZ(4,"div",4),l.TgZ(5,"ul",5),l.TgZ(6,"li",6),l.TgZ(7,"a",7),l._uU(8,"Not\xedcias"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"button",8),l.TgZ(10,"span",9),l._UZ(11,"fa-icon",10),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(12,"main"),l._UZ(13,"router-outlet"),l.qZA(),l.TgZ(14,"footer",11),l.TgZ(15,"div",1),l.TgZ(16,"span",12),l._uU(17,"Desenvolvido por "),l.TgZ(18,"a",13),l._uU(19,"Johnny Rockembach Kraemer"),l.qZA(),l._uU(20," e "),l.TgZ(21,"a",14),l._uU(22,"Mazinho Bertazo"),l.qZA(),l._uU(23,". "),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(7),l.Q6J("routerLink",l.DdM(2,$te)),l.xp6(4),l.Q6J("icon",o.faBars))},directives:[ke,_3,v1],styles:["header[_ngcontent-%COMP%]{height:100vh;min-height:400px;background-size:cover;background-image:url(/assets/image/banner_mobile.jpg);background-position:center;background-repeat:no-repeat}nav[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff!important}.navbar.fixed-top.scrolled[_ngcontent-%COMP%]{background-color:#03a65a!important;transition:background-color .2s linear}.carousel-item[_ngcontent-%COMP%]{height:100vh;min-height:350px;background:no-repeat bottom center scroll;background-size:cover}.item-1[_ngcontent-%COMP%]{background-image:url(/assets/image/banner_shows_mobile.jpg)}.item-2[_ngcontent-%COMP%]{background-image:url(/assets/image/banner_bottini_mobile.jpg)}@media (min-width: 768px){header[_ngcontent-%COMP%]{height:100vh;min-height:400px;background-size:cover;background-position:center;background-repeat:no-repeat}.item-1[_ngcontent-%COMP%]{background-image:url(/assets/image/banner_shows.jpg)}.item-2[_ngcontent-%COMP%]{background-image:url(/assets/image/banner_bottini.jpg)}}main[_ngcontent-%COMP%]{padding:80px 0;background-color:#fff;background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 304 304' width='304' height='304'%3E%3Cpath fill='%2303a65a' fill-opacity='0.4' d='M44.1 224a5 5 0 1 1 0 2H0v-2h44.1zm160 48a5 5 0 1 1 0 2H82v-2h122.1zm57.8-46a5 5 0 1 1 0-2H304v2h-42.1zm0 16a5 5 0 1 1 0-2H304v2h-42.1zm6.2-114a5 5 0 1 1 0 2h-86.2a5 5 0 1 1 0-2h86.2zm-256-48a5 5 0 1 1 0 2H0v-2h12.1zm185.8 34a5 5 0 1 1 0-2h86.2a5 5 0 1 1 0 2h-86.2zM258 12.1a5 5 0 1 1-2 0V0h2v12.1zm-64 208a5 5 0 1 1-2 0v-54.2a5 5 0 1 1 2 0v54.2zm48-198.2V80h62v2h-64V21.9a5 5 0 1 1 2 0zm16 16V64h46v2h-48V37.9a5 5 0 1 1 2 0zm-128 96V208h16v12.1a5 5 0 1 1-2 0V210h-16v-76.1a5 5 0 1 1 2 0zm-5.9-21.9a5 5 0 1 1 0 2H114v48H85.9a5 5 0 1 1 0-2H112v-48h12.1zm-6.2 130a5 5 0 1 1 0-2H176v-74.1a5 5 0 1 1 2 0V242h-60.1zm-16-64a5 5 0 1 1 0-2H114v48h10.1a5 5 0 1 1 0 2H112v-48h-10.1zM66 284.1a5 5 0 1 1-2 0V274H50v30h-2v-32h18v12.1zM236.1 176a5 5 0 1 1 0 2H226v94h48v32h-2v-30h-48v-98h12.1zm25.8-30a5 5 0 1 1 0-2H274v44.1a5 5 0 1 1-2 0V146h-10.1zm-64 96a5 5 0 1 1 0-2H208v-80h16v-14h-42.1a5 5 0 1 1 0-2H226v18h-16v80h-12.1zm86.2-210a5 5 0 1 1 0 2H272V0h2v32h10.1zM98 101.9V146H53.9a5 5 0 1 1 0-2H96v-42.1a5 5 0 1 1 2 0zM53.9 34a5 5 0 1 1 0-2H80V0h2v34H53.9zm60.1 3.9V66H82v64H69.9a5 5 0 1 1 0-2H80V64h32V37.9a5 5 0 1 1 2 0zM101.9 82a5 5 0 1 1 0-2H128V37.9a5 5 0 1 1 2 0V82h-28.1zm16-64a5 5 0 1 1 0-2H146v44.1a5 5 0 1 1-2 0V18h-26.1zm102.2 270a5 5 0 1 1 0 2H98v14h-2v-16h124.1zM242 149.9V160h16v34h-16v62h48v48h-2v-46h-48v-66h16v-30h-16v-12.1a5 5 0 1 1 2 0zM53.9 18a5 5 0 1 1 0-2H64V2H48V0h18v18H53.9zm112 32a5 5 0 1 1 0-2H192V0h50v2h-48v48h-28.1zm-48-48a5 5 0 0 1-9.8-2h2.07a3 3 0 1 0 5.66 0H178v34h-18V21.9a5 5 0 1 1 2 0V32h14V2h-58.1zm0 96a5 5 0 1 1 0-2H137l32-32h39V21.9a5 5 0 1 1 2 0V66h-40.17l-32 32H117.9zm28.1 90.1a5 5 0 1 1-2 0v-76.51L175.59 80H224V21.9a5 5 0 1 1 2 0V82h-49.59L146 112.41v75.69zm16 32a5 5 0 1 1-2 0v-99.51L184.59 96H300.1a5 5 0 0 1 3.9-3.9v2.07a3 3 0 0 0 0 5.66v2.07a5 5 0 0 1-3.9-3.9H185.41L162 121.41v98.69zm-144-64a5 5 0 1 1-2 0v-3.51l48-48V48h32V0h2v50H66v55.41l-48 48v2.69zM50 53.9v43.51l-48 48V208h26.1a5 5 0 1 1 0 2H0v-65.41l48-48V53.9a5 5 0 1 1 2 0zm-16 16V89.41l-34 34v-2.82l32-32V69.9a5 5 0 1 1 2 0zM12.1 32a5 5 0 1 1 0 2H9.41L0 43.41V40.6L8.59 32h3.51zm265.8 18a5 5 0 1 1 0-2h18.69l7.41-7.41v2.82L297.41 50H277.9zm-16 160a5 5 0 1 1 0-2H288v-71.41l16-16v2.82l-14 14V210h-28.1zm-208 32a5 5 0 1 1 0-2H64v-22.59L40.59 194H21.9a5 5 0 1 1 0-2H41.41L66 216.59V242H53.9zm150.2 14a5 5 0 1 1 0 2H96v-56.6L56.6 162H37.9a5 5 0 1 1 0-2h19.5L98 200.6V256h106.1zm-150.2 2a5 5 0 1 1 0-2H80v-46.59L48.59 178H21.9a5 5 0 1 1 0-2H49.41L82 208.59V258H53.9zM34 39.8v1.61L9.41 66H0v-2h8.59L32 40.59V0h2v39.8zM2 300.1a5 5 0 0 1 3.9 3.9H3.83A3 3 0 0 0 0 302.17V256h18v48h-2v-46H2v42.1zM34 241v63h-2v-62H0v-2h34v1zM17 18H0v-2h16V0h2v18h-1zm273-2h14v2h-16V0h2v16zm-32 273v15h-2v-14h-14v14h-2v-16h18v1zM0 92.1A5.02 5.02 0 0 1 6 97a5 5 0 0 1-6 4.9v-2.07a3 3 0 1 0 0-5.66V92.1zM80 272h2v32h-2v-32zm37.9 32h-2.07a3 3 0 0 0-5.66 0h-2.07a5 5 0 0 1 9.8 0zM5.9 0A5.02 5.02 0 0 1 0 5.9V3.83A3 3 0 0 0 3.83 0H5.9zm294.2 0h2.07A3 3 0 0 0 304 3.83V5.9a5 5 0 0 1-3.9-5.9zm3.9 300.1v2.07a3 3 0 0 0-1.83 1.83h-2.07a5 5 0 0 1 3.9-3.9zM97 100a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0-16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm16 16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm16 16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0 16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-48 32a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm16 16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm32 48a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16 16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm32-16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0-32a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm16 32a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm32 16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0-16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16-64a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm16 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm16 96a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0 16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm16 16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm16-144a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0 32a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm16-32a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm16-16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-96 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0 16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm16-32a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm96 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16-64a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm16-16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-32 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0-16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM49 36a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-32 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm32 16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM33 68a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm16-48a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0 240a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm16 32a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16-64a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0 16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16-32a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm80-176a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm16 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16-16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm32 48a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm16-16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0-32a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm112 176a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-16 16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0 16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0 16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM17 180a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0 16a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm0-32a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm16 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6zM17 84a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm32 64a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm16-16a3 3 0 1 0 0-6 3 3 0 0 0 0 6z'%3E%3C/path%3E%3C/svg%3E\")}"]}),i})();function Yte(i,t){if(1&i&&(l.TgZ(0,"div",26),l.TgZ(1,"div",27),l._UZ(2,"iframe",28),l.qZA(),l.qZA()),2&i){const e=l.oxw();l.xp6(2),l.Q6J("src",e._sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+e.event.linkLive),l.uOi)}}function Jte(i,t){if(1&i&&(l.TgZ(0,"p",29),l.TgZ(1,"span"),l._uU(2,"Por "),l.qZA(),l._uU(3),l.qZA()),2&i){const e=l.oxw();l.xp6(3),l.hij("",e.event.by,".")}}function Kte(i,t){if(1&i&&(l.TgZ(0,"p",29),l.TgZ(1,"span"),l._uU(2,"Das "),l.qZA(),l._uU(3),l.TgZ(4,"span"),l._uU(5," at\xe9 "),l.qZA(),l._uU(6),l.qZA()),2&i){const e=l.oxw();l.xp6(3),l.Oqu(e.event.time_start),l.xp6(3),l.hij("",e.event.time_end,".")}}function Xte(i,t){if(1&i&&(l.TgZ(0,"div",30),l.TgZ(1,"span",13),l._uU(2,"Participe:"),l.qZA(),l.TgZ(3,"div",31),l._UZ(4,"iframe",32),l.qZA(),l.qZA()),2&i){const e=l.oxw();l.xp6(4),l.Q6J("src",e._sanitizer.bypassSecurityTrustResourceUrl("https://www.menti.com/"+e.event.mentimeter),l.uOi)}}function e2e(i,t){if(1&i&&(l.TgZ(0,"div",33),l.TgZ(1,"a",34),l._UZ(2,"img",35),l.qZA(),l.qZA()),2&i){const e=t.$implicit;l.xp6(1),l.s9C("href",e.link,l.LSH),l.xp6(1),l.s9C("src",e.photoURL,l.LSH),l.s9C("alt",e.name)}}let BF=(()=>{class i{constructor(e,o,c,f,v,_,M){this._route=e,this._router=o,this._eventService=c,this._sanitizer=f,this._sponsorService=v,this.document=_,this._changeDetection=M,this.event=new UF,this.slideConfig={autoplay:!0,slidesToShow:4,slidesToScroll:1,arrows:!1,speed:100,responsive:[{breakpoint:1024,settings:{slidesToShow:3,infinite:!0}},{breakpoint:600,settings:{slidesToShow:2,dots:!0}},{breakpoint:300,settings:"unslick"}]}}ngOnInit(){console.log(this.document.location.host);let e=this._route.snapshot.paramMap.get("id");this.host=this.document.location.host,console.log("id",e),e?(this.get(e),this.getAllSponsors()):this.document.location.href="https://feirafenecan.com.br"}get(e){this._eventService.get(e).then(o=>{console.log(o),o.data()?(this.event=o.data(),console.log(this.event),$(window).scrollTop(0),this._changeDetection.markForCheck()):this.sair()}).catch(o=>console.log(o))}getAllSponsors(){this._sponsorService.getAll(1e4).snapshotChanges().pipe(Mr(1)).subscribe(e=>{let o=e.map(c=>Object.assign({id:c.payload.doc.id},c.payload.doc.data()));this.sponsors=o,this._changeDetection.markForCheck(),console.log(this.sponsors)})}sair(){this._router.navigate(["/"])}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(_4),l.Y36(Z),l.Y36(LT),l.Y36(d2),l.Y36(ZT),l.Y36(Ee),l.Y36(l.sBO))},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-live"]],decls:34,vars:9,consts:[[1,"container"],[1,"corpo"],[1,"row"],[1,"col"],[1,"section-title"],[1,"section-title-title"],[1,"row","live"],["class","col-12 col-md-8","style","padding: 0px",4,"ngIf"],[1,"col-12","col-md-4",2,"padding","0px"],[1,"chat-container"],["width","100%","height","450px","allowfullscreen","","frameborder","0",3,"src"],[1,"col-12","col-md-12","live-description"],[1,"event-header"],[1,"event-name"],[1,"event-description"],["class","event-by",4,"ngIf"],["class","row","style","margin-top: 50px;",4,"ngIf"],[1,"row",2,"margin-top","50px","margin-bottom","50px","padding","0"],[1,"carousel",2,"padding","0",3,"config"],["slickModal","slick-carousel"],["ngxSlickItem","","class","slide",4,"ngFor","ngForOf"],[1,"row",2,"margin-bottom","50px"],[1,"col-12","col-md-6","text-center","img-right",2,"margin-bottom","30px"],["src","assets/image/aciacca.png","alt","ACIACCA - Cana\xe3 dos Caraj\xe1s",1,"",2,"max-width","50%","height","auto"],[1,"col-12","col-md-6","text-center","justify-content-center","align-self-center"],["src","assets/image/prefeitura.png","alt","Prefeitura Cana\xe3 dos Caraj\xe1s",1,"",2,"max-width","100%","height","auto"],[1,"col-12","col-md-8",2,"padding","0px"],[1,"video-container"],["width","100%","height","600px","title","YouTube video player","frameborder","0","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",3,"src"],[1,"event-by"],[1,"row",2,"margin-top","50px"],[2,"position","relative","padding-bottom","56.25%","padding-top","35px","height","500px","overflow","hidden"],["allowfullscreen","true","allowtransparency","true","frameborder","0","height","600px","width","420",2,"position","absolute","top","0","left","0","width","100%","height","100%",3,"src"],["ngxSlickItem","",1,"slide"],["target","_blank",3,"href"],["width","100%",3,"src","alt"]],template:function(e,o){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"h1",5),l._uU(6,"ACIACCA E AS EMPRESAS EXPOSITORES DA V FENECAN, APRESENTAM:"),l.qZA(),l.qZA(),l.TgZ(7,"div",6),l.YNc(8,Yte,3,1,"div",7),l.TgZ(9,"div",8),l.TgZ(10,"div",9),l._UZ(11,"iframe",10),l.qZA(),l.qZA(),l.TgZ(12,"div",11),l.TgZ(13,"div",12),l.TgZ(14,"span",13),l._uU(15),l.qZA(),l.TgZ(16,"p",14),l._uU(17),l.qZA(),l.YNc(18,Jte,4,1,"p",15),l.YNc(19,Kte,7,2,"p",15),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(20,Xte,5,1,"div",16),l.TgZ(21,"div",3),l.TgZ(22,"div",17),l.TgZ(23,"span",13),l._uU(24,"Juntos criando uma nova Fenecan \u2764\ufe0f"),l.qZA(),l.TgZ(25,"ngx-slick-carousel",18,19),l.YNc(27,e2e,3,3,"div",20),l.qZA(),l.qZA(),l.qZA(),l.TgZ(28,"div",3),l.TgZ(29,"div",21),l.TgZ(30,"div",22),l._UZ(31,"img",23),l.qZA(),l.TgZ(32,"div",24),l._UZ(33,"img",25),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(8),l.Q6J("ngIf",o.event.linkLive),l.xp6(3),l.Q6J("src",o._sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/live_chat?v="+o.event.linkLive+"&embed_domain="+o.host),l.uOi),l.xp6(4),l.Oqu(o.event.name),l.xp6(2),l.Oqu(o.event.description),l.xp6(1),l.Q6J("ngIf",o.event.by&&""!=o.event.by),l.xp6(1),l.Q6J("ngIf",o.event.time_start&&""!=o.event.time_start),l.xp6(1),l.Q6J("ngIf",o.event.mentimeter),l.xp6(5),l.Q6J("config",o.slideConfig),l.xp6(2),l.Q6J("ngForOf",o.sponsors))},directives:[S1,BT,Ye,ZF],styles:[".section-title[_ngcontent-%COMP%]{text-align:left;margin:0}.section-title-title[_ngcontent-%COMP%]{font-size:25px!important}.video-container[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0}.video-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-top-left-radius:10px}@media (max-width: 768px){.video-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{border-top-left-radius:0}}.chat-container[_ngcontent-%COMP%]{width:100%;height:100%}.chat-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{width:100%;height:100%;border-top-right-radius:10px}@media (max-width: 768px){.chat-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{border-top-right-radius:0;height:400px}}.live[_ngcontent-%COMP%]{box-shadow:0 7px 27px #0000000d}.live-description[_ngcontent-%COMP%]{padding:20px}.event-header[_ngcontent-%COMP%]{text-align:start;padding:0 15px}.event-header[_ngcontent-%COMP%]   .event-name[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.event-header[_ngcontent-%COMP%]   .event-description[_ngcontent-%COMP%]{margin-bottom:5px}.event-header[_ngcontent-%COMP%]   .event-by[_ngcontent-%COMP%]{font-size:14px;margin-bottom:2px}.event-header[_ngcontent-%COMP%]   .event-by[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}.event-name[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.container[_ngcontent-%COMP%]{min-height:100vh}.corpo[_ngcontent-%COMP%]{padding:50px;background-color:#fff;border-radius:20px}@media (max-width: 768px){.corpo[_ngcontent-%COMP%]{padding:20px}}"],changeDetection:0}),i})(),t2e=(()=>{class i{constructor(e,o){this._authService=e,this._formBuilder=o}ngOnInit(){this.signInForm=this._formBuilder.group({email:["",[t2.required,t2.email]],password:["",t2.required]})}signIn(){this.signInForm.invalid||(this.signInForm.disable(),console.log(this.signInForm.value),this._authService.signIn(this.signInForm.value.email,this.signInForm.value.password),this.signInForm.enable())}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(oy),l.Y36(Cs))},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-login"]],decls:15,vars:4,consts:[[1,"form-signin"],[3,"formGroup"],["signInNgForm","ngForm"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","id","floatingInput",1,"form-control",3,"formControlName"],["for","floatingInput"],["type","password","id","floatingPassword",1,"form-control",3,"formControlName"],["for","floatingPassword"],[1,"w-100","btn","btn-lg","btn-primary",3,"disabled","click"]],template:function(e,o){1&e&&(l.TgZ(0,"main",0),l.TgZ(1,"form",1,2),l.TgZ(3,"h1",3),l._uU(4,"Login"),l.qZA(),l.TgZ(5,"div",4),l._UZ(6,"input",5),l.TgZ(7,"label",6),l._uU(8,"Email"),l.qZA(),l.qZA(),l.TgZ(9,"div",4),l._UZ(10,"input",7),l.TgZ(11,"label",8),l._uU(12,"Senha"),l.qZA(),l.qZA(),l.TgZ(13,"button",9),l.NdJ("click",function(){return o.signIn()}),l._uU(14,"Entrar"),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.Q6J("formGroup",o.signInForm),l.xp6(5),l.Q6J("formControlName","email"),l.xp6(4),l.Q6J("formControlName","password"),l.xp6(3),l.Q6J("disabled",o.signInForm.disabled||o.signInForm.invalid))},directives:[bs,ys,b6,_6,gs,Ma],styles:[".form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:10% auto auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}"]}),i})();const ay=new l.OlP("config"),jF=new l.OlP("NEW_CONFIG"),qF=new l.OlP("INITIAL_CONFIG"),n2e={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:".",clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}};let jT=(()=>{class i{constructor(e){this._config=e,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(o,c,f,v)=>{const _=o.split(f),M=_.length>1?`${f}${_[1]}`:"";let E=_[0];const S=this.separatorLimit.replace(/\s/g,"");S&&+S&&(E="-"===E[0]?`-${E.slice(1,E.length).slice(0,S.length)}`:E.slice(0,S.length));const I=/(\d+)(\d{3})/;for(;c&&I.test(E);)E=E.replace(I,"$1"+c+"$2");return void 0===v?E+M:0===v?E:E+M.substr(0,v+1)},this.percentage=o=>Number(o)>=0&&Number(o)<=100,this.getPrecision=o=>{const c=o.split(".");return c.length>1?Number(c[c.length-1]):1/0},this.checkAndRemoveSuffix=o=>{var c,f,v;for(let _=(null===(c=this.suffix)||void 0===c?void 0:c.length)-1;_>=0;_--){const M=this.suffix.substr(_,null===(f=this.suffix)||void 0===f?void 0:f.length);if(o.includes(M)&&(_-1<0||!o.includes(this.suffix.substr(_-1,null===(v=this.suffix)||void 0===v?void 0:v.length))))return o.replace(M,"")}return o},this.checkInputPrecision=(o,c,f)=>{if(c<1/0){const v=new RegExp(this._charToRegExpExpression(f)+`\\d{${c}}.*$`),_=o.match(v);_&&_[0].length-1>c&&(o=o.substring(0,o.length-(_[0].length-1-c))),0===c&&o.endsWith(f)&&(o=o.substring(0,o.length-1))}return o},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(e,o){const[c,f]=o;return this.customPattern=f,this.applyMask(e,c)}applyMask(e,o,c=0,f=!1,v=!1,_=(()=>{})){if(null==e||void 0===o)return"";let M=0,E="",S=!1,I=!1,R=1,O=!1;e.slice(0,this.prefix.length)===this.prefix&&(e=e.slice(this.prefix.length,e.length)),this.suffix&&(null==e?void 0:e.length)>0&&(e=this.checkAndRemoveSuffix(e));const U=e.toString().split("");"IP"===o&&(this.ipError=U.filter(Re=>"."===Re).length<3&&U.length<7,o="099.099.099.099");const J=[];for(let Re=0;Re<e.length;Re++)e[Re].match("\\d")&&J.push(e[Re]);if("CPF_CNPJ"===o&&(this.cpfCnpjError=11!==J.length&&14!==J.length,o=J.length>11?"00.000.000/0000-00":"000.000.000-00"),o.startsWith("percent")){if(e.match("[a-z]|[A-Z]")||e.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){e=this._stripToDecimal(e);const Re=this.getPrecision(o);e=this.checkInputPrecision(e,Re,this.decimalMarker)}e.indexOf(".")>0&&!this.percentage(e.substring(0,e.indexOf(".")))&&(e=`${e.substring(0,e.indexOf(".")-1)}${e.substring(e.indexOf("."),e.length)}`),E=this.percentage(e)?e:e.substring(0,e.length-1)}else if(o.startsWith("separator")){(e.match("[w\u0430-\u044f\u0410-\u042f]")||e.match("[\u0401\u0451\u0410-\u044f]")||e.match("[a-z]|[A-Z]")||e.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||e.match("[^A-Za-z0-9,]"))&&(e=this._stripToDecimal(e)),e=e.length>1&&"0"===e[0]&&e[1]!==this.decimalMarker&&!v?e.slice(1,e.length):e;const Re=this._charToRegExpExpression(this.thousandSeparator),Ve=this._charToRegExpExpression(this.decimalMarker),i1='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(Re,"").replace(Ve,""),K1=new RegExp("["+i1+"]");e.match(K1)&&(e=e.substring(0,e.length-1));const L2=this.getPrecision(o),Vt=(e=this.checkInputPrecision(e,L2,this.decimalMarker)).replace(new RegExp(Re,"g"),"");E=this._formatWithSeparators(Vt,this.thousandSeparator,this.decimalMarker,L2);const $r=E.indexOf(",")-e.indexOf(","),hr=E.length-e.length;if(hr>0&&","!==E[c]){I=!0;let x6=0;do{this._shift.add(c+x6),x6++}while(x6<hr)}else 0!==$r&&c>0&&!(E.indexOf(",")>=c&&c>3)||!(E.indexOf(".")>=c&&c>3)&&hr<=0?(this._shift.clear(),I=!0,R=hr,this._shift.add(c+=hr)):this._shift.clear()}else for(let Re=0,Ve=U[0];Re<U.length&&M!==o.length;Re++,Ve=U[Re])if(this._checkSymbolMask(Ve,o[M])&&"?"===o[M+1])E+=Ve,M+=2;else if("*"===o[M+1]&&S&&this._checkSymbolMask(Ve,o[M+2]))E+=Ve,M+=3,S=!1;else if(this._checkSymbolMask(Ve,o[M])&&"*"===o[M+1])E+=Ve,S=!0;else if("?"===o[M+1]&&this._checkSymbolMask(Ve,o[M+2]))E+=Ve,M+=3;else if(this._checkSymbolMask(Ve,o[M])){if("H"===o[M]&&Number(Ve)>2){M+=1,this._shiftStep(o,M,U.length),Re--,this.leadZeroDateTime&&(E+="0");continue}if("h"===o[M]&&"2"===E&&Number(Ve)>3){M+=1,Re--;continue}if("m"===o[M]&&Number(Ve)>5){M+=1,this._shiftStep(o,M,U.length),Re--,this.leadZeroDateTime&&(E+="0");continue}if("s"===o[M]&&Number(Ve)>5){M+=1,this._shiftStep(o,M,U.length),Re--,this.leadZeroDateTime&&(E+="0");continue}const i1=31;if("d"===o[M]&&(Number(Ve)>3&&this.leadZeroDateTime||Number(e.slice(M,M+2))>i1||"/"===e[M+1])){M+=1,this._shiftStep(o,M,U.length),Re--,this.leadZeroDateTime&&(E+="0");continue}if("M"===o[M]){const K1=12,L2=0===M&&(Number(Ve)>2||Number(e.slice(M,M+2))>K1||"/"===e[M+1]),Vt=e.slice(M-3,M-1).includes("/")&&("/"===e[M-2]&&Number(e.slice(M-1,M+1))>K1&&"/"!==e[M]||"/"===e[M]||"/"===e[M-3]&&Number(e.slice(M-2,M))>K1&&"/"!==e[M-1]||"/"===e[M-1]),$r=Number(e.slice(M-3,M-1))<=i1&&!e.slice(M-3,M-1).includes("/")&&"/"===e[M-1]&&(Number(e.slice(M,M+2))>K1||"/"===e[M+1]),hr=Number(e.slice(M-3,M-1))>i1&&!e.slice(M-3,M-1).includes("/")&&!e.slice(M-2,M).includes("/")&&Number(e.slice(M-2,M))>K1,x6=Number(e.slice(M-3,M-1))<=i1&&!e.slice(M-3,M-1).includes("/")&&"/"!==e[M-1]&&Number(e.slice(M-1,M+1))>K1;if(Number(Ve)>1&&this.leadZeroDateTime||L2||Vt||$r||hr||x6){M+=1,this._shiftStep(o,M,U.length),Re--,this.leadZeroDateTime&&(E+="0");continue}}E+=Ve,M++}else-1!==this.maskSpecialCharacters.indexOf(o[M])?(E+=o[M],M++,this._shiftStep(o,M,U.length),Re--):this.maskSpecialCharacters.indexOf(Ve)>-1&&this.maskAvailablePatterns[o[M]]&&this.maskAvailablePatterns[o[M]].optional?(!!U[M]&&"099.099.099.099"!==o&&"000.000.000-00"!==o&&"00.000.000/0000-00"!==o&&(E+=U[M]),M++,Re--):"*"===this.maskExpression[M+1]&&this._findSpecialChar(this.maskExpression[M+2])&&this._findSpecialChar(Ve)===this.maskExpression[M+2]&&S||"?"===this.maskExpression[M+1]&&this._findSpecialChar(this.maskExpression[M+2])&&this._findSpecialChar(Ve)===this.maskExpression[M+2]&&S?(M+=3,E+=Ve):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(Ve)<0&&Ve!==this.placeHolderCharacter&&(O=!0);E.length+1===o.length&&-1!==this.maskSpecialCharacters.indexOf(o[o.length-1])&&(E+=o[o.length-1]);let le=c+1;for(;this._shift.has(le);)R++,le++;let ge=f?M:this._shift.has(c)?R:0;O&&ge--,_(ge,I),R<0&&this._shift.clear();let Ae=!1;v&&(Ae=U.every(Re=>this.maskSpecialCharacters.includes(Re)));let xe=`${this.prefix}${Ae?"":E}${this.suffix}`;return 0===E.length&&(xe=`${this.prefix}${E}`),xe}_findSpecialChar(e){return this.maskSpecialCharacters.find(o=>o===e)}_checkSymbolMask(e,o){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[o]&&this.maskAvailablePatterns[o].pattern&&this.maskAvailablePatterns[o].pattern.test(e)}_stripToDecimal(e){return e.split("").filter((o,c)=>o.match("^-?\\d")||o.match("\\s")||"."===o||","===o||"-"===o&&0===c&&this.allowNegativeNumbers).join("")}_charToRegExpExpression(e){return e&&(" "===e?"\\s":"[\\^$.|?*+()".indexOf(e)>=0?"\\"+e:e)}_shiftStep(e,o,c){const f=/[*?]/g.test(e.slice(0,o))?c:o;this._shift.add(f+this.prefix.length||0)}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(ay))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})(),o2e=(()=>{class i{constructor(e){this._maskService=e}transform(e,o,c=null){return e||"number"==typeof e?(c&&(this._maskService.thousandSeparator=c),"string"==typeof o?this._maskService.applyMask(`${e}`,o):this._maskService.applyMaskWithPattern(`${e}`,o)):""}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(jT,16))},i.\u0275pipe=l.Yjl({name:"mask",type:i,pure:!0}),i})(),a2e=(()=>{class i{static forRoot(e){return{ngModule:i,providers:[{provide:jF,useValue:e},{provide:qF,useValue:n2e},{provide:ay,useFactory:s2e,deps:[qF,jF]},jT]}}static forChild(){return{ngModule:i}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({}),i})();function s2e(i,t){return Object.assign(Object.assign({},i),t instanceof Function?t():t)}const WF="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};WF.KeyboardEvent||(WF.KeyboardEvent=function(i,t){});const c2e=["inputFile"];function l2e(i,t){if(1&i){const e=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.ALo(7,"mask"),l.qZA(),l.TgZ(8,"td"),l._uU(9),l.qZA(),l.TgZ(10,"td"),l._uU(11),l.qZA(),l.TgZ(12,"td"),l.TgZ(13,"button",39),l.NdJ("click",function(){const f=l.CHM(e).$implicit;return l.oxw().setEvent(f)}),l._uU(14,"Excluir"),l.qZA(),l.qZA(),l.qZA()}if(2&i){const e=t.$implicit;l.xp6(2),l.Oqu(e.nome),l.xp6(2),l.Oqu(e.email),l.xp6(2),l.Oqu(l.xi3(7,5,e.celular,"(00) 0 0000-0000")),l.xp6(3),l.Oqu(e.estado),l.xp6(2),l.Oqu(e.cidade)}}function u2e(i,t){if(1&i){const e=l.EpF();l.TgZ(0,"div",40),l.TgZ(1,"div",41),l._UZ(2,"img",42),l.TgZ(3,"div",43),l.TgZ(4,"a",44),l.NdJ("click",function(){return l.CHM(e),l.oxw().deleteImage()}),l._UZ(5,"fa-icon",45),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&i){const e=l.oxw();l.xp6(2),l.Q6J("src",e.form.value.photoURL,l.LSH),l.xp6(3),l.Q6J("icon",e.faTrash)}}function f2e(i,t){if(1&i){const e=l.EpF();l.TgZ(0,"div",21),l.TgZ(1,"label",46),l._uU(2,"Imagem"),l.qZA(),l.TgZ(3,"input",47,48),l.NdJ("change",function(c){return l.CHM(e),l.oxw().fileChangeEvent(c)}),l.qZA(),l.qZA()}}let h2e=(()=>{class i{constructor(e,o,c){this._participantsService=e,this._formBuilder=o,this._uploadService=c,this._unsubscribeAll=new Nt.xQ,this.faTrash=vc,this.participants=[],this.imageChangedEvent="",this.croppedImage="",this.search="",this.disable_next=!1,this.disable_prev=!0,this.first=[],this.firstInResponse=[],this.lastInResponse=[],this.limit=10}ngOnInit(){this.form=this._formBuilder.group({id:[""],name:["",[t2.required]],name_where:[""],position:[""],description:[""],facebook:[""],instagram:[""],youtube:[""],email:[""],photoURL:[""],thumbnailURL:[""]}),this.getAll()}setEvent(e){this.form.reset(),this.inputImage&&(this.inputImage.nativeElement.value=""),e&&this.form.patchValue(e)}getAll(){this._participantsService.getAll(this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!0,!1,!1)})}prev(){this._participantsService.prev(this.search,this.firstInResponse,this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!1,!0,!1)})}next(){this._participantsService.next(this.search,this.lastInResponse,this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!1,!1,!0)})}find(){this._participantsService.find(this.search,this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!0,!1,!1)})}pagination(e,o,c,f){if(e.length>0){this.disable_prev=!1,this.disable_next=!1,this.firstInResponse=e[0].payload.doc,this.lastInResponse=e[e.length-1].payload.doc;let v=e.map(_=>Object.assign({id:_.payload.doc.id},_.payload.doc.data()));this.participants=v,o?(this.first=this.firstInResponse,this.disable_prev=!0):this.first.id===this.firstInResponse.id&&(this.disable_prev=!0),this.participants.length<this.limit&&(this.disable_next=!0)}else o?(this.disable_prev=!0,this.disable_next=!0):c?this.disable_prev=!0:f&&(this.disable_next=!0)}save(){this.form.invalid||(this.form.disable(),this.form.patchValue({name_where:this.form.value.name.toLowerCase()}),this.form.value.id?this._participantsService.update(this.form.value.id,this.form.value).then(()=>{this.form.enable(),this.form.reset(),$("#editModal").modal("hide"),console.log("Update item successfully!")}).catch(e=>console.log(e)):this._participantsService.create(this.form.value).then(()=>{this.form.enable(),this.form.reset(),$("#editModal").modal("hide"),this.getAll(),console.log("Created new item successfully!")}).catch(e=>console.log(e)))}delete(){this._participantsService.delete(this.form.value.id).then(()=>{this.form.enable(),this.form.reset(),$("#deleteModal").modal("hide"),this.getAll(),console.log("Delete item successfully!")}).catch(e=>console.log(e))}upload(){const e=this.croppedImage,{downloadUrl$:o,uploadProgress$:c}=this._uploadService.pushFileToStorage(e);c.pipe(nt(this._unsubscribeAll)).subscribe(f=>{this.percentage=Math.round(f)}),o.pipe(nt(this._unsubscribeAll)).subscribe(f=>{const[v,_]=f.split(".jpeg");this.form.patchValue({photoURL:v+".jpeg?alt=media",thumbnailURL:v+"_60x60.jpeg?alt=media"}),this.inputImage.nativeElement.value="",$("#cropperModal").modal("hide")})}fileChangeEvent(e){$("#cropperModal").modal("show"),this.imageChangedEvent=e}imageCropped(e){this.croppedImage=e.base64}deleteImage(){this._uploadService.deleteFile(this.form.value.photoURL).then(()=>{this._uploadService.deleteFile(this.form.value.thumbnailURL).then(()=>{this.form.patchValue({photoURL:"",thumbnailURL:""}),this.form.value.id&&this.save()}).catch(e=>{this.form.patchValue({photoURL:"",thumbnailURL:""}),this.form.value.id&&this.save()})}).catch(e=>console.log(e))}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(FF),l.Y36(Cs),l.Y36(Au))},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-participants"]],viewQuery:function(e,o){if(1&e&&l.Gf(c2e,5),2&e){let c;l.iGM(c=l.CRH())&&(o.inputImage=c.first)}},decls:109,vars:19,consts:[[1,"d-flex","bd-highlight","mb-3"],[1,"me-auto","bd-highlight"],[1,"bd-highlight"],[1,"pb-3","bg-highlight"],["type","search","placeholder","Pesquisar por nome...","aria-label","Search",1,"form-control",3,"ngModel","ngModelChange","keyup","change"],[1,"table-responsive"],[1,"table","table-sm","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["colspan","6",2,"text-align","end"],["type","button",1,"btn","btn-secondary","btn-sm","m-1",3,"disabled","click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"disabled","click"],["id","editModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true","data-bs-keyboard","false",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","g-3",3,"formGroup"],["class","col-md-12 text-center",4,"ngIf"],[1,"col-md-12"],[1,"form-label"],["type","text",1,"form-control",3,"formControlName"],["rows","4","cols","50",1,"form-control",3,"formControlName"],["type","email",1,"form-control",3,"formControlName"],["type","url",1,"form-control",3,"formControlName"],["class","col-md-12",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["id","deleteModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade"],["type","button",1,"btn","btn-primary",3,"click"],["id","cropperModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"row"],[1,"col-md-6"],["format","jpeg","resizeToWidth","360","onlyScaleDown","true","imageQuality","80","resizeToHeight","360",1,"croppedImage","p-0",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","imageCropped"],[1,"croppedImage",3,"src"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger","btn-sm",2,"margin-left","10px",3,"click"],[1,"col-md-12","text-center"],[1,"container-image"],["alt","Image","width","150","height","150",1,"rounded-circle",3,"src"],[1,"overlay"],["title","Excluir Imagem",1,"play-icon",3,"click"],[1,"detele-icon",3,"icon"],["for","formFile",1,"form-label"],["type","file","accept",".jpg,.jpeg",1,"form-control",3,"change"],["inputFile",""]],template:function(e,o){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h2"),l._uU(3,"Inscritos"),l.qZA(),l.qZA(),l._UZ(4,"div",2),l.qZA(),l.TgZ(5,"div",3),l.TgZ(6,"input",4),l.NdJ("ngModelChange",function(f){return o.search=f})("keyup",function(){return o.find()})("change",function(){return o.find()}),l.qZA(),l.qZA(),l.TgZ(7,"div",5),l.TgZ(8,"table",6),l.TgZ(9,"thead"),l.TgZ(10,"tr"),l.TgZ(11,"th",7),l._uU(12,"Nome"),l.qZA(),l.TgZ(13,"th",7),l._uU(14,"E-mail"),l.qZA(),l.TgZ(15,"th",7),l._uU(16,"Celular"),l.qZA(),l.TgZ(17,"th",7),l._uU(18,"UF"),l.qZA(),l.TgZ(19,"th",7),l._uU(20,"Cidade"),l.qZA(),l.TgZ(21,"th",7),l._uU(22,"A\xe7\xf5es"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(23,"tbody"),l.YNc(24,l2e,15,8,"tr",8),l.qZA(),l.TgZ(25,"tfoot"),l.TgZ(26,"tr"),l.TgZ(27,"td",9),l.TgZ(28,"button",10),l.NdJ("click",function(){return o.prev()}),l._uU(29,"Anterior"),l.qZA(),l.TgZ(30,"button",11),l.NdJ("click",function(){return o.next()}),l._uU(31,"Pr\xf3ximo"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(32,"div",12),l.TgZ(33,"div",13),l.TgZ(34,"div",14),l.TgZ(35,"div",15),l.TgZ(36,"h5",16),l._uU(37,"Cadastro de Inscritos"),l.qZA(),l._UZ(38,"button",17),l.qZA(),l.TgZ(39,"div",18),l.TgZ(40,"form",19),l.YNc(41,u2e,6,2,"div",20),l.TgZ(42,"div",21),l.TgZ(43,"label",22),l._uU(44,"Nome*"),l.qZA(),l._UZ(45,"input",23),l.qZA(),l.TgZ(46,"div",21),l.TgZ(47,"label",22),l._uU(48,"Posi\xe7\xe3o"),l.qZA(),l._UZ(49,"input",23),l.qZA(),l.TgZ(50,"div",21),l.TgZ(51,"label",22),l._uU(52,"Descri\xe7\xe3o"),l.qZA(),l._UZ(53,"textarea",24),l.qZA(),l.TgZ(54,"div",21),l.TgZ(55,"label",22),l._uU(56,"E-mail"),l.qZA(),l._UZ(57,"input",25),l.qZA(),l.TgZ(58,"div",21),l.TgZ(59,"label",22),l._uU(60,"Facebook"),l.qZA(),l._UZ(61,"input",26),l.qZA(),l.TgZ(62,"div",21),l.TgZ(63,"label",22),l._uU(64,"Instagram"),l.qZA(),l._UZ(65,"input",26),l.qZA(),l.TgZ(66,"div",21),l.TgZ(67,"label",22),l._uU(68,"YouTube"),l.qZA(),l._UZ(69,"input",26),l.qZA(),l.YNc(70,f2e,5,0,"div",27),l.qZA(),l.qZA(),l.TgZ(71,"div",28),l.TgZ(72,"button",29),l._uU(73,"Cancelar"),l.qZA(),l.TgZ(74,"button",30),l.NdJ("click",function(){return o.save()}),l._uU(75,"Salvar"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(76,"div",31),l.TgZ(77,"div",13),l.TgZ(78,"div",14),l.TgZ(79,"div",15),l.TgZ(80,"h5",16),l._uU(81,"Excluir de Inscritos"),l.qZA(),l._UZ(82,"button",17),l.qZA(),l.TgZ(83,"div",18),l.TgZ(84,"p"),l._uU(85,"Tem certeza que deseja excluir este inscrito?"),l.qZA(),l.qZA(),l.TgZ(86,"div",28),l.TgZ(87,"button",29),l._uU(88,"Cancelar"),l.qZA(),l.TgZ(89,"button",32),l.NdJ("click",function(){return o.delete()}),l._uU(90,"Sim"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(91,"div",33),l.TgZ(92,"div",34),l.TgZ(93,"div",14),l.TgZ(94,"div",15),l.TgZ(95,"h5",16),l._uU(96,"Editar Imagem"),l.qZA(),l._UZ(97,"button",17),l.qZA(),l.TgZ(98,"div",18),l.TgZ(99,"div",35),l.TgZ(100,"div",36),l.TgZ(101,"image-cropper",37),l.NdJ("imageCropped",function(f){return o.imageCropped(f)}),l.qZA(),l.qZA(),l.TgZ(102,"div",36),l._UZ(103,"img",38),l.qZA(),l.qZA(),l.qZA(),l.TgZ(104,"div",28),l.TgZ(105,"button",29),l._uU(106,"Cancelar"),l.qZA(),l.TgZ(107,"button",32),l.NdJ("click",function(){return o.upload()}),l._uU(108,"Salvar"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(6),l.Q6J("ngModel",o.search),l.xp6(18),l.Q6J("ngForOf",o.participants),l.xp6(4),l.Q6J("disabled",o.disable_prev),l.xp6(2),l.Q6J("disabled",o.disable_next),l.xp6(10),l.Q6J("formGroup",o.form),l.xp6(1),l.Q6J("ngIf",o.form.value.photoURL),l.xp6(4),l.Q6J("formControlName","name"),l.xp6(4),l.Q6J("formControlName","position"),l.xp6(4),l.Q6J("formControlName","description"),l.xp6(4),l.Q6J("formControlName","email"),l.xp6(4),l.Q6J("formControlName","facebook"),l.xp6(4),l.Q6J("formControlName","instagram"),l.xp6(4),l.Q6J("formControlName","youtube"),l.xp6(1),l.Q6J("ngIf",!o.form.value.photoURL),l.xp6(4),l.Q6J("disabled",o.form.disabled||o.form.invalid),l.xp6(27),l.Q6J("imageChangedEvent",o.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1),l.xp6(2),l.Q6J("src",o.croppedImage,l.LSH))},directives:[_6,gs,_s,Ye,bs,ys,b6,S1,Ma,Eu,_3],pipes:[o2e],styles:[".overlay[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;opacity:.7;transition:.3s ease;background-color:transparent;top:0;bottom:0;left:0;right:0}.overlay[_ngcontent-%COMP%]:hover{opacity:1}.container-image[_ngcontent-%COMP%]{position:relative;width:100%}.detele-icon[_ngcontent-%COMP%]{position:absolute;color:#fd1818;font-size:2rem;cursor:pointer;left:47%;bottom:35%}"]}),i})();const p2e=["inputFile"];function m2e(i,t){if(1&i){const e=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l.TgZ(6,"button",40),l.NdJ("click",function(){const f=l.CHM(e).$implicit;return l.oxw().setEvent(f)}),l._uU(7,"Editar"),l.qZA(),l.TgZ(8,"button",41),l.NdJ("click",function(){const f=l.CHM(e).$implicit;return l.oxw().setEvent(f)}),l._uU(9,"Excluir"),l.qZA(),l.qZA(),l.qZA()}if(2&i){const e=t.$implicit;l.xp6(2),l.Oqu(e.name),l.xp6(2),l.Oqu(e.email)}}function v2e(i,t){if(1&i){const e=l.EpF();l.TgZ(0,"div",42),l.TgZ(1,"div",43),l._UZ(2,"img",44),l.TgZ(3,"div",45),l.TgZ(4,"a",46),l.NdJ("click",function(){return l.CHM(e),l.oxw().deleteImage()}),l._UZ(5,"fa-icon",47),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&i){const e=l.oxw();l.xp6(2),l.Q6J("src",e.form.value.photoURL,l.LSH),l.xp6(3),l.Q6J("icon",e.faTrash)}}function g2e(i,t){if(1&i){const e=l.EpF();l.TgZ(0,"div",22),l.TgZ(1,"label",48),l._uU(2,"Imagem"),l.qZA(),l.TgZ(3,"input",49,50),l.NdJ("change",function(c){return l.CHM(e),l.oxw().fileChangeEvent(c)}),l.qZA(),l.qZA()}}const _2e=["inputFile"];function b2e(i,t){if(1&i){const e=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l.TgZ(6,"button",37),l.NdJ("click",function(){const f=l.CHM(e).$implicit;return l.oxw().setEvent(f)}),l._uU(7,"Editar"),l.qZA(),l.TgZ(8,"button",38),l.NdJ("click",function(){const f=l.CHM(e).$implicit;return l.oxw().setEvent(f)}),l._uU(9,"Excluir"),l.qZA(),l.qZA(),l.qZA()}if(2&i){const e=t.$implicit;l.xp6(2),l.Oqu(e.name),l.xp6(2),l.Oqu(e.link)}}function C2e(i,t){if(1&i){const e=l.EpF();l.TgZ(0,"div",39),l.TgZ(1,"div",40),l._UZ(2,"img",41),l.TgZ(3,"div",42),l.TgZ(4,"a",43),l.NdJ("click",function(){return l.CHM(e),l.oxw().deleteImage()}),l._UZ(5,"fa-icon",44),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&i){const e=l.oxw();l.xp6(2),l.Q6J("src",e.form.value.photoURL,l.LSH),l.xp6(3),l.Q6J("icon",e.faTrash)}}function M2e(i,t){if(1&i){const e=l.EpF();l.TgZ(0,"div",22),l.TgZ(1,"label",45),l._uU(2,"Imagem"),l.qZA(),l.TgZ(3,"input",46,47),l.NdJ("change",function(c){return l.CHM(e),l.oxw().fileChangeEvent(c)}),l.qZA(),l.qZA()}}const w2e=[{path:"",component:Wte,children:[{path:"",component:Pte},{path:"expositores",component:$1e}]},{path:"",component:Qte,children:[{path:"live/:id",component:BF},{path:"live",component:BF},{path:"blog",component:UY},{path:"blog/:id",component:VY}]},{path:"login",component:t2e},{path:"admin",component:Gte,canActivate:[(()=>{class i{constructor(e,o,c){this._authService=e,this._router=o,this._afAuth=c}canActivate(e,o){return new Promise((c,f)=>{this._afAuth.onAuthStateChanged(v=>{v?c(!0):(this._router.navigate(["/login"]),c(!1))})})}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(oy),l.LFG(Z),l.LFG(mu))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()],children:[{path:"",component:xF},{path:"events",component:xF},{path:"speakers",component:(()=>{class i{constructor(e,o,c){this._speakerService=e,this._formBuilder=o,this._uploadService=c,this._unsubscribeAll=new Nt.xQ,this.faTrash=vc,this.speakers=[],this.imageChangedEvent="",this.croppedImage="",this.search="",this.disable_next=!1,this.disable_prev=!0,this.first=[],this.firstInResponse=[],this.lastInResponse=[],this.limit=10}ngOnInit(){this.form=this._formBuilder.group({id:[""],name:["",[t2.required]],name_where:[""],position:[""],description:[""],facebook:[""],instagram:[""],youtube:[""],email:[""],photoURL:[""],thumbnailURL:[""]}),this.getAll()}setEvent(e){this.form.reset(),this.inputImage&&(this.inputImage.nativeElement.value=""),e&&this.form.patchValue(e)}getAll(){this._speakerService.getAll(this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!0,!1,!1)})}prev(){this._speakerService.prev(this.search,this.firstInResponse,this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!1,!0,!1)})}next(){this._speakerService.next(this.search,this.lastInResponse,this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!1,!1,!0)})}find(){this._speakerService.find(this.search,this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!0,!1,!1)})}pagination(e,o,c,f){if(e.length>0){this.disable_prev=!1,this.disable_next=!1,this.firstInResponse=e[0].payload.doc,this.lastInResponse=e[e.length-1].payload.doc;let v=e.map(_=>Object.assign({id:_.payload.doc.id},_.payload.doc.data()));this.speakers=v,o?(this.first=this.firstInResponse,this.disable_prev=!0):this.first.id===this.firstInResponse.id&&(this.disable_prev=!0),this.speakers.length<this.limit&&(this.disable_next=!0)}else o?(this.disable_prev=!0,this.disable_next=!0):c?this.disable_prev=!0:f&&(this.disable_next=!0)}save(){this.form.invalid||(this.form.disable(),this.form.patchValue({name_where:this.form.value.name.toLowerCase()}),this.form.value.id?this._speakerService.update(this.form.value.id,this.form.value).then(()=>{this.form.enable(),this.form.reset(),$("#editModal").modal("hide"),console.log("Update item successfully!")}).catch(e=>console.log(e)):this._speakerService.create(this.form.value).then(()=>{this.form.enable(),this.form.reset(),$("#editModal").modal("hide"),this.getAll(),console.log("Created new item successfully!")}).catch(e=>console.log(e)))}delete(){this._speakerService.delete(this.form.value.id).then(()=>{this.form.enable(),this.form.reset(),$("#deleteModal").modal("hide"),this.getAll(),console.log("Delete item successfully!")}).catch(e=>console.log(e))}upload(){const e=this.croppedImage,{downloadUrl$:o,uploadProgress$:c}=this._uploadService.pushFileToStorage(e);c.pipe(nt(this._unsubscribeAll)).subscribe(f=>{this.percentage=Math.round(f)}),o.pipe(nt(this._unsubscribeAll)).subscribe(f=>{const[v,_]=f.split(".jpeg");this.form.patchValue({photoURL:v+".jpeg?alt=media",thumbnailURL:v+"_60x60.jpeg?alt=media"}),this.inputImage.nativeElement.value="",$("#cropperModal").modal("hide")})}fileChangeEvent(e){$("#cropperModal").modal("show"),this.imageChangedEvent=e}imageCropped(e){this.croppedImage=e.base64}deleteImage(){this._uploadService.deleteFile(this.form.value.photoURL).then(()=>{this._uploadService.deleteFile(this.form.value.thumbnailURL).then(()=>{this.form.patchValue({photoURL:"",thumbnailURL:""}),this.form.value.id&&this.save()}).catch(e=>{this.form.patchValue({photoURL:"",thumbnailURL:""}),this.form.value.id&&this.save()})}).catch(e=>console.log(e))}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(RT),l.Y36(Cs),l.Y36(Au))},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-speakers"]],viewQuery:function(e,o){if(1&e&&l.Gf(p2e,5),2&e){let c;l.iGM(c=l.CRH())&&(o.inputImage=c.first)}},decls:105,vars:19,consts:[[1,"d-flex","bd-highlight","mb-3"],[1,"me-auto","bd-highlight"],[1,"bd-highlight"],["type","button","data-bs-toggle","modal","data-bs-target","#editModal",1,"btn","btn-outline-primary",3,"click"],[1,"pb-3","bg-highlight"],["type","search","placeholder","Pesquisar por nome...","aria-label","Search",1,"form-control",3,"ngModel","ngModelChange","keyup","change"],[1,"table-responsive"],[1,"table","table-sm","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["colspan","5",2,"text-align","end"],["type","button",1,"btn","btn-secondary","btn-sm","m-1",3,"disabled","click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"disabled","click"],["id","editModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true","data-bs-keyboard","false",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","g-3",3,"formGroup"],["class","col-md-12 text-center",4,"ngIf"],[1,"col-md-12"],[1,"form-label"],["type","text",1,"form-control",3,"formControlName"],["rows","4","cols","50",1,"form-control",3,"formControlName"],["type","email",1,"form-control",3,"formControlName"],["type","url",1,"form-control",3,"formControlName"],["class","col-md-12",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["id","deleteModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade"],["type","button",1,"btn","btn-primary",3,"click"],["id","cropperModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"row"],[1,"col-md-6"],["format","jpeg","resizeToWidth","360","onlyScaleDown","true","imageQuality","80","resizeToHeight","360",1,"croppedImage","p-0",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","imageCropped"],[1,"croppedImage",3,"src"],["type","button","data-bs-toggle","modal","data-bs-target","#editModal",1,"btn","btn-secondary","btn-sm",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger","btn-sm",2,"margin-left","10px",3,"click"],[1,"col-md-12","text-center"],[1,"container-image"],["alt","Image","width","150","height","150",1,"rounded-circle",3,"src"],[1,"overlay"],["title","Excluir Imagem",1,"play-icon",3,"click"],[1,"detele-icon",3,"icon"],["for","formFile",1,"form-label"],["type","file","accept",".jpg,.jpeg",1,"form-control",3,"change"],["inputFile",""]],template:function(e,o){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h2"),l._uU(3,"Palestrantes"),l.qZA(),l.qZA(),l.TgZ(4,"div",2),l.TgZ(5,"button",3),l.NdJ("click",function(){return o.setEvent(null)}),l._uU(6,"Novo"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(7,"div",4),l.TgZ(8,"input",5),l.NdJ("ngModelChange",function(f){return o.search=f})("keyup",function(){return o.find()})("change",function(){return o.find()}),l.qZA(),l.qZA(),l.TgZ(9,"div",6),l.TgZ(10,"table",7),l.TgZ(11,"thead"),l.TgZ(12,"tr"),l.TgZ(13,"th",8),l._uU(14,"Nome"),l.qZA(),l.TgZ(15,"th",8),l._uU(16,"E-mail"),l.qZA(),l.TgZ(17,"th",8),l._uU(18,"A\xe7\xf5es"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(19,"tbody"),l.YNc(20,m2e,10,2,"tr",9),l.qZA(),l.TgZ(21,"tfoot"),l.TgZ(22,"tr"),l.TgZ(23,"td",10),l.TgZ(24,"button",11),l.NdJ("click",function(){return o.prev()}),l._uU(25,"Anterior"),l.qZA(),l.TgZ(26,"button",12),l.NdJ("click",function(){return o.next()}),l._uU(27,"Pr\xf3ximo"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(28,"div",13),l.TgZ(29,"div",14),l.TgZ(30,"div",15),l.TgZ(31,"div",16),l.TgZ(32,"h5",17),l._uU(33,"Cadastro de Palestrantes"),l.qZA(),l._UZ(34,"button",18),l.qZA(),l.TgZ(35,"div",19),l.TgZ(36,"form",20),l.YNc(37,v2e,6,2,"div",21),l.TgZ(38,"div",22),l.TgZ(39,"label",23),l._uU(40,"Nome*"),l.qZA(),l._UZ(41,"input",24),l.qZA(),l.TgZ(42,"div",22),l.TgZ(43,"label",23),l._uU(44,"Posi\xe7\xe3o"),l.qZA(),l._UZ(45,"input",24),l.qZA(),l.TgZ(46,"div",22),l.TgZ(47,"label",23),l._uU(48,"Descri\xe7\xe3o"),l.qZA(),l._UZ(49,"textarea",25),l.qZA(),l.TgZ(50,"div",22),l.TgZ(51,"label",23),l._uU(52,"E-mail"),l.qZA(),l._UZ(53,"input",26),l.qZA(),l.TgZ(54,"div",22),l.TgZ(55,"label",23),l._uU(56,"Facebook"),l.qZA(),l._UZ(57,"input",27),l.qZA(),l.TgZ(58,"div",22),l.TgZ(59,"label",23),l._uU(60,"Instagram"),l.qZA(),l._UZ(61,"input",27),l.qZA(),l.TgZ(62,"div",22),l.TgZ(63,"label",23),l._uU(64,"YouTube"),l.qZA(),l._UZ(65,"input",27),l.qZA(),l.YNc(66,g2e,5,0,"div",28),l.qZA(),l.qZA(),l.TgZ(67,"div",29),l.TgZ(68,"button",30),l._uU(69,"Cancelar"),l.qZA(),l.TgZ(70,"button",31),l.NdJ("click",function(){return o.save()}),l._uU(71,"Salvar"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(72,"div",32),l.TgZ(73,"div",14),l.TgZ(74,"div",15),l.TgZ(75,"div",16),l.TgZ(76,"h5",17),l._uU(77,"Excluir de Palestrantes"),l.qZA(),l._UZ(78,"button",18),l.qZA(),l.TgZ(79,"div",19),l.TgZ(80,"p"),l._uU(81,"Tem certeza que deseja excluir este palestrante?"),l.qZA(),l.qZA(),l.TgZ(82,"div",29),l.TgZ(83,"button",30),l._uU(84,"Cancelar"),l.qZA(),l.TgZ(85,"button",33),l.NdJ("click",function(){return o.delete()}),l._uU(86,"Sim"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(87,"div",34),l.TgZ(88,"div",35),l.TgZ(89,"div",15),l.TgZ(90,"div",16),l.TgZ(91,"h5",17),l._uU(92,"Editar Imagem"),l.qZA(),l._UZ(93,"button",18),l.qZA(),l.TgZ(94,"div",19),l.TgZ(95,"div",36),l.TgZ(96,"div",37),l.TgZ(97,"image-cropper",38),l.NdJ("imageCropped",function(f){return o.imageCropped(f)}),l.qZA(),l.qZA(),l.TgZ(98,"div",37),l._UZ(99,"img",39),l.qZA(),l.qZA(),l.qZA(),l.TgZ(100,"div",29),l.TgZ(101,"button",30),l._uU(102,"Cancelar"),l.qZA(),l.TgZ(103,"button",33),l.NdJ("click",function(){return o.upload()}),l._uU(104,"Salvar"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(8),l.Q6J("ngModel",o.search),l.xp6(12),l.Q6J("ngForOf",o.speakers),l.xp6(4),l.Q6J("disabled",o.disable_prev),l.xp6(2),l.Q6J("disabled",o.disable_next),l.xp6(10),l.Q6J("formGroup",o.form),l.xp6(1),l.Q6J("ngIf",o.form.value.photoURL),l.xp6(4),l.Q6J("formControlName","name"),l.xp6(4),l.Q6J("formControlName","position"),l.xp6(4),l.Q6J("formControlName","description"),l.xp6(4),l.Q6J("formControlName","email"),l.xp6(4),l.Q6J("formControlName","facebook"),l.xp6(4),l.Q6J("formControlName","instagram"),l.xp6(4),l.Q6J("formControlName","youtube"),l.xp6(1),l.Q6J("ngIf",!o.form.value.photoURL),l.xp6(4),l.Q6J("disabled",o.form.disabled||o.form.invalid),l.xp6(27),l.Q6J("imageChangedEvent",o.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1),l.xp6(2),l.Q6J("src",o.croppedImage,l.LSH))},directives:[_6,gs,_s,Ye,bs,ys,b6,S1,Ma,Eu,_3],styles:[".overlay[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;opacity:.7;transition:.3s ease;background-color:transparent;top:0;bottom:0;left:0;right:0}.overlay[_ngcontent-%COMP%]:hover{opacity:1}.container-image[_ngcontent-%COMP%]{position:relative;width:100%}.detele-icon[_ngcontent-%COMP%]{position:absolute;color:#fd1818;font-size:2rem;cursor:pointer;left:47%;bottom:35%}"]}),i})()},{path:"participants",component:h2e},{path:"sponsors",component:(()=>{class i{constructor(e,o,c){this._sponsorService=e,this._formBuilder=o,this._uploadService=c,this._unsubscribeAll=new Nt.xQ,this.faTrash=vc,this.sponsors=[],this.imageChangedEvent="",this.croppedImage="",this.search="",this.disable_next=!1,this.disable_prev=!0,this.first=[],this.firstInResponse=[],this.lastInResponse=[],this.limit=10}ngOnInit(){this.form=this._formBuilder.group({id:[""],name:["",[t2.required]],name_where:[""],link:["",t2.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?")],photoURL:[""],thumbnailURL:[""]}),this.getAll()}setEvent(e){this.form.reset(),this.inputImage&&(this.inputImage.nativeElement.value=""),e&&this.form.patchValue(e)}getAll(){this._sponsorService.getAll(this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!0,!1,!1)})}prev(){this._sponsorService.prev(this.search,this.firstInResponse,this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!1,!0,!1)})}next(){this._sponsorService.next(this.search,this.lastInResponse,this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!1,!1,!0)})}find(){this._sponsorService.find(this.search,this.limit).snapshotChanges().pipe(nt(this._unsubscribeAll)).subscribe(e=>{this.pagination(e,!0,!1,!1)})}pagination(e,o,c,f){if(e.length>0){this.disable_prev=!1,this.disable_next=!1,this.firstInResponse=e[0].payload.doc,this.lastInResponse=e[e.length-1].payload.doc;let v=e.map(_=>Object.assign({id:_.payload.doc.id},_.payload.doc.data()));this.sponsors=v,o?(this.first=this.firstInResponse,this.disable_prev=!0):this.first.id===this.firstInResponse.id&&(this.disable_prev=!0),this.sponsors.length<this.limit&&(this.disable_next=!0)}else o?(this.disable_prev=!0,this.disable_next=!0):c?this.disable_prev=!0:f&&(this.disable_next=!0)}save(){this.form.invalid||(this.form.disable(),this.form.patchValue({name_where:this.form.value.name.toLowerCase()}),this.form.value.id?this._sponsorService.update(this.form.value.id,this.form.value).then(()=>{this.form.enable(),this.form.reset(),$("#editModal").modal("hide"),console.log("Update item successfully!")}).catch(e=>{this.form.enable(),console.log(e)}):this._sponsorService.create(this.form.value).then(()=>{this.form.enable(),this.form.reset(),$("#editModal").modal("hide"),this.getAll(),console.log("Created new item successfully!")}).catch(e=>{this.form.enable(),console.log(e)}))}delete(){this._sponsorService.delete(this.form.value.id).then(()=>{this.form.enable(),this.form.reset(),$("#deleteModal").modal("hide"),this.getAll(),console.log("Delete item successfully!")}).catch(e=>console.log(e))}upload(){const e=this.croppedImage,{downloadUrl$:o,uploadProgress$:c}=this._uploadService.pushFileToStorage(e);c.pipe(nt(this._unsubscribeAll)).subscribe(f=>{this.percentage=Math.round(f)}),o.pipe(nt(this._unsubscribeAll)).subscribe(f=>{const[v,_]=f.split(".jpeg");this.form.patchValue({photoURL:v+".jpeg?alt=media",thumbnailURL:v+"_60x60.jpeg?alt=media"}),this.inputImage.nativeElement.value="",$("#cropperModal").modal("hide")})}fileChangeEvent(e){$("#cropperModal").modal("show"),this.imageChangedEvent=e}imageCropped(e){this.croppedImage=e.base64}deleteImage(){this._uploadService.deleteFile(this.form.value.photoURL).then(()=>{this._uploadService.deleteFile(this.form.value.thumbnailURL).then(()=>{this.form.patchValue({photoURL:"",thumbnailURL:""}),this.form.value.id&&this.save()}).catch(e=>{this.form.patchValue({photoURL:"",thumbnailURL:""}),this.form.value.id&&this.save()})}).catch(e=>console.log(e))}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}return i.\u0275fac=function(e){return new(e||i)(l.Y36(ZT),l.Y36(Cs),l.Y36(Au))},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-sponsors"]],viewQuery:function(e,o){if(1&e&&l.Gf(_2e,5),2&e){let c;l.iGM(c=l.CRH())&&(o.inputImage=c.first)}},decls:85,vars:14,consts:[[1,"d-flex","bd-highlight","mb-3"],[1,"me-auto","bd-highlight"],[1,"bd-highlight"],["type","button","data-bs-toggle","modal","data-bs-target","#editModal",1,"btn","btn-outline-primary",3,"click"],[1,"pb-3","bg-highlight"],["type","search","placeholder","Pesquisar por nome...","aria-label","Search",1,"form-control",3,"ngModel","ngModelChange","keyup","change"],[1,"table-responsive"],[1,"table","table-sm","table-hover"],["scope","col"],[4,"ngFor","ngForOf"],["colspan","5",2,"text-align","end"],["type","button",1,"btn","btn-secondary","btn-sm","m-1",3,"disabled","click"],["type","button",1,"btn","btn-secondary","btn-sm",3,"disabled","click"],["id","editModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true","data-bs-keyboard","false",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"row","g-3",3,"formGroup"],["class","col-md-12 text-center",4,"ngIf"],[1,"col-md-12"],[1,"form-label"],["type","text",1,"form-control",3,"formControlName"],["class","col-md-12",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"disabled","click"],["id","deleteModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade"],["type","button",1,"btn","btn-primary",3,"click"],["id","cropperModal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"row"],[1,"col-md-6"],["format","jpeg","resizeToWidth","320","onlyScaleDown","true","imageQuality","100","resizeToHeight","160",1,"croppedImage2","p-0",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","imageCropped"],[1,"croppedImage2",3,"src"],["type","button","data-bs-toggle","modal","data-bs-target","#editModal",1,"btn","btn-secondary","btn-sm",3,"click"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger","btn-sm",2,"margin-left","10px",3,"click"],[1,"col-md-12","text-center"],[1,"container-image"],["alt","Image","width","160","height","80",1,"rounded-circle",3,"src"],[1,"overlay"],["title","Excluir Imagem",1,"play-icon",3,"click"],[1,"detele-icon",3,"icon"],["for","formFile",1,"form-label"],["type","file","accept",".jpg,.jpeg",1,"form-control",3,"change"],["inputFile",""]],template:function(e,o){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h2"),l._uU(3,"Patrocinadores"),l.qZA(),l.qZA(),l.TgZ(4,"div",2),l.TgZ(5,"button",3),l.NdJ("click",function(){return o.setEvent(null)}),l._uU(6,"Novo"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(7,"div",4),l.TgZ(8,"input",5),l.NdJ("ngModelChange",function(f){return o.search=f})("keyup",function(){return o.find()})("change",function(){return o.find()}),l.qZA(),l.qZA(),l.TgZ(9,"div",6),l.TgZ(10,"table",7),l.TgZ(11,"thead"),l.TgZ(12,"tr"),l.TgZ(13,"th",8),l._uU(14,"Nome"),l.qZA(),l.TgZ(15,"th",8),l._uU(16,"Link"),l.qZA(),l.TgZ(17,"th",8),l._uU(18,"A\xe7\xf5es"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(19,"tbody"),l.YNc(20,b2e,10,2,"tr",9),l.qZA(),l.TgZ(21,"tfoot"),l.TgZ(22,"tr"),l.TgZ(23,"td",10),l.TgZ(24,"button",11),l.NdJ("click",function(){return o.prev()}),l._uU(25,"Anterior"),l.qZA(),l.TgZ(26,"button",12),l.NdJ("click",function(){return o.next()}),l._uU(27,"Pr\xf3ximo"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(28,"div",13),l.TgZ(29,"div",14),l.TgZ(30,"div",15),l.TgZ(31,"div",16),l.TgZ(32,"h5",17),l._uU(33,"Cadastro de Patrocinadores"),l.qZA(),l._UZ(34,"button",18),l.qZA(),l.TgZ(35,"div",19),l.TgZ(36,"form",20),l.YNc(37,C2e,6,2,"div",21),l.TgZ(38,"div",22),l.TgZ(39,"label",23),l._uU(40,"Nome*"),l.qZA(),l._UZ(41,"input",24),l.qZA(),l.TgZ(42,"div",22),l.TgZ(43,"label",23),l._uU(44,"Link*"),l.qZA(),l._UZ(45,"input",24),l.qZA(),l.YNc(46,M2e,5,0,"div",25),l.qZA(),l.qZA(),l.TgZ(47,"div",26),l.TgZ(48,"button",27),l._uU(49,"Cancelar"),l.qZA(),l.TgZ(50,"button",28),l.NdJ("click",function(){return o.save()}),l._uU(51,"Salvar"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(52,"div",29),l.TgZ(53,"div",14),l.TgZ(54,"div",15),l.TgZ(55,"div",16),l.TgZ(56,"h5",17),l._uU(57,"Excluir de Patrocinador"),l.qZA(),l._UZ(58,"button",18),l.qZA(),l.TgZ(59,"div",19),l.TgZ(60,"p"),l._uU(61,"Tem certeza que deseja excluir este patrocinador?"),l.qZA(),l.qZA(),l.TgZ(62,"div",26),l.TgZ(63,"button",27),l._uU(64,"Cancelar"),l.qZA(),l.TgZ(65,"button",30),l.NdJ("click",function(){return o.delete()}),l._uU(66,"Sim"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(67,"div",31),l.TgZ(68,"div",32),l.TgZ(69,"div",15),l.TgZ(70,"div",16),l.TgZ(71,"h5",17),l._uU(72,"Editar Imagem"),l.qZA(),l._UZ(73,"button",18),l.qZA(),l.TgZ(74,"div",19),l.TgZ(75,"div",33),l.TgZ(76,"div",34),l.TgZ(77,"image-cropper",35),l.NdJ("imageCropped",function(f){return o.imageCropped(f)}),l.qZA(),l.qZA(),l.TgZ(78,"div",34),l._UZ(79,"img",36),l.qZA(),l.qZA(),l.qZA(),l.TgZ(80,"div",26),l.TgZ(81,"button",27),l._uU(82,"Cancelar"),l.qZA(),l.TgZ(83,"button",30),l.NdJ("click",function(){return o.upload()}),l._uU(84,"Salvar"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(8),l.Q6J("ngModel",o.search),l.xp6(12),l.Q6J("ngForOf",o.sponsors),l.xp6(4),l.Q6J("disabled",o.disable_prev),l.xp6(2),l.Q6J("disabled",o.disable_next),l.xp6(10),l.Q6J("formGroup",o.form),l.xp6(1),l.Q6J("ngIf",o.form.value.photoURL),l.xp6(4),l.Q6J("formControlName","name"),l.xp6(4),l.Q6J("formControlName","link"),l.xp6(1),l.Q6J("ngIf",!o.form.value.photoURL),l.xp6(4),l.Q6J("disabled",o.form.disabled||o.form.invalid),l.xp6(27),l.Q6J("imageChangedEvent",o.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",2),l.xp6(2),l.Q6J("src",o.croppedImage,l.LSH))},directives:[_6,gs,_s,Ye,bs,ys,b6,S1,Ma,Eu,_3],styles:[".overlay[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;opacity:.7;transition:.3s ease;background-color:transparent;top:0;bottom:0;left:0;right:0}.overlay[_ngcontent-%COMP%]:hover{opacity:1}.container-image[_ngcontent-%COMP%]{position:relative;width:100%}.detele-icon[_ngcontent-%COMP%]{position:absolute;color:#fd1818;font-size:2rem;cursor:pointer;left:47%;bottom:35%}"]}),i})()},{path:"blog",component:F1e}]}];let A2e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({imports:[[l7.forRoot(w2e,{anchorScrolling:"enabled"})],l7]}),i})(),E2e=(()=>{class i{constructor(){this.title="fenecan"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(e,o){1&e&&l._UZ(0,"router-outlet")},directives:[v1],styles:[""]}),i})();class x2e{constructor(t,e,o,c){this.keySelector=t,this.elementSelector=e,this.durationSelector=o,this.subjectSelector=c}call(t,e){return e.subscribe(new S2e(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class S2e extends p2.L{constructor(t,e,o,c,f){super(t),this.keySelector=e,this.elementSelector=o,this.durationSelector=c,this.subjectSelector=f,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(o){return void this.error(o)}this._group(t,e)}_group(t,e){let o=this.groups;o||(o=this.groups=new Map);let f,c=o.get(e);if(this.elementSelector)try{f=this.elementSelector(t)}catch(v){this.error(v)}else f=t;if(!c){c=this.subjectSelector?this.subjectSelector():new Nt.xQ,o.set(e,c);const v=new $F(e,c,this);if(this.destination.next(v),this.durationSelector){let _;try{_=this.durationSelector(new $F(e,c))}catch(M){return void this.error(M)}this.add(_.subscribe(new T2e(e,c,this)))}}c.closed||c.next(f)}_error(t){const e=this.groups;e&&(e.forEach((o,c)=>{o.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((e,o)=>{e.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class T2e extends p2.L{constructor(t,e,o){super(e),this.key=t,this.group=e,this.parent=o}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class $F extends Ot.y{constructor(t,e,o){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=o}_subscribe(t){const e=new Y6.w,{refCountSubscription:o,groupSubject:c}=this;return o&&!o.closed&&e.add(new N2e(o)),e.add(c.subscribe(t)),e}}class N2e extends Y6.w{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;!t.closed&&!this.closed&&(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}const QF=new l.OlP("angularfire2.analytics.analyticsCollectionEnabled"),YF=new l.OlP("angularfire2.analytics.appVersion"),JF=new l.OlP("angularfire2.analytics.appName"),KF=new l.OlP("angularfire2.analytics.debugMode"),XF=new l.OlP("angularfire2.analytics.config"),sy="dataLayer";let Ru=(()=>{class i{constructor(e,o,c,f,v,_,M,E){if(this.analyticsInitialized=new Promise(()=>{}),W4(M)){window[sy]=window[sy]||[];const I=(...U)=>"config"===U[0]&&"firebase"===U[2].origin&&(this.measurementId=U[1],!0),R=U=>{window.gtag=(...J)=>{U&&U(...J),"event"===J[0]&&J[2].send_to===this.measurementId&&(f&&(J[2].app_name=f),c&&(J[2].app_version=c)),v&&"undefined"!=typeof console&&console.info(...J),function(...le){window[sy].push(arguments)}(...J)}};window[sy].some(I)?(this.analyticsInitialized=Promise.resolve(),R()):this.analyticsInitialized=new Promise(U=>{R((...J)=>{I(...J)&&U()})}),_&&this.updateConfig(_),v&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const S=(0,$e.of)(void 0).pipe((0,wi.QV)(new k1.HU(E).outsideAngular),at(()=>W4(M)?E.runOutsideAngular(()=>B.e(636).then(B.bind(B,5636))):In.E),(0,f1.U)(()=>(0,k1.sI)("analytics","AngularFireAnalytics",e,()=>{const I=e.analytics();return!1===o&&I.setAnalyticsCollectionEnabled(!1),I},[e,o,_,v])),MS({bufferSize:1,refCount:!1}));return(0,k1.pX)(this,S,E)}updateConfig(e){return(0,H.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},e),{update:!0}))})}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(k1.Ot),l.LFG(QF,8),l.LFG(YF,8),l.LFG(JF,8),l.LFG(KF,8),l.LFG(XF,8),l.LFG(l.Lbi),l.LFG(l.R0b))},i.\u0275prov=l.Yz7({factory:function(){return new i(l.LFG(k1.Ot),l.LFG(QF,8),l.LFG(YF,8),l.LFG(JF,8),l.LFG(KF,8),l.LFG(XF,8),l.LFG(l.Lbi),l.LFG(l.R0b))},token:i,providedIn:"any"}),i})(),tU=(()=>{class i{constructor(e,o,c,f){if(this.disposables=[],x3(o))this.initialized=Promise.resolve();else{let v;this.initialized=f.runOutsideAngular(()=>new Promise(_=>v=_)),this.disposables=[c.authState.subscribe(_=>{e.setUserId(null==_?void 0:_.uid),v()}),c.credential.subscribe(_=>{if(_){const M=_.user.isAnonymous?"anonymous":_.additionalUserInfo.providerId;_.additionalUserInfo.isNewUser&&e.logEvent("sign_up",{method:M}),e.logEvent("login",{method:M})}})]}}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(Ru),l.LFG(l.Lbi),l.LFG(mu),l.LFG(l.R0b))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})();const nU="firebase_screen_id",qT="outlet",Vu="screen_class",rU="screen_name";let $2e=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const GT={},Q2e=i=>{const t=[i[Vu],i[qT]].join("#");if(GT.hasOwnProperty(t))return GT[t];{const e=$2e++;return GT[t]=e,e}};let Y2e=(()=>{class i{constructor(e,o,c,f,v,_,M){if(!o||!W4(v))return this;_.runOutsideAngular(()=>{const E=o.events.pipe(vn(S=>S instanceof Gi));this.disposable=E.pipe(at(S=>{var I;const O=(null===(I=o.parseUrl(o.url.replace(/(?:\().+(?:\))/g,xe=>xe.replace("://",":///"))).root.children[S.snapshot.outlet])||void 0===I?void 0:I.toString())||"",U=o.routerState.root.children.map(xe=>xe).find(xe=>xe.outlet===S.snapshot.outlet);if(!U)return(0,$e.of)(null);let J=U;for(;J.firstChild;)J=J.firstChild;const le=J.pathFromRoot.map(xe=>{var Re;return null===(Re=xe.routeConfig)||void 0===Re?void 0:Re.path}).filter(xe=>xe).join("/")||"/",ge={[rU]:le,page_path:`/${O}`,firebase_event_origin:"auto",firebase_screen:le,[qT]:S.snapshot.outlet};c&&(ge.page_title=c.getTitle());let Ae=U.component;if(Ae){if(Ae===Yt){let xe=S.snapshot;for(;xe.firstChild;)xe=xe.firstChild;Ae=xe.component}}else Ae=S.snapshot.component;if("string"==typeof Ae)return(0,$e.of)(Object.assign(Object.assign({},ge),{[Vu]:Ae}));if(Ae){const xe=f.resolveComponentFactory(Ae);return(0,$e.of)(Object.assign(Object.assign({},ge),{[Vu]:xe.selector}))}return(0,$e.of)(null)}),vn(S=>S),(0,f1.U)(S=>Object.assign({firebase_screen_class:S[Vu],[nU]:Q2e(S)},S)),function(i,t,e,o){return c=>c.lift(new x2e(i,undefined,undefined,undefined))}(S=>S[qT]),(0,Wt.zg)(S=>S.pipe(_z((I,R)=>JSON.stringify(I)===JSON.stringify(R)),W6(void 0),uv(),(0,f1.U)(([I,R])=>I?Object.assign({firebase_previous_class:I[Vu],firebase_previous_screen:I[rU],firebase_previous_id:I[nU]},R):R),at(I=>(0,H.mG)(this,void 0,void 0,function*(){return M&&(yield M.initialized),yield e.logEvent("screen_view",I)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(Ru),l.LFG(Z,8),l.LFG(Ha,8),l.LFG(l._Vd),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(tU,8))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac}),i})(),J2e=(()=>{class i{constructor(e,o,c){e.app.then(()=>{})}}return i.\u0275fac=function(e){return new(e||i)(l.LFG(Ru),l.LFG(Y2e,8),l.LFG(tU,8))},i.\u0275mod=l.oAB({type:i}),i.\u0275inj=l.cJS({providers:[Ru]}),i})();const iU_firebase={apiKey:"AIzaSyBIBAuNGDKGItXXR1ttWuz_aCRGCL0wRfs",authDomain:"fenecan-bd7a0.firebaseapp.com",projectId:"fenecan-bd7a0",storageBucket:"fenecan-bd7a0.appspot.com",messagingSenderId:"5670569241",appId:"1:5670569241:web:cbbbcc166bf7edc43d3188",measurementId:"G-LKJHE80V4L"};var K2e=B(2482);!function(i,t,e){(0,l.dwT)(i,void 0,void 0)}(B.n(K2e)());let ene=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=l.oAB({type:i,bootstrap:[E2e]}),i.\u0275inj=l.cJS({providers:[{provide:l.soG,useValue:"pt-br"},{provide:Be,useClass:g1},oy],imports:[[k1.hO.initializeApp(iU_firebase),zY,DY,J2e,T5,A2e,IJ,TH,JX,V1e,a2e.forRoot(),cte,Ote]]}),i})();(0,l.G48)(),a4().bootstrapModule(ene).catch(i=>console.error(i))},4762:(Ke,Ne,B)=>{"use strict";B.d(Ne,{ZT:()=>ve,pi:()=>L,mG:()=>oe,Jh:()=>re,XA:()=>q,CR:()=>K,ev:()=>ze});var l=function(he,de){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(me,fe){me.__proto__=fe}||function(me,fe){for(var De in fe)Object.prototype.hasOwnProperty.call(fe,De)&&(me[De]=fe[De])})(he,de)};function ve(he,de){if("function"!=typeof de&&null!==de)throw new TypeError("Class extends value "+String(de)+" is not a constructor or null");function me(){this.constructor=he}l(he,de),he.prototype=null===de?Object.create(de):(me.prototype=de.prototype,new me)}var L=function(){return(L=Object.assign||function(de){for(var me,fe=1,De=arguments.length;fe<De;fe++)for(var pe in me=arguments[fe])Object.prototype.hasOwnProperty.call(me,pe)&&(de[pe]=me[pe]);return de}).apply(this,arguments)};function oe(he,de,me,fe){return new(me||(me=Promise))(function(pe,s1){function u1(c1){try{n1(fe.next(c1))}catch(je){s1(je)}}function gt(c1){try{n1(fe.throw(c1))}catch(je){s1(je)}}function n1(c1){c1.done?pe(c1.value):function(pe){return pe instanceof me?pe:new me(function(s1){s1(pe)})}(c1.value).then(u1,gt)}n1((fe=fe.apply(he,de||[])).next())})}function re(he,de){var fe,De,pe,s1,me={label:0,sent:function(){if(1&pe[0])throw pe[1];return pe[1]},trys:[],ops:[]};return s1={next:u1(0),throw:u1(1),return:u1(2)},"function"==typeof Symbol&&(s1[Symbol.iterator]=function(){return this}),s1;function u1(n1){return function(c1){return function(n1){if(fe)throw new TypeError("Generator is already executing.");for(;me;)try{if(fe=1,De&&(pe=2&n1[0]?De.return:n1[0]?De.throw||((pe=De.return)&&pe.call(De),0):De.next)&&!(pe=pe.call(De,n1[1])).done)return pe;switch(De=0,pe&&(n1=[2&n1[0],pe.value]),n1[0]){case 0:case 1:pe=n1;break;case 4:return me.label++,{value:n1[1],done:!1};case 5:me.label++,De=n1[1],n1=[0];continue;case 7:n1=me.ops.pop(),me.trys.pop();continue;default:if(!(pe=(pe=me.trys).length>0&&pe[pe.length-1])&&(6===n1[0]||2===n1[0])){me=0;continue}if(3===n1[0]&&(!pe||n1[1]>pe[0]&&n1[1]<pe[3])){me.label=n1[1];break}if(6===n1[0]&&me.label<pe[1]){me.label=pe[1],pe=n1;break}if(pe&&me.label<pe[2]){me.label=pe[2],me.ops.push(n1);break}pe[2]&&me.ops.pop(),me.trys.pop();continue}n1=de.call(he,me)}catch(c1){n1=[6,c1],De=0}finally{fe=pe=0}if(5&n1[0])throw n1[1];return{value:n1[0]?n1[1]:void 0,done:!0}}([n1,c1])}}}function q(he){var de="function"==typeof Symbol&&Symbol.iterator,me=de&&he[de],fe=0;if(me)return me.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&fe>=he.length&&(he=void 0),{value:he&&he[fe++],done:!he}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}function K(he,de){var me="function"==typeof Symbol&&he[Symbol.iterator];if(!me)return he;var De,s1,fe=me.call(he),pe=[];try{for(;(void 0===de||de-- >0)&&!(De=fe.next()).done;)pe.push(De.value)}catch(u1){s1={error:u1}}finally{try{De&&!De.done&&(me=fe.return)&&me.call(fe)}finally{if(s1)throw s1.error}}return pe}function ze(he,de,me){if(me||2===arguments.length)for(var pe,fe=0,De=de.length;fe<De;fe++)(pe||!(fe in de))&&(pe||(pe=Array.prototype.slice.call(de,0,fe)),pe[fe]=de[fe]);return he.concat(pe||Array.prototype.slice.call(de))}},1856:Ke=>{function Ne(B){return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+B+"'");throw l.code="MODULE_NOT_FOUND",l})}Ne.keys=()=>[],Ne.resolve=Ne,Ne.id=1856,Ke.exports=Ne}},Ke=>{Ke(Ke.s=4332)}]);